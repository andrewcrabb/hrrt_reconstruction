Input files...
/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram
mkdir: cannot create directory `log': File exists
mkdir: cannot create directory `QC': File exists
ErgRatio is: 14
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM
-rwx------. 1 rahmim users 30523392 2010-11-19 15:19 /home/rahmim/motion_studies/GAMBLE_AKAIA//Scan-Blank-25745-2009.7.30.6.50.52_TX.s
-rw-------. 1 rahmim users 30523392 2010-11-17 11:43 /home/rahmim/motion_studies/GAMBLE_AKAIA//GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.s
-rw-r--r--. 1 rahmim users 13565952 2010-12-01 17:46 GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_before_TV3D.i
Starting motion qc
converting V7.0 dose start time encoding

 frame_info[0].trues: 108660.000000
 frame_info[1].trues: 3770595.000000
 frame_info[2].trues: 7108980.000000
 frame_info[3].trues: 7946565.000000
 frame_info[4].trues: 17001990.000000
 frame_info[5].trues: 17693610.000000
 frame_info[6].trues: 18068220.000000
 frame_info[7].trues: 18210120.000000
 frame_info[8].trues: 36468300.000000
 frame_info[9].trues: 36502560.000000
 frame_info[10].trues: 36133920.000000
 frame_info[11].trues: 70456320.000000
 frame_info[12].trues: 67555920.000000
 frame_info[13].trues: 125289600.000000
 frame_info[14].trues: 112843920.000000
 frame_info[15].trues: 100705440.000000
 frame_info[16].trues: 89833200.000000
 frame_info[17].trues: 80375040.000000
 frame_info[18].trues: 88366500.000000
 frame_info[19].trues: 76638300.000000
 frame_info[20].trues: 66517800.000000
 frame_info[21].trues: 57186000.000000
 frame_info[22].trues: 49382700.000000
 frame_info[23].trues: 42511800.000000
 frame_info[24].trues: 35688600.000000
 frame_info[25].trues: 30210300.000000
 frame_info[26].trues: 25859400.000000
 frame_info[27].trues: 21986100.000000
 frame_info[28].trues: 18561600.000000
 frame_info[29].trues: 15767700.000000


 start_frame: 4, end_frame:29, ref_frame:18 










 fname: GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_6mm.v






converting V7.0 dose start time encoding
Smoothing frame 1
Smoothing frame 2
Smoothing frame 3
Smoothing frame 4
Smoothing frame 5
Smoothing frame 6
Smoothing frame 7
Smoothing frame 8
Smoothing frame 9
Smoothing frame 10
Smoothing frame 11
Smoothing frame 12
Smoothing frame 13
Smoothing frame 14
Smoothing frame 15
Smoothing frame 16
Smoothing frame 17
Smoothing frame 18
Smoothing frame 19
Smoothing frame 20
Smoothing frame 21
Smoothing frame 22
Smoothing frame 23
Smoothing frame 24
Smoothing frame 25
Smoothing frame 26
Smoothing frame 27
Smoothing frame 28
Smoothing frame 29
Smoothing frame 30
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr4.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr5.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr6.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr7.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr8.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr9.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr10.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr11.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr12.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr13.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr14.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr15.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr16.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr17.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr19.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr20.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr21.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr22.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr23.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr24.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr25.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr26.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr27.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr28.air' will be overwritten by the output of this program
ecat_do_alignlinear.c: 64: 
WARNING: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_HRRTcode_MAP0_u9B_noAttennoScatter128B_fr29.air' will be overwritten by the output of this program
14
Starting motion correction

 lber values is: 14 

 frame_info[0].trues: 108660.000000
 frame_info[1].trues: 3770592.000000
 frame_info[2].trues: 7108992.000000
 frame_info[3].trues: 7946558.000000
 frame_info[4].trues: 17001990.000000
 frame_info[5].trues: 17693592.000000
 frame_info[6].trues: 18068242.000000
 frame_info[7].trues: 18210118.000000
 frame_info[8].trues: 36468258.000000
 frame_info[9].trues: 36502583.000000
 frame_info[10].trues: 36133877.000000
 frame_info[11].trues: 70456341.000000
 frame_info[12].trues: 67555855.000000
 frame_info[13].trues: 125289615.000000
 frame_info[14].trues: 112843843.000000
 frame_info[15].trues: 100705433.000000
 frame_info[16].trues: 89833150.000000
 frame_info[17].trues: 80375219.000000
 frame_info[18].trues: 88366535.000000
 frame_info[19].trues: 76638306.000000
 frame_info[20].trues: 66517806.000000
 frame_info[21].trues: 57186234.000000
 frame_info[22].trues: 49382604.000000
 frame_info[23].trues: 42511804.000000
 frame_info[24].trues: 35688602.000000
 frame_info[25].trues: 30210380.000000
 frame_info[26].trues: 25859598.000000
 frame_info[27].trues: 21986065.000000
 frame_info[28].trues: 18561613.000000
 frame_info[29].trues: 15767680.000000


 start_frame: 4, end_frame:29, ref_frame:18 



 frame: 4 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 5 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 6 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 7 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 8 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 9 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 10 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 11 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 12 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 13 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 14 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 15 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 16 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 17 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 19 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 20 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 21 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 22 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 23 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 24 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 25 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 26 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 27 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 28 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)

 frame: 29 
 ecat_reslice GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.air GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.i -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -o -k
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
using GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i.hdr header for GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i data file
Memory allocation error. (AIR_MEMORY_ALLOCATION_ERROR)
12:35:52.026879 unknown (0x)    memory: 0 MByte
12:35:52.026977 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
12:35:52.027022 Revision: 275.1
12:35:52.027077 current date and time (GMT): Sat Dec  4 17:35:52 2010
12:35:52.027131 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
12:35:52.027211 free memory in memory controller: 9541.25 MByte
12:35:52.027353 memory access pattern found
12:35:52.027400 free memory in memory controller: 9541.25 MByte
12:35:52.027476 Default crystalLayerBackgroundErgRatio: 12,12
12:35:52.027530 Specified crystalLayerBackgroundErgRatio: 14,14
12:35:52.027834 calculate sinogram for 1 matrix
12:35:52.027880  loading the 3d emission scan (matrix 0)
12:35:52.027923   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0.tr.s'
12:35:52.027962    matrix number=0
12:35:53.020748    RhoSamples=256
12:35:53.020881    BinSizeRho=1.21875mm
12:35:53.020927    ThetaSamples=288
12:35:53.020971    mash factor=0
12:35:53.021017    plane separation=1.21875mm
12:35:53.021062    axes=8
12:35:53.021128    axis table=2209 {207,394,358,322,286,250,214,178}
12:35:53.021173    span=9
12:35:53.021217    maximum ring difference=67
12:35:53.021273    intrinsic tilt=0 degrees
12:35:53.021319    bed position=0mm
12:35:53.021365    scan start time=0 sec
12:35:53.021416    scan frame duration=0 sec (0 min)
12:35:53.021467    scan gate duration=0 sec (0 min)
12:35:53.021513    isotope halflife=0 sec
12:35:53.021558    lld=400 KeV
12:35:53.021601    uld=650 KeV
12:35:53.021641    corrections applied=
12:35:53.021702  calculating the 3d normalisation scan (matrix 0)
12:35:53.021757   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
12:35:54.011163    matrix number=0
12:35:54.011267    RhoSamples=256
12:35:54.011320    BinSizeRho=1.21875mm
12:35:54.011359    ThetaSamples=288
12:35:54.011396    mash factor=0
12:35:54.011435    plane separation=1.21875mm
12:35:54.011473    axes=8
12:35:54.011527    axis table=2209 {207,394,358,322,286,250,214,178}
12:35:54.011565    span=9
12:35:54.011602    maximum ring difference=67
12:35:54.011642    intrinsic tilt=0 degrees
12:35:54.011682    bed position=0mm
12:35:54.011723    scan start time=0 sec
12:35:54.011766    scan frame duration=0 sec (0 min)
12:35:54.011809    scan gate duration=0 sec (0 min)
12:35:54.011888    isotope halflife=0 sec
12:35:54.011927    lld=400 KeV
12:35:54.011985    uld=650 KeV
12:35:54.012019    corrections applied=
12:35:54.012060  normalize 3d emission
12:35:54.012095   multiply sinograms
12:35:55.036200  normalization based gap filling
12:35:55.037000    fill 207 planes 8 threads
12:35:55.013906    fill 394 planes 8 threads
12:35:56.010220    fill 358 planes 8 threads
12:35:56.063937    fill 322 planes 8 threads
12:35:56.003628    fill 286 planes 8 threads
12:35:56.037449    fill 250 planes 8 threads
12:35:56.049984    fill 214 planes 8 threads
12:35:57.030020    fill 178 planes 8 threads
12:35:57.015371   bed position in emission=0mm
12:35:57.015542   bed position in u-map=0mm
12:35:57.015625   bed position in acf=0mm
12:35:57.015684  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i
12:35:57.015735   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i'
12:35:57.015794    matrix number=0
12:35:57.032484    XYSamples=128
12:35:57.032645    DeltaXY=2.4375mm
12:35:57.032695    ZSamples=207
12:35:57.032750    DeltaZ=1.21875mm
12:35:57.032793    corrections applied=
12:35:57.032834    u-map data=yes
12:35:57.032883    bed position=0mm
12:35:57.032939    scan start time=0 sec
12:35:57.032998    scan frame duration=0 sec (0 min)
12:35:57.033059    scan gate duration=0 sec (0 min)
12:35:57.033110    isotope halflife=0 sec
12:35:57.033156    lld=0 KeV
12:35:57.033201    uld=0 KeV
12:35:57.033249  loading the acf (matrix 0)
12:35:57.033304   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a'
12:35:57.033354    matrix number=0
12:35:58.025653    RhoSamples=256
12:35:58.025774    BinSizeRho=1.21875mm
12:35:58.025820    ThetaSamples=288
12:35:58.025860    mash factor=0
12:35:58.025901    plane separation=1.21875mm
12:35:58.025941    axes=8
12:35:58.026000    axis table=2209 {207,394,358,322,286,250,214,178}
12:35:58.026043    span=9
12:35:58.026082    maximum ring difference=67
12:35:58.026125    intrinsic tilt=0 degrees
12:35:58.026168    bed position=0mm
12:35:58.026209    scan start time=0 sec
12:35:58.026255    scan frame duration=0 sec (0 min)
12:35:58.026302    scan gate duration=0 sec (0 min)
12:35:58.026344    isotope halflife=0 sec
12:35:58.026393    lld=400 KeV
12:35:58.026435    uld=650 KeV
12:35:58.026472    corrections applied=
12:35:58.026535  replace values below 1 by 1
12:35:58.048274  estimate scatter sinogram
12:35:58.062833   counts in image: min=0  max=0.156152  total=53556.4
12:35:58.062988   start single-slice rebinning from 256x288x2209 to 256x288x207
12:35:58.063031   initialize SSR
12:35:58.063072    RhoSamples=256
12:35:58.063113    ThetaSamples=288
12:35:58.063154    axes=8
12:35:58.063213    axis table=2209 {207,394,358,322,286,250,214,178}
12:35:58.060837    skip 2 planes at each side of a segment
12:35:58.060957    calculate e*n*a of axis 0 (skip 2 border planes)
12:35:58.061004     calculate axis 0 of corrected sinogram
12:35:58.052551    calculate single-slice rebinning of axis 0
12:35:58.052671    ssr 203 planes
12:35:58.042575    calculate e*n*a of axis 1 (skip 2 border planes)
12:35:58.042690     calculate axis 1 of corrected sinogram
12:35:58.012116    calculate single-slice rebinning of axis 1
12:35:58.012238    ssr 193 planes
12:35:58.027676    calculate e*n*a of axis 2 (skip 2 border planes)
12:35:58.027782     calculate axis 2 of corrected sinogram
12:35:59.025205    calculate single-slice rebinning of axis 2
12:35:59.025331    ssr 175 planes
12:35:59.033448    calculate e*n*a of axis 3 (skip 2 border planes)
12:35:59.033554     calculate axis 3 of corrected sinogram
12:35:59.026095    calculate single-slice rebinning of axis 3
12:35:59.026217    ssr 157 planes
12:35:59.027288    calculate e*n*a of axis 4 (skip 2 border planes)
12:35:59.027393     calculate axis 4 of corrected sinogram
12:35:59.064233    calculate single-slice rebinning of axis 4
12:35:59.064353    ssr 139 planes
12:35:59.057591    calculate e*n*a of axis 5 (skip 2 border planes)
12:35:59.057697     calculate axis 5 of corrected sinogram
12:35:59.007996    calculate single-slice rebinning of axis 5
12:35:59.008120    ssr 121 planes
12:35:59.059155    calculate e*n*a of axis 6 (skip 2 border planes)
12:35:59.059260     calculate axis 6 of corrected sinogram
12:36:00.040938    calculate single-slice rebinning of axis 6
12:36:00.041060    ssr 103 planes
12:36:00.019458    calculate e*n*a of axis 7 (skip 2 border planes)
12:36:00.019566     calculate axis 7 of corrected sinogram
12:36:00.058430    calculate single-slice rebinning of axis 7
12:36:00.058546    ssr 85 planes
12:36:00.029080    normalize sinogram
12:36:00.012500   finished single-slice rebinning in 1.94922 sec
12:36:00.012623   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
12:36:00.012684    XYSamples=128
12:36:00.012728    DeltaXY=2.4375mm
12:36:00.012769    RhoSamples=256
12:36:00.012826    BinSizeRho=1.21875mm
12:36:00.012867    ThetaSamples=288
12:36:00.012931    plane separation=1.21875mm
12:36:00.012979    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
12:36:00.013023    subsets=8
12:36:00.013062    axes=1
12:36:00.013107    axis table=207 {207}
12:36:00.013147    algorithm=AW-OSEM
12:36:00.013185    use LUT=small
12:36:00.013355    initialize backprojector
12:36:00.013428     angle of segment 0: 0 degrees
12:36:00.013660     create mode 1 lookup-table for backprojector: 63 MByte
12:36:00.005258     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
12:36:00.054183     start calculation of normalization factors for AW-OSEM
12:36:00.054385      allocate 103.5 MByte for normalization factors
12:36:00.054438      start calculation of normalization factors for subset 0
12:36:00.003854       calculate segment 0, subset 0 of 1/a sinogram
12:36:00.027304       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
12:36:00.045911      finished calculation of normalization factors for subset 0 in 0.121094 sec
12:36:00.046009      start calculation of normalization factors for subset 1
12:36:00.060962       calculate segment 0, subset 1 of 1/a sinogram
12:36:00.013279       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
12:36:00.061062      finished calculation of normalization factors for subset 1 in 0.0820312 sec
12:36:00.061158      start calculation of normalization factors for subset 2
12:36:00.018235       calculate segment 0, subset 2 of 1/a sinogram
12:36:00.036085       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
12:36:00.060871      finished calculation of normalization factors for subset 2 in 0.128906 sec
12:36:00.060965      start calculation of normalization factors for subset 3
12:36:00.009901       calculate segment 0, subset 3 of 1/a sinogram
12:36:00.028265       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
12:36:00.022437      finished calculation of normalization factors for subset 3 in 0.09375 sec
12:36:00.022579      start calculation of normalization factors for subset 4
12:36:00.037104       calculate segment 0, subset 4 of 1/a sinogram
12:36:00.055009       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
12:36:00.003471      finished calculation of normalization factors for subset 4 in 0.113281 sec
12:36:00.003605      start calculation of normalization factors for subset 5
12:36:01.001203       calculate segment 0, subset 5 of 1/a sinogram
12:36:01.019673       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
12:36:01.023026      finished calculation of normalization factors for subset 5 in 0.101562 sec
12:36:01.023121      start calculation of normalization factors for subset 6
12:36:01.038139       calculate segment 0, subset 6 of 1/a sinogram
12:36:01.055971       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
12:36:01.060500      finished calculation of normalization factors for subset 6 in 0.101562 sec
12:36:01.060606      start calculation of normalization factors for subset 7
12:36:01.009845       calculate segment 0, subset 7 of 1/a sinogram
12:36:01.028151       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
12:36:01.023961      finished calculation of normalization factors for subset 7 in 0.09375 sec
12:36:01.024088     finished calculation of normalization factors in 0.835938 sec
12:36:01.024141    divide sinograms
12:36:01.053147    initialize forward-projector
12:36:01.053279     angles of segment 0
12:36:01.053323      plane 0-206: 0 degrees
12:36:01.053565     create mode 1 lookup-table for forward-projector: 126 MByte
12:36:01.014084     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
12:36:01.002789     start reconstruction from 256x288x207 to 128x128x207
12:36:01.002918      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
12:36:01.013989      start iteration 1, subset 0
12:36:02.056376      finished iteration 1, subset 0 in 0.320312 sec
12:36:02.056500      start iteration 1, subset 4
12:36:02.052911      finished iteration 1, subset 4 in 0.257812 sec
12:36:02.053023      start iteration 1, subset 2
12:36:02.005482      finished iteration 1, subset 2 in 0.28125 sec
12:36:02.005603      start iteration 1, subset 6
12:36:02.010213      finished iteration 1, subset 6 in 0.265625 sec
12:36:02.010334      start iteration 1, subset 1
12:36:03.013305      finished iteration 1, subset 1 in 0.28125 sec
12:36:03.013408      start iteration 1, subset 5
12:36:03.014481      finished iteration 1, subset 5 in 0.261719 sec
12:36:03.014583      start iteration 1, subset 3
12:36:03.063574      finished iteration 1, subset 3 in 0.246094 sec
12:36:03.063716      start iteration 1, subset 7
12:36:04.051397      finished iteration 1, subset 7 in 0.265625 sec
12:36:04.051514      start iteration 2, subset 0
12:36:04.055537      finished iteration 2, subset 0 in 0.265625 sec
12:36:04.055642      start iteration 2, subset 4
12:36:04.010661      finished iteration 2, subset 4 in 0.21875 sec
12:36:04.010766      start iteration 2, subset 2
12:36:04.025259      finished iteration 2, subset 2 in 0.210938 sec
12:36:04.025362      start iteration 2, subset 6
12:36:04.008625      finished iteration 2, subset 6 in 0.246094 sec
12:36:04.008730      start iteration 2, subset 1
12:36:05.012681      finished iteration 2, subset 1 in 0.21875 sec
12:36:05.012785      start iteration 2, subset 5
12:36:05.057860      finished iteration 2, subset 5 in 0.304688 sec
12:36:05.057965      start iteration 2, subset 3
12:36:05.032899      finished iteration 2, subset 3 in 0.238281 sec
12:36:05.033041      start iteration 2, subset 7
12:36:06.000188      finished iteration 2, subset 7 in 0.234375 sec
12:36:06.000305      start iteration 3, subset 0
12:36:06.047169      finished iteration 3, subset 0 in 0.242188 sec
12:36:06.047282      start iteration 3, subset 4
12:36:06.042624      finished iteration 3, subset 4 in 0.257812 sec
12:36:06.042727      start iteration 3, subset 2
12:36:06.006071      finished iteration 3, subset 2 in 0.292969 sec
12:36:06.006183      start iteration 3, subset 6
12:36:07.054322      finished iteration 3, subset 6 in 0.328125 sec
12:36:07.054427      start iteration 3, subset 1
12:36:07.021498      finished iteration 3, subset 1 in 0.292969 sec
12:36:07.021610      start iteration 3, subset 5
12:36:07.028347      finished iteration 3, subset 5 in 0.203125 sec
12:36:07.028452      start iteration 3, subset 3
12:36:07.012948      finished iteration 3, subset 3 in 0.246094 sec
12:36:07.013050      start iteration 3, subset 7
12:36:08.001284      finished iteration 3, subset 7 in 0.269531 sec
12:36:08.001418      mask 207 planes of image
12:36:08.016095      scale image with 1.21875
12:36:08.022706      scale image with 4
12:36:08.029467     finished reconstruction in 6.30469 sec
12:36:08.029560     forward projector: 3.19922 sec
12:36:08.029603     backprojector: 2.21094 sec
12:36:08.038607   finished reconstruction of emission in 7.82812 sec
12:36:08.038690   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
12:36:08.047235   scale image by 4.10256
12:36:08.063353   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:36:08.063469   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:36:08.063557   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:36:08.063618   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:36:08.063657   start scatter estimation
12:36:08.063724    calculate matrix for beta-spline interpolation
12:36:08.007552    start scatter simulation
12:36:08.007631     effective detector ring radius=234.5mm (234.5mm+0mm)
12:36:08.007676     DeltaXY=2.4375mm
12:36:08.007719     DeltaZ=1.21875mm
12:36:08.007772     LLD=400 keV
12:36:08.007814     ULD=650 keV
12:36:08.017333     search bounds of object in u-map
12:36:08.043119     x bounds (-x,+x)=-93.8413mm,84.0913mm
12:36:08.043234     y bounds (-y,+y)=-103.591mm,135.279mm
12:36:08.043282     z bounds (-z,+z)=-55.4519mm,124.921mm
12:36:08.043355     length of axial scatter fov=360.74mm (max. 360.74mm)
12:36:08.043405     scatter samples (x,y,z)=8,11,16
12:36:08.043458     image size (x,y,z)=177.933mm,238.87mm,360.74mm
12:36:08.043511     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.5463mm
12:36:08.024828     start simulation of scatter sinogram (19x34x10)
12:36:08.025061      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
12:36:08.025140      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
12:36:08.025320      thread 2: 401 samples in plane 1 inside of object (plane 29 of full sinogram)
12:36:08.025405      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
12:36:08.025559      thread 3: 484 samples in plane 2 inside of object (plane 50 of full sinogram)
12:36:08.028266      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
12:36:08.028541      thread 4: 517 samples in plane 3 inside of object (plane 71 of full sinogram)
12:36:08.030288      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
12:36:08.030624      thread 6: 518 samples in plane 5 inside of object (plane 113 of full sinogram)
12:36:08.039371      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
12:36:08.039625      thread 5: 517 samples in plane 4 inside of object (plane 92 of full sinogram)
12:36:08.044588      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
12:36:08.044839      thread 7: 516 samples in plane 6 inside of object (plane 134 of full sinogram)
12:36:08.018812      thread 1: 319 samples in plane 0 inside of object (plane 8 of full sinogram)
12:36:08.037835      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
12:36:08.038018      thread 8: 518 samples in plane 8 inside of object (plane 176 of full sinogram)
12:36:08.045231      thread 7: 518 samples in plane 7 inside of object (plane 155 of full sinogram)
12:36:08.032367      thread 8: 515 samples in plane 9 inside of object (plane 197 of full sinogram)
12:36:08.025724     finished simulation of scatter sinogram
12:36:08.038480    finished scatter simulation in 0.292969 sec
12:36:08.038602    calculate beta-spline interpolation from 17x34x10 to 256x288x207
12:36:09.003933   finished scatter estimation in 1.53125 sec
12:36:09.004025   convert 2d scatter sinogram into 3d sinogram
12:36:09.004071   calculate axial scatter scale factors (smoothed with boxcar 17)
12:36:09.004143    acf threshold=1.03
12:36:10.014518    calculate scale factors for segment 0
12:36:10.014629    scatter size 256x288x207
12:36:10.047232     apply lower and upper thresholds 0.25 and 2
12:36:10.047344    calculate scale factors for segment +1
12:36:10.047399    scatter size 256x288x197
12:36:10.003957     apply lower and upper thresholds 0.25 and 2
12:36:10.004060    calculate scale factors for segment -1
12:36:10.004114    scatter size 256x288x197
12:36:10.024652     apply lower and upper thresholds 0.25 and 2
12:36:10.024756    calculate scale factors for segment +2
12:36:10.024811    scatter size 256x288x179
12:36:10.035664     apply lower and upper thresholds 0.25 and 2
12:36:10.035770    calculate scale factors for segment -2
12:36:10.035836    scatter size 256x288x179
12:36:10.049922     apply lower and upper thresholds 0.25 and 2
12:36:10.050039    calculate scale factors for segment +3
12:36:10.050098    scatter size 256x288x161
12:36:10.046144     apply lower and upper thresholds 0.25 and 2
12:36:10.046255    calculate scale factors for segment -3
12:36:10.046311    scatter size 256x288x161
12:36:11.017718     apply lower and upper thresholds 0.25 and 2
12:36:11.017825    calculate scale factors for segment +4
12:36:11.017880    scatter size 256x288x143
12:36:11.058718     apply lower and upper thresholds 0.25 and 2
12:36:11.058821    calculate scale factors for segment -4
12:36:11.058877    scatter size 256x288x143
12:36:11.031634     apply lower and upper thresholds 0.25 and 2
12:36:11.031737    calculate scale factors for segment +5
12:36:11.031803    scatter size 256x288x125
12:36:11.056859     apply lower and upper thresholds 0.25 and 2
12:36:11.056969    calculate scale factors for segment -5
12:36:11.057027    scatter size 256x288x125
12:36:11.015555     apply lower and upper thresholds 0.25 and 2
12:36:11.015661    calculate scale factors for segment +6
12:36:11.015716    scatter size 256x288x107
12:36:11.029261     apply lower and upper thresholds 0.25 and 2
12:36:11.029370    calculate scale factors for segment -6
12:36:11.029428    scatter size 256x288x107
12:36:11.037579     apply lower and upper thresholds 0.25 and 2
12:36:11.037685    calculate scale factors for segment +7
12:36:11.037740    scatter size 256x288x89
12:36:11.032806     apply lower and upper thresholds 0.25 and 2
12:36:11.032907    calculate scale factors for segment -7
12:36:11.032962    scatter size 256x288x89
12:36:11.028843     apply lower and upper thresholds 0.25 and 2
12:36:18.009987   scatter fraction at first pass=464.442%
12:36:19.016931  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_sc_ATX.s
12:36:19.017062   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_sc_ATX.s (matrix 0)
12:36:19.036618   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_sc_ATX.h33 (matrix 0)
12:36:19.036879  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_sc_ATX.s
12:36:19.046827  
12:36:19.046927 gantry model values that may have been used:
12:36:19.046972  model number=328
12:36:19.047018  defaultElements()=256
12:36:19.047075  binSize()=0.121875cm
12:36:19.047120  defaultAngles()=288
12:36:19.047173  planeSep()=0.121875cm
12:36:19.047220  crystalRadius()=23.45cm
12:36:19.047265  sinogramDepthOfInteraction()=0cm
12:36:19.047312  sinogramIntrinsicTilt()=0 degrees
12:36:19.047352  isRingArch()=false
12:36:19.047391  isPETOnlyArch()=true
12:36:19.047435  defPlaneDefSpan3D()=3
12:36:19.047479  defRingDiffMax()=67
12:36:19.047522  bucketsPerRing()=unknown
12:36:19.047567  bucketRings()=1
12:36:19.047611  axialBlocks()=13
12:36:19.047655  transBlocks()=9
12:36:19.047699  axialCrystals()=8
12:36:19.047757  transCrystals()=8
12:36:19.047801  axialBlockGaps()=0
12:36:19.047845  transBlockGaps()=0
12:36:19.047888  directPlanes()=104
12:36:19.047933  defaultLLD()=400 keV
12:36:19.047977  defaultULD()=650 keV
12:36:19.048021  nCrystalLayers()=2
12:36:19.048068   crystalLayerMaterial(0)=LSO
12:36:19.048140   crystalLayerBackgroundErgRatio(0)=14%
12:36:19.048192   crystalLayerFWHMErgRes(0)=17%
12:36:19.048241   crystalLayerDepth(0)=1cm
12:36:19.048288   crystalLayerMaterial(1)=LYSO
12:36:19.048342   crystalLayerBackgroundErgRatio(1)=14%
12:36:19.048394   crystalLayerFWHMErgRes(1)=17%
12:36:19.048442   crystalLayerDepth(1)=1cm
12:36:19.048488  maxScatterZfOV()=40cm
12:36:19.048527  
12:36:19.027771 processing time 00:00:26.9375 (hh:mm:ss)
12:36:19.027887 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
12:36:19.027945 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
12:36:19.027990 memory access pattern: 411 entries
12:36:19.028029  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1697312768
12:36:21	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
12:36:21	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_sc_ATX.s
12:36:21	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0.s
12:36:21	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0.ch
12:36:21	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
12:36:21	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a
12:36:21	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_3D_ATX.i
12:36:21	  Method               : OPO3D
12:36:21	  Positivity constraint in sinogram space
12:36:21	  Max of sensitivity image      : 1.000000e+04
12:36:21	  Threshold for missing data    : 1.000000e-04
12:36:21	  Threshold for image update    : 1.000000e-10
12:36:21	  Maximum of image      	: 10000000000.000000
12:36:21	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:012:36:21	Model 999 
12:36:21	  Triming 3 planes at segment edges 
12:36:21	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
12:36:21	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_ra_smo.s , scan duration 15
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 17 iterations (37 msec)
1	640 msec   
2	3249 msec   
3	3379 msec   
4	3173 msec   
5	590 msec   
Smooth Delays computed in 11931 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 8343 msec.
Total time 20274 msec.
12:36:41	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file size 651460608
12:36:41	expected file size 256x288x2209(2209)
12:36:41	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file type 0
12:36:41	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
12:36:42	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
12:36:42	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_3D_ATX.i reconstruction started
12:36:42	  Prepare components of update equation from input data ...
12:36:43	  Read normalization and normalize delayed
12:36:43	  Apply normalization mask to prompt sinogram
12:36:46	  Preparation done in 4 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
12:37:12	  Iteration 1 in 84.750 sec
12:37:37	  Iteration 2 in 83.850 sec
12:38:02	  Iteration 3 in 84.230 sec
12:38:28	  Iteration 4 in 83.490 sec
12:38:53	  Iteration 5 in 84.270 sec
12:39:18	  Iteration 6 in 84.610 sec
12:39:44	  Iteration 7 in 83.570 sec
12:40:09	  Iteration 8 in 85.470 sec
12:40:34	  Iteration 9 in 83.940 sec
12:41:00	  Iteration 10 in 84.610 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_3D_ATX.i' complete
12:41:01	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_3D_ATX.i reconstruction done in 279 sec
12:41:02.007766 unknown (0x)    memory: 0 MByte
12:41:02.007880 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
12:41:02.007933 Revision: 275.1
12:41:02.008012 current date and time (GMT): Sat Dec  4 17:41:02 2010
12:41:02.008088 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
12:41:02.008178 free memory in memory controller: 9541.25 MByte
12:41:02.008342 memory access pattern found
12:41:02.008398 free memory in memory controller: 9541.25 MByte
12:41:02.008474 Default crystalLayerBackgroundErgRatio: 12,12
12:41:02.008536 Specified crystalLayerBackgroundErgRatio: 14,14
12:41:02.008909 calculate sinogram for 1 matrix
12:41:02.008955  loading the 3d emission scan (matrix 0)
12:41:02.008997   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1.tr.s'
12:41:02.009035    matrix number=0
12:41:02.027122    RhoSamples=256
12:41:02.027244    BinSizeRho=1.21875mm
12:41:02.027284    ThetaSamples=288
12:41:02.027321    mash factor=0
12:41:02.027361    plane separation=1.21875mm
12:41:02.027412    axes=8
12:41:02.027467    axis table=2209 {207,394,358,322,286,250,214,178}
12:41:02.027506    span=9
12:41:02.027543    maximum ring difference=67
12:41:02.027582    intrinsic tilt=0 degrees
12:41:02.027623    bed position=0mm
12:41:02.027662    scan start time=0 sec
12:41:02.027704    scan frame duration=0 sec (0 min)
12:41:02.027748    scan gate duration=0 sec (0 min)
12:41:02.027787    isotope halflife=0 sec
12:41:02.027825    lld=400 KeV
12:41:02.027861    uld=650 KeV
12:41:02.027894    corrections applied=
12:41:02.027947  calculating the 3d normalisation scan (matrix 0)
12:41:02.027995   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
12:41:03.014118    matrix number=0
12:41:03.014223    RhoSamples=256
12:41:03.014276    BinSizeRho=1.21875mm
12:41:03.014314    ThetaSamples=288
12:41:03.014351    mash factor=0
12:41:03.014389    plane separation=1.21875mm
12:41:03.014426    axes=8
12:41:03.014480    axis table=2209 {207,394,358,322,286,250,214,178}
12:41:03.014517    span=9
12:41:03.014554    maximum ring difference=67
12:41:03.014592    intrinsic tilt=0 degrees
12:41:03.014630    bed position=0mm
12:41:03.014668    scan start time=0 sec
12:41:03.014711    scan frame duration=0 sec (0 min)
12:41:03.014753    scan gate duration=0 sec (0 min)
12:41:03.014792    isotope halflife=0 sec
12:41:03.014829    lld=400 KeV
12:41:03.014865    uld=650 KeV
12:41:03.014899    corrections applied=
12:41:03.014940  normalize 3d emission
12:41:03.014984   multiply sinograms
12:41:04.030000  normalization based gap filling
12:41:04.030782    fill 207 planes 8 threads
12:41:04.060508    fill 394 planes 8 threads
12:41:05.031078    fill 358 planes 8 threads
12:41:05.028671    fill 322 planes 8 threads
12:41:05.042059    fill 286 planes 8 threads
12:41:05.036471    fill 250 planes 8 threads
12:41:05.052644    fill 214 planes 8 threads
12:41:06.027822    fill 178 planes 8 threads
12:41:06.005673   bed position in emission=0mm
12:41:06.005868   bed position in u-map=0mm
12:41:06.005965   bed position in acf=0mm
12:41:06.006034  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i
12:41:06.006091   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i'
12:41:06.006144    matrix number=0
12:41:06.023243    XYSamples=128
12:41:06.023378    DeltaXY=2.4375mm
12:41:06.023428    ZSamples=207
12:41:06.023477    DeltaZ=1.21875mm
12:41:06.023520    corrections applied=
12:41:06.023562    u-map data=yes
12:41:06.023609    bed position=0mm
12:41:06.023658    scan start time=0 sec
12:41:06.023721    scan frame duration=0 sec (0 min)
12:41:06.023778    scan gate duration=0 sec (0 min)
12:41:06.023827    isotope halflife=0 sec
12:41:06.023876    lld=0 KeV
12:41:06.023922    uld=0 KeV
12:41:06.023969  loading the acf (matrix 0)
12:41:06.024042   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a'
12:41:06.024101    matrix number=0
12:41:07.007460    RhoSamples=256
12:41:07.007592    BinSizeRho=1.21875mm
12:41:07.007634    ThetaSamples=288
12:41:07.007674    mash factor=0
12:41:07.007715    plane separation=1.21875mm
12:41:07.007756    axes=8
12:41:07.007814    axis table=2209 {207,394,358,322,286,250,214,178}
12:41:07.007855    span=9
12:41:07.007895    maximum ring difference=67
12:41:07.007937    intrinsic tilt=0 degrees
12:41:07.007978    bed position=0mm
12:41:07.008019    scan start time=0 sec
12:41:07.008066    scan frame duration=0 sec (0 min)
12:41:07.008116    scan gate duration=0 sec (0 min)
12:41:07.008160    isotope halflife=0 sec
12:41:07.008200    lld=400 KeV
12:41:07.008240    uld=650 KeV
12:41:07.008276    corrections applied=
12:41:07.008335  replace values below 1 by 1
12:41:07.029863  estimate scatter sinogram
12:41:07.044422   counts in image: min=0  max=0.156152  total=53556.4
12:41:07.044583   start single-slice rebinning from 256x288x2209 to 256x288x207
12:41:07.044622   initialize SSR
12:41:07.044663    RhoSamples=256
12:41:07.044704    ThetaSamples=288
12:41:07.044746    axes=8
12:41:07.044807    axis table=2209 {207,394,358,322,286,250,214,178}
12:41:07.041623    skip 2 planes at each side of a segment
12:41:07.041746    calculate e*n*a of axis 0 (skip 2 border planes)
12:41:07.041794     calculate axis 0 of corrected sinogram
12:41:07.032261    calculate single-slice rebinning of axis 0
12:41:07.032381    ssr 203 planes
12:41:07.021615    calculate e*n*a of axis 1 (skip 2 border planes)
12:41:07.021731     calculate axis 1 of corrected sinogram
12:41:07.059821    calculate single-slice rebinning of axis 1
12:41:07.059944    ssr 193 planes
12:41:07.010376    calculate e*n*a of axis 2 (skip 2 border planes)
12:41:07.010482     calculate axis 2 of corrected sinogram
12:41:08.010393    calculate single-slice rebinning of axis 2
12:41:08.010531    ssr 175 planes
12:41:08.018526    calculate e*n*a of axis 3 (skip 2 border planes)
12:41:08.018633     calculate axis 3 of corrected sinogram
12:41:08.013437    calculate single-slice rebinning of axis 3
12:41:08.013560    ssr 157 planes
12:41:08.013919    calculate e*n*a of axis 4 (skip 2 border planes)
12:41:08.014023     calculate axis 4 of corrected sinogram
12:41:08.053622    calculate single-slice rebinning of axis 4
12:41:08.053759    ssr 139 planes
12:41:08.046182    calculate e*n*a of axis 5 (skip 2 border planes)
12:41:08.046288     calculate axis 5 of corrected sinogram
12:41:08.063620    calculate single-slice rebinning of axis 5
12:41:08.063742    ssr 121 planes
12:41:08.048865    calculate e*n*a of axis 6 (skip 2 border planes)
12:41:08.048970     calculate axis 6 of corrected sinogram
12:41:09.027671    calculate single-slice rebinning of axis 6
12:41:09.027794    ssr 103 planes
12:41:09.005612    calculate e*n*a of axis 7 (skip 2 border planes)
12:41:09.005718     calculate axis 7 of corrected sinogram
12:41:09.045091    calculate single-slice rebinning of axis 7
12:41:09.045212    ssr 85 planes
12:41:09.015331    normalize sinogram
12:41:09.064499   finished single-slice rebinning in 1.95703 sec
12:41:09.064620   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
12:41:09.064682    XYSamples=128
12:41:09.064727    DeltaXY=2.4375mm
12:41:09.064770    RhoSamples=256
12:41:09.064812    BinSizeRho=1.21875mm
12:41:09.064854    ThetaSamples=288
12:41:09.064897    plane separation=1.21875mm
12:41:09.064945    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
12:41:09.064989    subsets=8
12:41:09.065030    axes=1
12:41:09.065075    axis table=207 {207}
12:41:09.065116    algorithm=AW-OSEM
12:41:09.065155    use LUT=small
12:41:09.065326    initialize backprojector
12:41:09.065410     angle of segment 0: 0 degrees
12:41:09.000108     create mode 1 lookup-table for backprojector: 63 MByte
12:41:09.056018     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
12:41:09.039543     start calculation of normalization factors for AW-OSEM
12:41:09.039750      allocate 103.5 MByte for normalization factors
12:41:09.039803      start calculation of normalization factors for subset 0
12:41:09.054072       calculate segment 0, subset 0 of 1/a sinogram
12:41:09.011914       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
12:41:09.060012      finished calculation of normalization factors for subset 0 in 0.152344 sec
12:41:09.060108      start calculation of normalization factors for subset 1
12:41:09.011894       calculate segment 0, subset 1 of 1/a sinogram
12:41:09.032308       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
12:41:09.010813      finished calculation of normalization factors for subset 1 in 0.210938 sec
12:41:09.010926      start calculation of normalization factors for subset 2
12:41:09.026747       calculate segment 0, subset 2 of 1/a sinogram
12:41:09.044880       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
12:41:09.039260      finished calculation of normalization factors for subset 2 in 0.160156 sec
12:41:09.039353      start calculation of normalization factors for subset 3
12:41:09.054874       calculate segment 0, subset 3 of 1/a sinogram
12:41:09.009244       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
12:41:10.036269      finished calculation of normalization factors for subset 3 in 0.144531 sec
12:41:10.036397      start calculation of normalization factors for subset 4
12:41:10.051681       calculate segment 0, subset 4 of 1/a sinogram
12:41:10.003919       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
12:41:10.019799      finished calculation of normalization factors for subset 4 in 0.113281 sec
12:41:10.019905      start calculation of normalization factors for subset 5
12:41:10.035138       calculate segment 0, subset 5 of 1/a sinogram
12:41:10.053126       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
12:41:10.015031      finished calculation of normalization factors for subset 5 in 0.128906 sec
12:41:10.015153      start calculation of normalization factors for subset 6
12:41:10.031346       calculate segment 0, subset 6 of 1/a sinogram
12:41:10.050086       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
12:41:10.012162      finished calculation of normalization factors for subset 6 in 0.128906 sec
12:41:10.012266      start calculation of normalization factors for subset 7
12:41:10.030094       calculate segment 0, subset 7 of 1/a sinogram
12:41:10.048048       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
12:41:10.064300      finished calculation of normalization factors for subset 7 in 0.117188 sec
12:41:10.064429     finished calculation of normalization factors in 1.15625 sec
12:41:10.064494    divide sinograms
12:41:10.032601    initialize forward-projector
12:41:10.032732     angles of segment 0
12:41:10.032775      plane 0-206: 0 degrees
12:41:10.033018     create mode 1 lookup-table for forward-projector: 126 MByte
12:41:11.032258     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
12:41:11.028766     start reconstruction from 256x288x207 to 128x128x207
12:41:11.028891      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
12:41:11.040013      start iteration 1, subset 0
12:41:11.013011      finished iteration 1, subset 0 in 0.300781 sec
12:41:11.013114      start iteration 1, subset 4
12:41:11.028154      finished iteration 1, subset 4 in 0.210938 sec
12:41:11.028259      start iteration 1, subset 2
12:41:11.016896      finished iteration 1, subset 2 in 0.25 sec
12:41:11.016998      start iteration 1, subset 6
12:41:12.024369      finished iteration 1, subset 6 in 0.289062 sec
12:41:12.024511      start iteration 1, subset 1
12:41:12.044471      finished iteration 1, subset 1 in 0.273438 sec
12:41:12.044586      start iteration 1, subset 5
12:41:12.043222      finished iteration 1, subset 5 in 0.261719 sec
12:41:12.043345      start iteration 1, subset 3
12:41:13.024687      finished iteration 1, subset 3 in 0.257812 sec
12:41:13.024808      start iteration 1, subset 7
12:41:13.029528      finished iteration 1, subset 7 in 0.269531 sec
12:41:13.029642      start iteration 2, subset 0
12:41:13.043240      finished iteration 2, subset 0 in 0.339844 sec
12:41:13.043343      start iteration 2, subset 4
12:41:13.059644      finished iteration 2, subset 4 in 0.277344 sec
12:41:13.059761      start iteration 2, subset 2
12:41:14.039043      finished iteration 2, subset 2 in 0.261719 sec
12:41:14.039146      start iteration 2, subset 6
12:41:14.036575      finished iteration 2, subset 6 in 0.257812 sec
12:41:14.036680      start iteration 2, subset 1
12:41:14.035932      finished iteration 2, subset 1 in 0.394531 sec
12:41:14.036036      start iteration 2, subset 5
12:41:15.064612      finished iteration 2, subset 5 in 0.304688 sec
12:41:15.064715      start iteration 2, subset 3
12:41:15.017719      finished iteration 2, subset 3 in 0.347656 sec
12:41:15.017829      start iteration 2, subset 7
12:41:15.064673      finished iteration 2, subset 7 in 0.308594 sec
12:41:15.064786      start iteration 3, subset 0
12:41:16.001448      finished iteration 3, subset 0 in 0.347656 sec
12:41:16.001548      start iteration 3, subset 4
12:41:16.051140      finished iteration 3, subset 4 in 0.246094 sec
12:41:16.051245      start iteration 3, subset 2
12:41:16.001939      finished iteration 3, subset 2 in 0.210938 sec
12:41:16.002063      start iteration 3, subset 6
12:41:16.057701      finished iteration 3, subset 6 in 0.316406 sec
12:41:16.057824      start iteration 3, subset 1
12:41:17.027399      finished iteration 3, subset 1 in 0.25 sec
12:41:17.027502      start iteration 3, subset 5
12:41:17.003963      finished iteration 3, subset 5 in 0.300781 sec
12:41:17.015002      start iteration 3, subset 3
12:41:17.027602      finished iteration 3, subset 3 in 0.210938 sec
12:41:17.027707      start iteration 3, subset 7
12:41:18.034918      finished iteration 3, subset 7 in 0.351562 sec
12:41:18.035056      mask 207 planes of image
12:41:18.049728      scale image with 1.21875
12:41:18.056290      scale image with 4
12:41:18.063105     finished reconstruction in 6.90234 sec
12:41:18.063207     forward projector: 3.59766 sec
12:41:18.063256     backprojector: 2.30469 sec
12:41:18.008379   finished reconstruction of emission in 8.74609 sec
12:41:18.008468   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
12:41:18.017526   scale image by 4.10256
12:41:18.033417   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:41:18.033550   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:41:18.033620   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:41:18.033682   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:41:18.033720   start scatter estimation
12:41:18.033773    calculate matrix for beta-spline interpolation
12:41:18.043107    start scatter simulation
12:41:18.043191     effective detector ring radius=234.5mm (234.5mm+0mm)
12:41:18.043235     DeltaXY=2.4375mm
12:41:18.043278     DeltaZ=1.21875mm
12:41:18.043331     LLD=400 keV
12:41:18.043374     ULD=650 keV
12:41:18.052905     search bounds of object in u-map
12:41:18.012985     x bounds (-x,+x)=-93.8413mm,84.0913mm
12:41:18.013104     y bounds (-y,+y)=-103.591mm,135.279mm
12:41:18.013153     z bounds (-z,+z)=-55.4519mm,124.921mm
12:41:18.013204     length of axial scatter fov=360.74mm (max. 360.74mm)
12:41:18.013263     scatter samples (x,y,z)=8,11,16
12:41:18.013318     image size (x,y,z)=177.933mm,238.87mm,360.74mm
12:41:18.013371     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.5463mm
12:41:18.059703     start simulation of scatter sinogram (19x34x10)
12:41:18.059943      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
12:41:18.060019      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
12:41:18.060190      thread 2: 401 samples in plane 1 inside of object (plane 29 of full sinogram)
12:41:18.065284      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
12:41:18.065404      thread 1: 319 samples in plane 0 inside of object (plane 8 of full sinogram)
12:41:18.065494      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
12:41:18.000044      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
12:41:18.000208      thread 4: 517 samples in plane 3 inside of object (plane 71 of full sinogram)
12:41:18.000310      thread 7: 516 samples in plane 6 inside of object (plane 134 of full sinogram)
12:41:18.003726      thread 5: 517 samples in plane 4 inside of object (plane 92 of full sinogram)
12:41:18.012043      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
12:41:18.012285      thread 3: 484 samples in plane 2 inside of object (plane 50 of full sinogram)
12:41:18.016046      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
12:41:18.016284      thread 8: 518 samples in plane 8 inside of object (plane 176 of full sinogram)
12:41:18.008248      thread 7: 518 samples in plane 7 inside of object (plane 155 of full sinogram)
12:41:18.013573      thread 8: 515 samples in plane 9 inside of object (plane 197 of full sinogram)
12:41:18.015386      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
12:41:18.015607      thread 6: 518 samples in plane 5 inside of object (plane 113 of full sinogram)
12:41:18.036129     finished simulation of scatter sinogram
12:41:18.047474    finished scatter simulation in 0.269531 sec
12:41:18.047597    calculate beta-spline interpolation from 17x34x10 to 256x288x207
12:41:19.032723   finished scatter estimation in 1.52344 sec
12:41:19.032809   convert 2d scatter sinogram into 3d sinogram
12:41:19.032853   calculate axial scatter scale factors (smoothed with boxcar 17)
12:41:19.032918    acf threshold=1.03
12:41:19.061935    calculate scale factors for segment 0
12:41:19.062041    scatter size 256x288x207
12:41:20.013177     apply lower and upper thresholds 0.25 and 2
12:41:20.013296    calculate scale factors for segment +1
12:41:20.013367    scatter size 256x288x197
12:41:20.036127     apply lower and upper thresholds 0.25 and 2
12:41:20.036224    calculate scale factors for segment -1
12:41:20.036285    scatter size 256x288x197
12:41:20.055520     apply lower and upper thresholds 0.25 and 2
12:41:20.055618    calculate scale factors for segment +2
12:41:20.055670    scatter size 256x288x179
12:41:20.060851     apply lower and upper thresholds 0.25 and 2
12:41:20.060950    calculate scale factors for segment -2
12:41:20.061001    scatter size 256x288x179
12:41:20.062725     apply lower and upper thresholds 0.25 and 2
12:41:20.062825    calculate scale factors for segment +3
12:41:20.062878    scatter size 256x288x161
12:41:20.052023     apply lower and upper thresholds 0.25 and 2
12:41:20.052121    calculate scale factors for segment -3
12:41:20.052173    scatter size 256x288x161
12:41:20.040114     apply lower and upper thresholds 0.25 and 2
12:41:20.040212    calculate scale factors for segment +4
12:41:20.040263    scatter size 256x288x143
12:41:21.063210     apply lower and upper thresholds 0.25 and 2
12:41:21.063307    calculate scale factors for segment -4
12:41:21.063359    scatter size 256x288x143
12:41:21.035668     apply lower and upper thresholds 0.25 and 2
12:41:21.035769    calculate scale factors for segment +5
12:41:21.035821    scatter size 256x288x125
12:41:21.060644     apply lower and upper thresholds 0.25 and 2
12:41:21.060742    calculate scale factors for segment -5
12:41:21.060802    scatter size 256x288x125
12:41:21.016566     apply lower and upper thresholds 0.25 and 2
12:41:21.016662    calculate scale factors for segment +6
12:41:21.016720    scatter size 256x288x107
12:41:21.025171     apply lower and upper thresholds 0.25 and 2
12:41:21.025272    calculate scale factors for segment -6
12:41:21.025324    scatter size 256x288x107
12:41:21.049101     apply lower and upper thresholds 0.25 and 2
12:41:21.049220    calculate scale factors for segment +7
12:41:21.049284    scatter size 256x288x89
12:41:21.051326     apply lower and upper thresholds 0.25 and 2
12:41:21.051425    calculate scale factors for segment -7
12:41:21.051477    scatter size 256x288x89
12:41:21.048099     apply lower and upper thresholds 0.25 and 2
12:41:29.021871   scatter fraction at first pass=64.2437%
12:41:29.039077  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_sc_ATX.s
12:41:29.039209   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_sc_ATX.s (matrix 0)
12:41:29.058516   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_sc_ATX.h33 (matrix 0)
12:41:29.058775  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_sc_ATX.s
12:41:29.002985  
12:41:29.003075 gantry model values that may have been used:
12:41:29.003122  model number=328
12:41:29.003169  defaultElements()=256
12:41:29.003225  binSize()=0.121875cm
12:41:29.003271  defaultAngles()=288
12:41:29.003323  planeSep()=0.121875cm
12:41:29.003380  crystalRadius()=23.45cm
12:41:29.003429  sinogramDepthOfInteraction()=0cm
12:41:29.003477  sinogramIntrinsicTilt()=0 degrees
12:41:29.003517  isRingArch()=false
12:41:29.003557  isPETOnlyArch()=true
12:41:29.003603  defPlaneDefSpan3D()=3
12:41:29.003648  defRingDiffMax()=67
12:41:29.003692  bucketsPerRing()=unknown
12:41:29.003737  bucketRings()=1
12:41:29.003782  axialBlocks()=13
12:41:29.003826  transBlocks()=9
12:41:29.003871  axialCrystals()=8
12:41:29.003915  transCrystals()=8
12:41:29.003960  axialBlockGaps()=0
12:41:29.004004  transBlockGaps()=0
12:41:29.004048  directPlanes()=104
12:41:29.004093  defaultLLD()=400 keV
12:41:29.004138  defaultULD()=650 keV
12:41:29.004184  nCrystalLayers()=2
12:41:29.004232   crystalLayerMaterial(0)=LSO
12:41:29.004305   crystalLayerBackgroundErgRatio(0)=14%
12:41:29.004357   crystalLayerFWHMErgRes(0)=17%
12:41:29.004414   crystalLayerDepth(0)=1cm
12:41:29.004462   crystalLayerMaterial(1)=LYSO
12:41:29.004518   crystalLayerBackgroundErgRatio(1)=14%
12:41:29.004570   crystalLayerFWHMErgRes(1)=17%
12:41:29.004620   crystalLayerDepth(1)=1cm
12:41:29.004668  maxScatterZfOV()=40cm
12:41:29.004707  
12:41:29.043933 processing time 00:00:27.9531 (hh:mm:ss)
12:41:29.044051 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
12:41:29.044110 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
12:41:29.044155 memory access pattern: 411 entries
12:41:29.044195  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 2269302784
12:41:31	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
12:41:31	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_sc_ATX.s
12:41:31	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1.s
12:41:31	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1.ch
12:41:31	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
12:41:31	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a
12:41:31	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_3D_ATX.i
12:41:31	  Method               : OPO3D
12:41:31	  Positivity constraint in sinogram space
12:41:31	  Max of sensitivity image      : 1.000000e+04
12:41:31	  Threshold for missing data    : 1.000000e-04
12:41:31	  Threshold for image update    : 1.000000e-10
12:41:31	  Maximum of image      	: 10000000000.000000
12:41:31	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:012:41:31	Model 999 
12:41:31	  Triming 3 planes at segment edges 
12:41:31	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
12:41:31	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_ra_smo.s , scan duration 15
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 16 iterations (35 msec)
1	562 msec   
2	3416 msec   
3	3841 msec   
4	3676 msec   
5	613 msec   
Smooth Delays computed in 12777 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4626 msec.
Total time 17403 msec.
12:41:49	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file size 651460608
12:41:49	expected file size 256x288x2209(2209)
12:41:49	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file type 0
12:41:49	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
12:41:49	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
12:41:49	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_3D_ATX.i reconstruction started
12:41:49	  Prepare components of update equation from input data ...
12:41:51	  Read normalization and normalize delayed
12:41:51	  Apply normalization mask to prompt sinogram
12:41:55	  Preparation done in 6 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
12:42:21	  Iteration 1 in 84.020 sec
12:42:46	  Iteration 2 in 84.530 sec
12:43:11	  Iteration 3 in 84.340 sec
12:43:37	  Iteration 4 in 84.270 sec
12:44:02	  Iteration 5 in 84.560 sec
12:44:27	  Iteration 6 in 85.140 sec
12:44:53	  Iteration 7 in 83.660 sec
12:45:18	  Iteration 8 in 84.180 sec
12:45:44	  Iteration 9 in 84.680 sec
12:46:09	  Iteration 10 in 84.330 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_3D_ATX.i' complete
12:46:11	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame1_3D_ATX.i reconstruction done in 278 sec
12:46:11.061009 unknown (0x)    memory: 0 MByte
12:46:11.061103 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
12:46:11.061148 Revision: 275.1
12:46:11.061199 current date and time (GMT): Sat Dec  4 17:46:11 2010
12:46:11.061253 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
12:46:11.061332 free memory in memory controller: 9541.25 MByte
12:46:11.061473 memory access pattern found
12:46:11.061535 free memory in memory controller: 9541.25 MByte
12:46:11.061604 Default crystalLayerBackgroundErgRatio: 12,12
12:46:11.061658 Specified crystalLayerBackgroundErgRatio: 14,14
12:46:11.061952 calculate sinogram for 1 matrix
12:46:11.061998  loading the 3d emission scan (matrix 0)
12:46:11.062041   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2.tr.s'
12:46:11.062081    matrix number=0
12:46:12.037084    RhoSamples=256
12:46:12.037212    BinSizeRho=1.21875mm
12:46:12.037258    ThetaSamples=288
12:46:12.037312    mash factor=0
12:46:12.037361    plane separation=1.21875mm
12:46:12.037406    axes=8
12:46:12.037470    axis table=2209 {207,394,358,322,286,250,214,178}
12:46:12.037533    span=9
12:46:12.037576    maximum ring difference=67
12:46:12.037620    intrinsic tilt=0 degrees
12:46:12.037665    bed position=0mm
12:46:12.037710    scan start time=0 sec
12:46:12.037759    scan frame duration=0 sec (0 min)
12:46:12.037808    scan gate duration=0 sec (0 min)
12:46:12.037853    isotope halflife=0 sec
12:46:12.037897    lld=400 KeV
12:46:12.037938    uld=650 KeV
12:46:12.037978    corrections applied=
12:46:12.038037  calculating the 3d normalisation scan (matrix 0)
12:46:12.038092   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
12:46:13.027130    matrix number=0
12:46:13.027232    RhoSamples=256
12:46:13.027285    BinSizeRho=1.21875mm
12:46:13.027322    ThetaSamples=288
12:46:13.027359    mash factor=0
12:46:13.027397    plane separation=1.21875mm
12:46:13.027434    axes=8
12:46:13.027488    axis table=2209 {207,394,358,322,286,250,214,178}
12:46:13.027527    span=9
12:46:13.027563    maximum ring difference=67
12:46:13.027601    intrinsic tilt=0 degrees
12:46:13.027640    bed position=0mm
12:46:13.027679    scan start time=0 sec
12:46:13.027721    scan frame duration=0 sec (0 min)
12:46:13.027764    scan gate duration=0 sec (0 min)
12:46:13.027802    isotope halflife=0 sec
12:46:13.027839    lld=400 KeV
12:46:13.027876    uld=650 KeV
12:46:13.027918    corrections applied=
12:46:13.027962  normalize 3d emission
12:46:13.027998   multiply sinograms
12:46:14.042992  normalization based gap filling
12:46:14.043807    fill 207 planes 8 threads
12:46:15.031268    fill 394 planes 8 threads
12:46:15.010918    fill 358 planes 8 threads
12:46:15.012714    fill 322 planes 8 threads
12:46:15.017690    fill 286 planes 8 threads
12:46:16.012838    fill 250 planes 8 threads
12:46:16.044033    fill 214 planes 8 threads
12:46:16.044945    fill 178 planes 8 threads
12:46:16.002659   bed position in emission=0mm
12:46:16.002835   bed position in u-map=0mm
12:46:16.002917   bed position in acf=0mm
12:46:16.002976  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i
12:46:16.003026   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i'
12:46:16.003072    matrix number=0
12:46:16.019546    XYSamples=128
12:46:16.019681    DeltaXY=2.4375mm
12:46:16.019729    ZSamples=207
12:46:16.019778    DeltaZ=1.21875mm
12:46:16.019820    corrections applied=
12:46:16.019862    u-map data=yes
12:46:16.019909    bed position=0mm
12:46:16.019957    scan start time=0 sec
12:46:16.020011    scan frame duration=0 sec (0 min)
12:46:16.020064    scan gate duration=0 sec (0 min)
12:46:16.020113    isotope halflife=0 sec
12:46:16.020159    lld=0 KeV
12:46:16.020205    uld=0 KeV
12:46:16.020251  loading the acf (matrix 0)
12:46:16.020306   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a'
12:46:16.020358    matrix number=0
12:46:17.063413    RhoSamples=256
12:46:17.063547    BinSizeRho=1.21875mm
12:46:17.063591    ThetaSamples=288
12:46:17.063631    mash factor=0
12:46:17.063672    plane separation=1.21875mm
12:46:17.063712    axes=8
12:46:17.063770    axis table=2209 {207,394,358,322,286,250,214,178}
12:46:17.063814    span=9
12:46:17.063854    maximum ring difference=67
12:46:17.063897    intrinsic tilt=0 degrees
12:46:17.063939    bed position=0mm
12:46:17.063980    scan start time=0 sec
12:46:17.064026    scan frame duration=0 sec (0 min)
12:46:17.064072    scan gate duration=0 sec (0 min)
12:46:17.064133    isotope halflife=0 sec
12:46:17.064173    lld=400 KeV
12:46:17.064212    uld=650 KeV
12:46:17.064250    corrections applied=
12:46:17.064308  replace values below 1 by 1
12:46:17.020680  estimate scatter sinogram
12:46:17.035273   counts in image: min=0  max=0.156152  total=53556.4
12:46:17.035449   start single-slice rebinning from 256x288x2209 to 256x288x207
12:46:17.035489   initialize SSR
12:46:17.035529    RhoSamples=256
12:46:17.035569    ThetaSamples=288
12:46:17.035609    axes=8
12:46:17.035668    axis table=2209 {207,394,358,322,286,250,214,178}
12:46:17.033022    skip 2 planes at each side of a segment
12:46:17.033144    calculate e*n*a of axis 0 (skip 2 border planes)
12:46:17.033207     calculate axis 0 of corrected sinogram
12:46:17.025522    calculate single-slice rebinning of axis 0
12:46:17.025643    ssr 203 planes
12:46:17.016904    calculate e*n*a of axis 1 (skip 2 border planes)
12:46:18.000049     calculate axis 1 of corrected sinogram
12:46:18.038552    calculate single-slice rebinning of axis 1
12:46:18.038693    ssr 193 planes
12:46:18.058365    calculate e*n*a of axis 2 (skip 2 border planes)
12:46:18.058471     calculate axis 2 of corrected sinogram
12:46:18.010452    calculate single-slice rebinning of axis 2
12:46:18.010575    ssr 175 planes
12:46:18.022123    calculate e*n*a of axis 3 (skip 2 border planes)
12:46:18.022232     calculate axis 3 of corrected sinogram
12:46:18.018582    calculate single-slice rebinning of axis 3
12:46:18.018704    ssr 157 planes
12:46:18.022510    calculate e*n*a of axis 4 (skip 2 border planes)
12:46:18.022615     calculate axis 4 of corrected sinogram
12:46:19.046062    calculate single-slice rebinning of axis 4
12:46:19.046184    ssr 139 planes
12:46:19.041812    calculate e*n*a of axis 5 (skip 2 border planes)
12:46:19.041919     calculate axis 5 of corrected sinogram
12:46:19.060591    calculate single-slice rebinning of axis 5
12:46:19.060729    ssr 121 planes
12:46:19.048540    calculate e*n*a of axis 6 (skip 2 border planes)
12:46:19.048644     calculate axis 6 of corrected sinogram
12:46:19.045557    calculate single-slice rebinning of axis 6
12:46:19.045679    ssr 103 planes
12:46:19.025432    calculate e*n*a of axis 7 (skip 2 border planes)
12:46:19.025554     calculate axis 7 of corrected sinogram
12:46:19.001101    calculate single-slice rebinning of axis 7
12:46:19.001222    ssr 85 planes
12:46:19.038569    normalize sinogram
12:46:19.024295   finished single-slice rebinning in 1.98828 sec
12:46:19.024430   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
12:46:19.024493    XYSamples=128
12:46:19.024537    DeltaXY=2.4375mm
12:46:19.024577    RhoSamples=256
12:46:19.024618    BinSizeRho=1.21875mm
12:46:19.024657    ThetaSamples=288
12:46:19.024698    plane separation=1.21875mm
12:46:19.024746    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
12:46:19.024786    subsets=8
12:46:19.024825    axes=1
12:46:19.024870    axis table=207 {207}
12:46:19.024909    algorithm=AW-OSEM
12:46:19.024947    use LUT=small
12:46:19.025116    initialize backprojector
12:46:19.025189     angle of segment 0: 0 degrees
12:46:19.025425     create mode 1 lookup-table for backprojector: 63 MByte
12:46:19.017693     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
12:46:19.001519     start calculation of normalization factors for AW-OSEM
12:46:19.001711      allocate 103.5 MByte for normalization factors
12:46:19.001762      start calculation of normalization factors for subset 0
12:46:19.016168       calculate segment 0, subset 0 of 1/a sinogram
12:46:19.039425       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
12:46:20.009074      finished calculation of normalization factors for subset 0 in 0.152344 sec
12:46:20.009176      start calculation of normalization factors for subset 1
12:46:20.024945       calculate segment 0, subset 1 of 1/a sinogram
12:46:20.042717       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
12:46:20.031964      finished calculation of normalization factors for subset 1 in 0.15625 sec
12:46:20.032061      start calculation of normalization factors for subset 2
12:46:20.047599       calculate segment 0, subset 2 of 1/a sinogram
12:46:20.065291       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
12:46:20.062730      finished calculation of normalization factors for subset 2 in 0.160156 sec
12:46:20.062824      start calculation of normalization factors for subset 3
12:46:20.012048       calculate segment 0, subset 3 of 1/a sinogram
12:46:20.030097       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
12:46:20.047408      finished calculation of normalization factors for subset 3 in 0.117188 sec
12:46:20.047551      start calculation of normalization factors for subset 4
12:46:20.063614       calculate segment 0, subset 4 of 1/a sinogram
12:46:20.015709       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
12:46:20.027094      finished calculation of normalization factors for subset 4 in 0.109375 sec
12:46:20.027188      start calculation of normalization factors for subset 5
12:46:20.041282       calculate segment 0, subset 5 of 1/a sinogram
12:46:20.058934       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
12:46:20.004104      finished calculation of normalization factors for subset 5 in 0.109375 sec
12:46:20.004197      start calculation of normalization factors for subset 6
12:46:20.019500       calculate segment 0, subset 6 of 1/a sinogram
12:46:20.037515       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
12:46:20.040736      finished calculation of normalization factors for subset 6 in 0.101562 sec
12:46:20.040851      start calculation of normalization factors for subset 7
12:46:20.056020       calculate segment 0, subset 7 of 1/a sinogram
12:46:20.008704       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
12:46:20.011160      finished calculation of normalization factors for subset 7 in 0.101562 sec
12:46:20.011283     finished calculation of normalization factors in 1.00781 sec
12:46:20.011324    divide sinograms
12:46:20.043280    initialize forward-projector
12:46:20.043404     angles of segment 0
12:46:20.043447      plane 0-206: 0 degrees
12:46:20.043691     create mode 1 lookup-table for forward-projector: 126 MByte
12:46:21.047559     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
12:46:21.043510     start reconstruction from 256x288x207 to 128x128x207
12:46:21.043671      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
12:46:21.001004      start iteration 1, subset 0
12:46:21.026107      finished iteration 1, subset 0 in 0.285156 sec
12:46:21.026210      start iteration 1, subset 4
12:46:22.015442      finished iteration 1, subset 4 in 0.269531 sec
12:46:22.015543      start iteration 1, subset 2
12:46:22.019264      finished iteration 1, subset 2 in 0.398438 sec
12:46:22.019368      start iteration 1, subset 6
12:46:22.050060      finished iteration 1, subset 6 in 0.292969 sec
12:46:22.050161      start iteration 1, subset 1
12:46:23.021090      finished iteration 1, subset 1 in 0.3125 sec
12:46:23.021224      start iteration 1, subset 5
12:46:23.005649      finished iteration 1, subset 5 in 0.3125 sec
12:46:23.005751      start iteration 1, subset 3
12:46:23.007635      finished iteration 1, subset 3 in 0.394531 sec
12:46:23.007747      start iteration 1, subset 7
12:46:24.006169      finished iteration 1, subset 7 in 0.339844 sec
12:46:24.006291      start iteration 2, subset 0
12:46:24.034165      finished iteration 2, subset 0 in 0.226562 sec
12:46:24.034293      start iteration 2, subset 4
12:46:24.014804      finished iteration 2, subset 4 in 0.242188 sec
12:46:24.014910      start iteration 2, subset 2
12:46:24.020139      finished iteration 2, subset 2 in 0.265625 sec
12:46:24.020244      start iteration 2, subset 6
12:46:25.033144      finished iteration 2, subset 6 in 0.289062 sec
12:46:25.033267      start iteration 2, subset 1
12:46:25.001953      finished iteration 2, subset 1 in 0.296875 sec
12:46:25.002055      start iteration 2, subset 5
12:46:25.001428      finished iteration 2, subset 5 in 0.261719 sec
12:46:25.001533      start iteration 2, subset 3
12:46:26.003748      finished iteration 2, subset 3 in 0.347656 sec
12:46:26.003851      start iteration 2, subset 7
12:46:26.031261      finished iteration 2, subset 7 in 0.289062 sec
12:46:26.031367      start iteration 3, subset 0
12:46:26.032500      finished iteration 3, subset 0 in 0.265625 sec
12:46:26.032608      start iteration 3, subset 4
12:46:26.060936      finished iteration 3, subset 4 in 0.289062 sec
12:46:26.061063      start iteration 3, subset 2
12:46:27.048441      finished iteration 3, subset 2 in 0.265625 sec
12:46:27.048540      start iteration 3, subset 6
12:46:27.050065      finished iteration 3, subset 6 in 0.394531 sec
12:46:27.050180      start iteration 3, subset 1
12:46:27.006283      finished iteration 3, subset 1 in 0.285156 sec
12:46:27.006388      start iteration 3, subset 5
12:46:27.010299      finished iteration 3, subset 5 in 0.199219 sec
12:46:27.010402      start iteration 3, subset 3
12:46:28.027746      finished iteration 3, subset 3 in 0.296875 sec
12:46:28.027852      start iteration 3, subset 7
12:46:28.037246      finished iteration 3, subset 7 in 0.207031 sec
12:46:28.037380      mask 207 planes of image
12:46:28.051222      scale image with 1.21875
12:46:28.058207      scale image with 4
12:46:28.065181     finished reconstruction in 7.07422 sec
12:46:28.065273     forward projector: 3.51172 sec
12:46:28.065316     backprojector: 2.58984 sec
12:46:28.009806   finished reconstruction of emission in 8.78906 sec
12:46:28.009896   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
12:46:28.016905   scale image by 4.10256
12:46:28.034778   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:46:28.034897   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:46:28.034976   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:46:28.035036   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:46:28.035074   start scatter estimation
12:46:28.035126    calculate matrix for beta-spline interpolation
12:46:28.044442    start scatter simulation
12:46:28.044513     effective detector ring radius=234.5mm (234.5mm+0mm)
12:46:28.044555     DeltaXY=2.4375mm
12:46:28.044596     DeltaZ=1.21875mm
12:46:28.044649     LLD=400 keV
12:46:28.044691     ULD=650 keV
12:46:28.054224     search bounds of object in u-map
12:46:28.014533     x bounds (-x,+x)=-93.8413mm,84.0913mm
12:46:28.014648     y bounds (-y,+y)=-103.591mm,135.279mm
12:46:28.014696     z bounds (-z,+z)=-55.4519mm,124.921mm
12:46:28.014747     length of axial scatter fov=360.74mm (max. 360.74mm)
12:46:28.014795     scatter samples (x,y,z)=8,11,16
12:46:28.014848     image size (x,y,z)=177.933mm,238.87mm,360.74mm
12:46:28.014901     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.5463mm
12:46:28.061409     start simulation of scatter sinogram (19x34x10)
12:46:28.061656      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
12:46:28.061747      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
12:46:28.061921      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
12:46:28.062137      thread 2: 401 samples in plane 1 inside of object (plane 29 of full sinogram)
12:46:28.000969      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
12:46:28.001071      thread 3: 484 samples in plane 2 inside of object (plane 50 of full sinogram)
12:46:28.001144      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
12:46:28.001318      thread 7: 516 samples in plane 6 inside of object (plane 134 of full sinogram)
12:46:28.001389      thread 1: 319 samples in plane 0 inside of object (plane 8 of full sinogram)
12:46:28.005056      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
12:46:28.005333      thread 5: 517 samples in plane 4 inside of object (plane 92 of full sinogram)
12:46:28.005547      thread 8: 518 samples in plane 8 inside of object (plane 176 of full sinogram)
12:46:28.011155      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
12:46:28.011537      thread 4: 517 samples in plane 3 inside of object (plane 71 of full sinogram)
12:46:28.015301      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
12:46:28.015610      thread 6: 518 samples in plane 5 inside of object (plane 113 of full sinogram)
12:46:28.007025      thread 7: 518 samples in plane 7 inside of object (plane 155 of full sinogram)
12:46:28.014851      thread 8: 515 samples in plane 9 inside of object (plane 197 of full sinogram)
12:46:28.010351     finished simulation of scatter sinogram
12:46:28.021800    finished scatter simulation in 0.238281 sec
12:46:28.021909    calculate beta-spline interpolation from 17x34x10 to 256x288x207
12:46:30.037665   finished scatter estimation in 1.47656 sec
12:46:30.037750   convert 2d scatter sinogram into 3d sinogram
12:46:30.037795   calculate axial scatter scale factors (smoothed with boxcar 17)
12:46:30.037860    acf threshold=1.03
12:46:30.064805    calculate scale factors for segment 0
12:46:30.064914    scatter size 256x288x207
12:46:30.033214     apply lower and upper thresholds 0.25 and 2
12:46:30.033319    calculate scale factors for segment +1
12:46:30.033372    scatter size 256x288x197
12:46:30.057288     apply lower and upper thresholds 0.25 and 2
12:46:30.057388    calculate scale factors for segment -1
12:46:30.057441    scatter size 256x288x197
12:46:30.012454     apply lower and upper thresholds 0.25 and 2
12:46:30.012557    calculate scale factors for segment +2
12:46:30.012609    scatter size 256x288x179
12:46:31.003016     apply lower and upper thresholds 0.25 and 2
12:46:31.003108    calculate scale factors for segment -2
12:46:31.003160    scatter size 256x288x179
12:46:31.007030     apply lower and upper thresholds 0.25 and 2
12:46:31.007131    calculate scale factors for segment +3
12:46:31.007185    scatter size 256x288x161
12:46:31.063690     apply lower and upper thresholds 0.25 and 2
12:46:31.063795    calculate scale factors for segment -3
12:46:31.063850    scatter size 256x288x161
12:46:31.051498     apply lower and upper thresholds 0.25 and 2
12:46:31.051595    calculate scale factors for segment +4
12:46:31.051648    scatter size 256x288x143
12:46:31.026575     apply lower and upper thresholds 0.25 and 2
12:46:31.026680    calculate scale factors for segment -4
12:46:31.026733    scatter size 256x288x143
12:46:31.064663     apply lower and upper thresholds 0.25 and 2
12:46:31.064761    calculate scale factors for segment +5
12:46:31.064813    scatter size 256x288x125
12:46:31.025264     apply lower and upper thresholds 0.25 and 2
12:46:31.025362    calculate scale factors for segment -5
12:46:31.025415    scatter size 256x288x125
12:46:31.049788     apply lower and upper thresholds 0.25 and 2
12:46:31.049886    calculate scale factors for segment +6
12:46:31.049939    scatter size 256x288x107
12:46:31.060574     apply lower and upper thresholds 0.25 and 2
12:46:31.060668    calculate scale factors for segment -6
12:46:31.060720    scatter size 256x288x107
12:46:31.024578     apply lower and upper thresholds 0.25 and 2
12:46:31.024683    calculate scale factors for segment +7
12:46:31.024738    scatter size 256x288x89
12:46:32.010362     apply lower and upper thresholds 0.25 and 2
12:46:32.010476    calculate scale factors for segment -7
12:46:32.010533    scatter size 256x288x89
12:46:32.007493     apply lower and upper thresholds 0.25 and 2
12:46:39.064759   scatter fraction at first pass=44.6551%
12:46:40.018149  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_sc_ATX.s
12:46:40.018278   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_sc_ATX.s (matrix 0)
12:46:40.036988   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_sc_ATX.h33 (matrix 0)
12:46:40.037351  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_sc_ATX.s
12:46:40.049214  
12:46:40.049312 gantry model values that may have been used:
12:46:40.049355  model number=328
12:46:40.049399  defaultElements()=256
12:46:40.049467  binSize()=0.121875cm
12:46:40.049511  defaultAngles()=288
12:46:40.049561  planeSep()=0.121875cm
12:46:40.049606  crystalRadius()=23.45cm
12:46:40.049649  sinogramDepthOfInteraction()=0cm
12:46:40.049693  sinogramIntrinsicTilt()=0 degrees
12:46:40.049730  isRingArch()=false
12:46:40.049766  isPETOnlyArch()=true
12:46:40.049808  defPlaneDefSpan3D()=3
12:46:40.049849  defRingDiffMax()=67
12:46:40.049922  bucketsPerRing()=unknown
12:46:40.049963  bucketRings()=1
12:46:40.050004  axialBlocks()=13
12:46:40.050044  transBlocks()=9
12:46:40.050085  axialCrystals()=8
12:46:40.050125  transCrystals()=8
12:46:40.050166  axialBlockGaps()=0
12:46:40.050207  transBlockGaps()=0
12:46:40.050246  directPlanes()=104
12:46:40.050287  defaultLLD()=400 keV
12:46:40.050327  defaultULD()=650 keV
12:46:40.050368  nCrystalLayers()=2
12:46:40.050412   crystalLayerMaterial(0)=LSO
12:46:40.050487   crystalLayerBackgroundErgRatio(0)=14%
12:46:40.050536   crystalLayerFWHMErgRes(0)=17%
12:46:40.050582   crystalLayerDepth(0)=1cm
12:46:40.050625   crystalLayerMaterial(1)=LYSO
12:46:40.050677   crystalLayerBackgroundErgRatio(1)=14%
12:46:40.050724   crystalLayerFWHMErgRes(1)=17%
12:46:40.050769   crystalLayerDepth(1)=1cm
12:46:40.050812  maxScatterZfOV()=40cm
12:46:40.050848  
12:46:40.026291 processing time 00:00:28.5078 (hh:mm:ss)
12:46:40.026456 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
12:46:40.026512 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
12:46:40.026554 memory access pattern: 411 entries
12:46:40.026590  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 2206519296
12:46:42	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
12:46:42	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_sc_ATX.s
12:46:42	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2.s
12:46:42	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2.ch
12:46:42	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
12:46:42	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a
12:46:42	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_3D_ATX.i
12:46:42	  Method               : OPO3D
12:46:42	  Positivity constraint in sinogram space
12:46:42	  Max of sensitivity image      : 1.000000e+04
12:46:42	  Threshold for missing data    : 1.000000e-04
12:46:42	  Threshold for image update    : 1.000000e-10
12:46:42	  Maximum of image      	: 10000000000.000000
12:46:42	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:012:46:42	Model 999 
12:46:42	  Triming 3 planes at segment edges 
12:46:42	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
12:46:42	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_ra_smo.s , scan duration 15
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 15 iterations (38 msec)
1	578 msec   
2	3367 msec   
3	3414 msec   
4	3188 msec   
5	609 msec   
Smooth Delays computed in 11849 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4619 msec.
Total time 16468 msec.
12:46:58	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file size 651460608
12:46:58	expected file size 256x288x2209(2209)
12:46:58	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file type 0
12:46:58	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
12:46:59	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
12:46:59	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_3D_ATX.i reconstruction started
12:46:59	  Prepare components of update equation from input data ...
12:47:02	  Read normalization and normalize delayed
12:47:02	  Apply normalization mask to prompt sinogram
12:47:06	  Preparation done in 7 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
12:47:31	  Iteration 1 in 84.530 sec
12:47:57	  Iteration 2 in 85.320 sec
12:48:22	  Iteration 3 in 85.110 sec
12:48:48	  Iteration 4 in 83.620 sec
12:49:14	  Iteration 5 in 84.610 sec
12:49:39	  Iteration 6 in 85.500 sec
12:50:05	  Iteration 7 in 84.900 sec
12:50:30	  Iteration 8 in 84.330 sec
12:50:55	  Iteration 9 in 83.850 sec
12:51:21	  Iteration 10 in 84.610 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_3D_ATX.i' complete
12:51:22	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame2_3D_ATX.i reconstruction done in 279 sec
12:51:22.011002 unknown (0x)    memory: 0 MByte
12:51:22.011093 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
12:51:22.011136 Revision: 275.1
12:51:22.011184 current date and time (GMT): Sat Dec  4 17:51:22 2010
12:51:22.011236 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
12:51:22.011315 free memory in memory controller: 9541.25 MByte
12:51:22.011453 memory access pattern found
12:51:22.011498 free memory in memory controller: 9541.25 MByte
12:51:22.011555 Default crystalLayerBackgroundErgRatio: 12,12
12:51:22.011611 Specified crystalLayerBackgroundErgRatio: 14,14
12:51:22.011914 calculate sinogram for 1 matrix
12:51:22.011960  loading the 3d emission scan (matrix 0)
12:51:22.012002   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3.tr.s'
12:51:22.012041    matrix number=0
12:51:23.026005    RhoSamples=256
12:51:23.026139    BinSizeRho=1.21875mm
12:51:23.026186    ThetaSamples=288
12:51:23.026230    mash factor=0
12:51:23.026276    plane separation=1.21875mm
12:51:23.026320    axes=8
12:51:23.026400    axis table=2209 {207,394,358,322,286,250,214,178}
12:51:23.026444    span=9
12:51:23.026488    maximum ring difference=67
12:51:23.026533    intrinsic tilt=0 degrees
12:51:23.026579    bed position=0mm
12:51:23.026625    scan start time=0 sec
12:51:23.026675    scan frame duration=0 sec (0 min)
12:51:23.026725    scan gate duration=0 sec (0 min)
12:51:23.026782    isotope halflife=0 sec
12:51:23.026828    lld=400 KeV
12:51:23.026871    uld=650 KeV
12:51:23.026910    corrections applied=
12:51:23.026971  calculating the 3d normalisation scan (matrix 0)
12:51:23.027026   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
12:51:24.019752    matrix number=0
12:51:24.019858    RhoSamples=256
12:51:24.019911    BinSizeRho=1.21875mm
12:51:24.019950    ThetaSamples=288
12:51:24.019987    mash factor=0
12:51:24.020026    plane separation=1.21875mm
12:51:24.020064    axes=8
12:51:24.020119    axis table=2209 {207,394,358,322,286,250,214,178}
12:51:24.020158    span=9
12:51:24.020195    maximum ring difference=67
12:51:24.020234    intrinsic tilt=0 degrees
12:51:24.020273    bed position=0mm
12:51:24.020312    scan start time=0 sec
12:51:24.020355    scan frame duration=0 sec (0 min)
12:51:24.020410    scan gate duration=0 sec (0 min)
12:51:24.020450    isotope halflife=0 sec
12:51:24.020488    lld=400 KeV
12:51:24.020525    uld=650 KeV
12:51:24.020559    corrections applied=
12:51:24.020602  normalize 3d emission
12:51:24.020638   multiply sinograms
12:51:26.028826  normalization based gap filling
12:51:26.029621    fill 207 planes 8 threads
12:51:26.036193    fill 394 planes 8 threads
12:51:26.011812    fill 358 planes 8 threads
12:51:26.058735    fill 322 planes 8 threads
12:51:27.000847    fill 286 planes 8 threads
12:51:27.028557    fill 250 planes 8 threads
12:51:27.013523    fill 214 planes 8 threads
12:51:27.021039    fill 178 planes 8 threads
12:51:27.051587   bed position in emission=0mm
12:51:27.051780   bed position in u-map=0mm
12:51:27.051862   bed position in acf=0mm
12:51:27.051920  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i
12:51:27.051970   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i'
12:51:27.052016    matrix number=0
12:51:27.003536    XYSamples=128
12:51:27.003672    DeltaXY=2.4375mm
12:51:27.003721    ZSamples=207
12:51:27.003769    DeltaZ=1.21875mm
12:51:27.003812    corrections applied=
12:51:27.003854    u-map data=yes
12:51:27.003902    bed position=0mm
12:51:27.003950    scan start time=0 sec
12:51:27.004004    scan frame duration=0 sec (0 min)
12:51:27.004057    scan gate duration=0 sec (0 min)
12:51:27.004105    isotope halflife=0 sec
12:51:27.004152    lld=0 KeV
12:51:27.004197    uld=0 KeV
12:51:27.004244  loading the acf (matrix 0)
12:51:27.004299   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a'
12:51:27.004347    matrix number=0
12:51:28.004838    RhoSamples=256
12:51:28.004979    BinSizeRho=1.21875mm
12:51:28.005024    ThetaSamples=288
12:51:28.005064    mash factor=0
12:51:28.005105    plane separation=1.21875mm
12:51:28.005146    axes=8
12:51:28.005205    axis table=2209 {207,394,358,322,286,250,214,178}
12:51:28.005251    span=9
12:51:28.005290    maximum ring difference=67
12:51:28.005331    intrinsic tilt=0 degrees
12:51:28.005372    bed position=0mm
12:51:28.005413    scan start time=0 sec
12:51:28.005459    scan frame duration=0 sec (0 min)
12:51:28.005504    scan gate duration=0 sec (0 min)
12:51:28.005545    isotope halflife=0 sec
12:51:28.005586    lld=400 KeV
12:51:28.005625    uld=650 KeV
12:51:28.005660    corrections applied=
12:51:28.005718  replace values below 1 by 1
12:51:29.010587  estimate scatter sinogram
12:51:29.025179   counts in image: min=0  max=0.156152  total=53556.4
12:51:29.025340   start single-slice rebinning from 256x288x2209 to 256x288x207
12:51:29.025381   initialize SSR
12:51:29.025439    RhoSamples=256
12:51:29.025478    ThetaSamples=288
12:51:29.025518    axes=8
12:51:29.025576    axis table=2209 {207,394,358,322,286,250,214,178}
12:51:29.022681    skip 2 planes at each side of a segment
12:51:29.022821    calculate e*n*a of axis 0 (skip 2 border planes)
12:51:29.022911     calculate axis 0 of corrected sinogram
12:51:29.011965    calculate single-slice rebinning of axis 0
12:51:29.012087    ssr 203 planes
12:51:29.000927    calculate e*n*a of axis 1 (skip 2 border planes)
12:51:29.001035     calculate axis 1 of corrected sinogram
12:51:29.033588    calculate single-slice rebinning of axis 1
12:51:29.033730    ssr 193 planes
12:51:29.046524    calculate e*n*a of axis 2 (skip 2 border planes)
12:51:29.046624     calculate axis 2 of corrected sinogram
12:51:29.058152    calculate single-slice rebinning of axis 2
12:51:29.058280    ssr 175 planes
12:51:29.064078    calculate e*n*a of axis 3 (skip 2 border planes)
12:51:29.064183     calculate axis 3 of corrected sinogram
12:51:30.037903    calculate single-slice rebinning of axis 3
12:51:30.038027    ssr 157 planes
12:51:30.037000    calculate e*n*a of axis 4 (skip 2 border planes)
12:51:30.037108     calculate axis 4 of corrected sinogram
12:51:30.006549    calculate single-slice rebinning of axis 4
12:51:30.006676    ssr 139 planes
12:51:30.064296    calculate e*n*a of axis 5 (skip 2 border planes)
12:51:30.064400     calculate axis 5 of corrected sinogram
12:51:30.015073    calculate single-slice rebinning of axis 5
12:51:30.015197    ssr 121 planes
12:51:30.065015    calculate e*n*a of axis 6 (skip 2 border planes)
12:51:30.065121     calculate axis 6 of corrected sinogram
12:51:30.057703    calculate single-slice rebinning of axis 6
12:51:30.057847    ssr 103 planes
12:51:30.034880    calculate e*n*a of axis 7 (skip 2 border planes)
12:51:30.034981     calculate axis 7 of corrected sinogram
12:51:30.007501    calculate single-slice rebinning of axis 7
12:51:30.007629    ssr 85 planes
12:51:30.042677    normalize sinogram
12:51:30.024070   finished single-slice rebinning in 1.91797 sec
12:51:30.024191   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
12:51:30.024253    XYSamples=128
12:51:30.024297    DeltaXY=2.4375mm
12:51:30.024338    RhoSamples=256
12:51:30.024380    BinSizeRho=1.21875mm
12:51:30.024421    ThetaSamples=288
12:51:30.024462    plane separation=1.21875mm
12:51:30.024510    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
12:51:30.024550    subsets=8
12:51:30.024590    axes=1
12:51:30.024635    axis table=207 {207}
12:51:30.024673    algorithm=AW-OSEM
12:51:30.024711    use LUT=small
12:51:30.024880    initialize backprojector
12:51:30.024968     angle of segment 0: 0 degrees
12:51:30.025200     create mode 1 lookup-table for backprojector: 63 MByte
12:51:30.015654     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
12:51:31.046714     start calculation of normalization factors for AW-OSEM
12:51:31.046904      allocate 103.5 MByte for normalization factors
12:51:31.046957      start calculation of normalization factors for subset 0
12:51:31.061340       calculate segment 0, subset 0 of 1/a sinogram
12:51:31.019013       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
12:51:31.049500      finished calculation of normalization factors for subset 0 in 0.132812 sec
12:51:31.049592      start calculation of normalization factors for subset 1
12:51:31.064679       calculate segment 0, subset 1 of 1/a sinogram
12:51:31.016824       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
12:51:31.051777      finished calculation of normalization factors for subset 1 in 0.132812 sec
12:51:31.051870      start calculation of normalization factors for subset 2
12:51:31.001206       calculate segment 0, subset 2 of 1/a sinogram
12:51:31.019248       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
12:51:31.025245      finished calculation of normalization factors for subset 2 in 0.105469 sec
12:51:31.025353      start calculation of normalization factors for subset 3
12:51:31.039730       calculate segment 0, subset 3 of 1/a sinogram
12:51:31.058020       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
12:51:31.020028      finished calculation of normalization factors for subset 3 in 0.125 sec
12:51:31.020142      start calculation of normalization factors for subset 4
12:51:31.034570       calculate segment 0, subset 4 of 1/a sinogram
12:51:31.061380       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
12:51:31.040610      finished calculation of normalization factors for subset 4 in 0.152344 sec
12:51:31.040710      start calculation of normalization factors for subset 5
12:51:31.057624       calculate segment 0, subset 5 of 1/a sinogram
12:51:31.011681       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
12:51:31.039969      finished calculation of normalization factors for subset 5 in 0.132812 sec
12:51:31.040061      start calculation of normalization factors for subset 6
12:51:31.054750       calculate segment 0, subset 6 of 1/a sinogram
12:51:31.006972       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
12:51:31.060705      finished calculation of normalization factors for subset 6 in 0.148438 sec
12:51:31.060797      start calculation of normalization factors for subset 7
12:51:31.009860       calculate segment 0, subset 7 of 1/a sinogram
12:51:32.010784       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
12:51:32.046774      finished calculation of normalization factors for subset 7 in 0.136719 sec
12:51:32.046921     finished calculation of normalization factors in 1.06641 sec
12:51:32.046964    divide sinograms
12:51:32.011513    initialize forward-projector
12:51:32.011672     angles of segment 0
12:51:32.022137      plane 0-206: 0 degrees
12:51:32.022403     create mode 1 lookup-table for forward-projector: 126 MByte
12:51:32.040405     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
12:51:32.037512     start reconstruction from 256x288x207 to 128x128x207
12:51:32.037640      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
12:51:32.049112      start iteration 1, subset 0
12:51:32.062254      finished iteration 1, subset 0 in 0.277344 sec
12:51:32.062358      start iteration 1, subset 4
12:51:33.040818      finished iteration 1, subset 4 in 0.257812 sec
12:51:33.040939      start iteration 1, subset 2
12:51:33.054924      finished iteration 1, subset 2 in 0.273438 sec
12:51:33.055041      start iteration 1, subset 6
12:51:33.048974      finished iteration 1, subset 6 in 0.253906 sec
12:51:33.049080      start iteration 1, subset 1
12:51:34.027386      finished iteration 1, subset 1 in 0.257812 sec
12:51:34.027494      start iteration 1, subset 5
12:51:34.048418      finished iteration 1, subset 5 in 0.347656 sec
12:51:34.048525      start iteration 1, subset 3
12:51:34.016704      finished iteration 1, subset 3 in 0.296875 sec
12:51:34.016811      start iteration 1, subset 7
12:51:35.060671      finished iteration 1, subset 7 in 0.390625 sec
12:51:35.060786      start iteration 2, subset 0
12:51:35.006782      finished iteration 2, subset 0 in 0.273438 sec
12:51:35.006889      start iteration 2, subset 4
12:51:35.035602      finished iteration 2, subset 4 in 0.289062 sec
12:51:35.035707      start iteration 2, subset 2
12:51:35.056265      finished iteration 2, subset 2 in 0.21875 sec
12:51:35.056372      start iteration 2, subset 6
12:51:36.005378      finished iteration 2, subset 6 in 0.292969 sec
12:51:36.005485      start iteration 2, subset 1
12:51:36.011102      finished iteration 2, subset 1 in 0.265625 sec
12:51:36.011215      start iteration 2, subset 5
12:51:36.026510      finished iteration 2, subset 5 in 0.210938 sec
12:51:36.026624      start iteration 2, subset 3
12:51:36.062157      finished iteration 2, subset 3 in 0.230469 sec
12:51:36.062260      start iteration 2, subset 7
12:51:37.022335      finished iteration 2, subset 7 in 0.304688 sec
12:51:37.022441      start iteration 3, subset 0
12:51:37.045974      finished iteration 3, subset 0 in 0.285156 sec
12:51:37.046122      start iteration 3, subset 4
12:51:37.021667      finished iteration 3, subset 4 in 0.292969 sec
12:51:37.021780      start iteration 3, subset 2
12:51:38.045311      finished iteration 3, subset 2 in 0.304688 sec
12:51:38.045438      start iteration 3, subset 6
12:51:38.021769      finished iteration 3, subset 6 in 0.433594 sec
12:51:38.021883      start iteration 3, subset 1
12:51:38.040807      finished iteration 3, subset 1 in 0.347656 sec
12:51:38.040913      start iteration 3, subset 5
12:51:39.000831      finished iteration 3, subset 5 in 0.238281 sec
12:51:39.000956      start iteration 3, subset 3
12:51:39.018474      finished iteration 3, subset 3 in 0.214844 sec
12:51:39.018594      start iteration 3, subset 7
12:51:39.020280      finished iteration 3, subset 7 in 0.328125 sec
12:51:39.020416      mask 207 planes of image
12:51:39.034701      scale image with 1.21875
12:51:39.041183      scale image with 4
12:51:39.047961     finished reconstruction in 6.94531 sec
12:51:39.048065     forward projector: 3.74219 sec
12:51:39.048115     backprojector: 2.23438 sec
12:51:39.059414   finished reconstruction of emission in 8.70703 sec
12:51:39.059507   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
12:51:39.064420   scale image by 4.10256
12:51:39.014249   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:51:39.014367   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:51:39.014437   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:51:39.014518   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:51:39.014556   start scatter estimation
12:51:39.014609    calculate matrix for beta-spline interpolation
12:51:39.023948    start scatter simulation
12:51:39.024025     effective detector ring radius=234.5mm (234.5mm+0mm)
12:51:39.024070     DeltaXY=2.4375mm
12:51:39.024112     DeltaZ=1.21875mm
12:51:39.024164     LLD=400 keV
12:51:39.024207     ULD=650 keV
12:51:39.033739     search bounds of object in u-map
12:51:39.059570     x bounds (-x,+x)=-93.8413mm,84.0913mm
12:51:39.059686     y bounds (-y,+y)=-103.591mm,135.279mm
12:51:39.059734     z bounds (-z,+z)=-55.4519mm,124.921mm
12:51:39.059783     length of axial scatter fov=360.74mm (max. 360.74mm)
12:51:39.059833     scatter samples (x,y,z)=8,11,16
12:51:39.059885     image size (x,y,z)=177.933mm,238.87mm,360.74mm
12:51:39.059938     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.5463mm
12:51:39.040601     start simulation of scatter sinogram (19x34x10)
12:51:39.040817      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
12:51:39.040893      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
12:51:39.041034      thread 2: 401 samples in plane 1 inside of object (plane 29 of full sinogram)
12:51:39.041136      thread 1: 319 samples in plane 0 inside of object (plane 8 of full sinogram)
12:51:39.043726      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
12:51:39.043900      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
12:51:39.044039      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
12:51:39.044130      thread 4: 517 samples in plane 3 inside of object (plane 71 of full sinogram)
12:51:39.044212      thread 6: 518 samples in plane 5 inside of object (plane 113 of full sinogram)
12:51:39.048454      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
12:51:39.048810      thread 7: 516 samples in plane 6 inside of object (plane 134 of full sinogram)
12:51:39.016007      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
12:51:39.016210      thread 3: 484 samples in plane 2 inside of object (plane 50 of full sinogram)
12:51:39.022894      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
12:51:39.023132      thread 8: 518 samples in plane 8 inside of object (plane 176 of full sinogram)
12:51:39.031182      thread 5: 517 samples in plane 4 inside of object (plane 92 of full sinogram)
12:51:40.001237      thread 7: 518 samples in plane 7 inside of object (plane 155 of full sinogram)
12:51:40.061250      thread 8: 515 samples in plane 9 inside of object (plane 197 of full sinogram)
12:51:40.062076     finished simulation of scatter sinogram
12:51:40.008446    finished scatter simulation in 0.332031 sec
12:51:40.008578    calculate beta-spline interpolation from 17x34x10 to 256x288x207
12:51:41.028981   finished scatter estimation in 1.55469 sec
12:51:41.029065   convert 2d scatter sinogram into 3d sinogram
12:51:41.029109   calculate axial scatter scale factors (smoothed with boxcar 17)
12:51:41.029174    acf threshold=1.03
12:51:41.051309    calculate scale factors for segment 0
12:51:41.051415    scatter size 256x288x207
12:51:41.016406     apply lower and upper thresholds 0.25 and 2
12:51:41.016511    calculate scale factors for segment +1
12:51:41.016564    scatter size 256x288x197
12:51:41.036548     apply lower and upper thresholds 0.25 and 2
12:51:41.036682    calculate scale factors for segment -1
12:51:41.036735    scatter size 256x288x197
12:51:42.036603     apply lower and upper thresholds 0.25 and 2
12:51:42.036700    calculate scale factors for segment +2
12:51:42.036755    scatter size 256x288x179
12:51:42.042217     apply lower and upper thresholds 0.25 and 2
12:51:42.042315    calculate scale factors for segment -2
12:51:42.042367    scatter size 256x288x179
12:51:42.044194     apply lower and upper thresholds 0.25 and 2
12:51:42.044303    calculate scale factors for segment +3
12:51:42.044372    scatter size 256x288x161
12:51:42.032710     apply lower and upper thresholds 0.25 and 2
12:51:42.032807    calculate scale factors for segment -3
12:51:42.032858    scatter size 256x288x161
12:51:42.018297     apply lower and upper thresholds 0.25 and 2
12:51:42.018404    calculate scale factors for segment +4
12:51:42.018457    scatter size 256x288x143
12:51:42.057148     apply lower and upper thresholds 0.25 and 2
12:51:42.057249    calculate scale factors for segment -4
12:51:42.057301    scatter size 256x288x143
12:51:42.026837     apply lower and upper thresholds 0.25 and 2
12:51:42.026934    calculate scale factors for segment +5
12:51:42.026986    scatter size 256x288x125
12:51:42.049946     apply lower and upper thresholds 0.25 and 2
12:51:42.050043    calculate scale factors for segment -5
12:51:42.050095    scatter size 256x288x125
12:51:42.005044     apply lower and upper thresholds 0.25 and 2
12:51:42.005145    calculate scale factors for segment +6
12:51:42.005200    scatter size 256x288x107
12:51:42.013283     apply lower and upper thresholds 0.25 and 2
12:51:42.013377    calculate scale factors for segment -6
12:51:42.013428    scatter size 256x288x107
12:51:43.003719     apply lower and upper thresholds 0.25 and 2
12:51:43.003821    calculate scale factors for segment +7
12:51:43.003877    scatter size 256x288x89
12:51:43.065318     apply lower and upper thresholds 0.25 and 2
12:51:43.065421    calculate scale factors for segment -7
12:51:43.065477    scatter size 256x288x89
12:51:43.058398     apply lower and upper thresholds 0.25 and 2
12:51:50.064329   scatter fraction at first pass=42.5889%
12:51:51.007942  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_sc_ATX.s
12:51:51.008070   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_sc_ATX.s (matrix 0)
12:51:51.027993   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_sc_ATX.h33 (matrix 0)
12:51:51.028340  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_sc_ATX.s
12:51:51.037349  
12:51:51.037439 gantry model values that may have been used:
12:51:51.037484  model number=328
12:51:51.037530  defaultElements()=256
12:51:51.037596  binSize()=0.121875cm
12:51:51.037644  defaultAngles()=288
12:51:51.037696  planeSep()=0.121875cm
12:51:51.037744  crystalRadius()=23.45cm
12:51:51.037788  sinogramDepthOfInteraction()=0cm
12:51:51.037836  sinogramIntrinsicTilt()=0 degrees
12:51:51.037875  isRingArch()=false
12:51:51.037914  isPETOnlyArch()=true
12:51:51.037974  defPlaneDefSpan3D()=3
12:51:51.038016  defRingDiffMax()=67
12:51:51.038056  bucketsPerRing()=unknown
12:51:51.038098  bucketRings()=1
12:51:51.038139  axialBlocks()=13
12:51:51.038180  transBlocks()=9
12:51:51.038221  axialCrystals()=8
12:51:51.038262  transCrystals()=8
12:51:51.038303  axialBlockGaps()=0
12:51:51.038344  transBlockGaps()=0
12:51:51.038384  directPlanes()=104
12:51:51.038426  defaultLLD()=400 keV
12:51:51.038467  defaultULD()=650 keV
12:51:51.038509  nCrystalLayers()=2
12:51:51.038553   crystalLayerMaterial(0)=LSO
12:51:51.038628   crystalLayerBackgroundErgRatio(0)=14%
12:51:51.038680   crystalLayerFWHMErgRes(0)=17%
12:51:51.038725   crystalLayerDepth(0)=1cm
12:51:51.038770   crystalLayerMaterial(1)=LYSO
12:51:51.038823   crystalLayerBackgroundErgRatio(1)=14%
12:51:51.038871   crystalLayerFWHMErgRes(1)=17%
12:51:51.038917   crystalLayerDepth(1)=1cm
12:51:51.038961  maxScatterZfOV()=40cm
12:51:51.038997  
12:51:51.016807 processing time 00:00:28.875 (hh:mm:ss)
12:51:51.016928 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
12:51:51.016984 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
12:51:51.017026 memory access pattern: 411 entries
12:51:51.017063  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 2209480704
12:51:53	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
12:51:53	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_sc_ATX.s
12:51:53	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3.s
12:51:53	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3.ch
12:51:53	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
12:51:53	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a
12:51:53	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_3D_ATX.i
12:51:53	  Method               : OPO3D
12:51:53	  Positivity constraint in sinogram space
12:51:53	  Max of sensitivity image      : 1.000000e+04
12:51:53	  Threshold for missing data    : 1.000000e-04
12:51:53	  Threshold for image update    : 1.000000e-10
12:51:53	  Maximum of image      	: 10000000000.000000
12:51:53	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:012:51:53	Model 999 
12:51:53	  Triming 3 planes at segment edges 
12:51:53	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
12:51:53	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_ra_smo.s , scan duration 15
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 15 iterations (33 msec)
1	619 msec   
2	3282 msec   
3	3378 msec   
4	3287 msec   
5	548 msec   
Smooth Delays computed in 11780 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4593 msec.
Total time 16373 msec.
12:52:09	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file size 651460608
12:52:09	expected file size 256x288x2209(2209)
12:52:09	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file type 0
12:52:09	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
12:52:10	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
12:52:10	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_3D_ATX.i reconstruction started
12:52:10	  Prepare components of update equation from input data ...
12:52:12	  Read normalization and normalize delayed
12:52:12	  Apply normalization mask to prompt sinogram
12:52:15	  Preparation done in 5 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
12:52:41	  Iteration 1 in 85.190 sec
12:53:06	  Iteration 2 in 85.120 sec
12:53:31	  Iteration 3 in 84.600 sec
12:53:57	  Iteration 4 in 84.000 sec
12:54:22	  Iteration 5 in 83.820 sec
12:54:48	  Iteration 6 in 84.570 sec
12:55:14	  Iteration 7 in 83.290 sec
12:55:40	  Iteration 8 in 83.940 sec
12:56:05	  Iteration 9 in 83.330 sec
12:56:31	  Iteration 10 in 84.510 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_3D_ATX.i' complete
12:56:32	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame3_3D_ATX.i reconstruction done in 278 sec
12:56:33.017646 unknown (0x)    memory: 0 MByte
12:56:33.017740 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
12:56:33.017795 Revision: 275.1
12:56:33.017853 current date and time (GMT): Sat Dec  4 17:56:33 2010
12:56:33.017908 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
12:56:33.017990 free memory in memory controller: 9541.25 MByte
12:56:33.022849 memory access pattern found
12:56:33.022906 free memory in memory controller: 9541.25 MByte
12:56:33.023240 calculate acf for 1 matrix
12:56:33.023293  span=9
12:56:33.023338  maximum ring difference=67
12:56:33.023400  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.i
12:56:33.023452   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.i'
12:56:33.023499    matrix number=0
12:56:33.052884    XYSamples=128
12:56:33.053011    DeltaXY=2.4375mm
12:56:33.053056    ZSamples=207
12:56:33.053100    DeltaZ=1.21875mm
12:56:33.053140    corrections applied=
12:56:33.053179    u-map data=yes
12:56:33.053257    bed position=0mm
12:56:33.053301    scan start time=0 sec
12:56:33.053350    scan frame duration=0 sec (0 min)
12:56:33.053399    scan gate duration=0 sec (0 min)
12:56:33.053444    isotope halflife=0 sec
12:56:33.053488    lld=0 KeV
12:56:33.053529    uld=0 KeV
12:56:33.059960  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
12:56:33.060086  XYSamples=128
12:56:33.060143  DeltaXY=2.4375mm
12:56:33.060203  RhoSamples=256
12:56:33.060249  BinSizeRho=1.21875mm
12:56:33.060292  ThetaSamples=288
12:56:33.060335  plane separation=1.21875mm
12:56:33.060384  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
12:56:33.060428  subsets=1
12:56:33.060469  axes=1
12:56:33.060521  axis table=207 {207}
12:56:33.060561  algorithm=UW-OSEM
12:56:33.060600  use LUT=no
12:56:33.060786  time of flight bins=1
12:56:33.060833  initialize forward-projector
12:56:33.060876   angles of segment 0
12:56:33.060939    plane 0-206: 0 degrees
12:56:33.061205  start forward projection
12:56:33.032071   start forward projection of subset 0 from 128x128x207 to 256x288x207
12:56:33.032220    project segment 0
12:56:36.012839   finished forward projection of subset 0 in 2.58594 sec
12:56:36.029966   scale 207 planes of sinogram by 0.410256
12:56:36.060868  finished forward projection in 2.73828 sec
12:56:36.060975  convert emission into transmission data
12:56:36.021748  span=9
12:56:36.021871  maximum ring difference=67
12:56:36.021939  iFORE sinogram 1 from 256x288x207 to 256x288x2209
12:56:36.022159   replace values below 1 by 1
12:56:36.043003   copy 207 planes of segment 0
12:56:37.039568   create 360 degrees sinogram (512x576x207)
12:56:37.013706   calculate 3d fourier transform of sinogram
12:56:41.035854   calculate 394 planes of axis 1
12:56:41.015037    calculate fourier projection of axis 1
12:56:45.021536    calculate inverse fourier transform of axis 1
12:56:48.063787    split axis 1 into 2 segments
12:56:48.027583    calculate weighting of axis 1
12:56:50.018514   finished with axis 1
12:56:50.018639   calculate 358 planes of axis 2
12:56:50.044479    calculate fourier projection of axis 2
12:56:53.000286    calculate inverse fourier transform of axis 2
12:56:58.063236    split axis 2 into 2 segments
12:56:58.013479    calculate weighting of axis 2
12:56:59.047272   finished with axis 2
12:56:59.047408   calculate 322 planes of axis 3
12:56:59.061671    calculate fourier projection of axis 3
12:57:02.055305    calculate inverse fourier transform of axis 3
12:57:07.031271    split axis 3 into 2 segments
12:57:07.035749    calculate weighting of axis 3
12:57:08.023855   finished with axis 3
12:57:08.023984   calculate 286 planes of axis 4
12:57:08.027029    calculate fourier projection of axis 4
12:57:11.065360    calculate inverse fourier transform of axis 4
12:57:16.034125    split axis 4 into 2 segments
12:57:16.028284    calculate weighting of axis 4
12:57:16.002307   finished with axis 4
12:57:16.002450   calculate 250 planes of axis 5
12:57:17.040867    calculate fourier projection of axis 5
12:57:20.045479    calculate inverse fourier transform of axis 5
12:57:24.017778    split axis 5 into 2 segments
12:57:24.001711    calculate weighting of axis 5
12:57:25.044955   finished with axis 5
12:57:25.045083   calculate 214 planes of axis 6
12:57:25.029817    calculate fourier projection of axis 6
12:57:28.032179    calculate inverse fourier transform of axis 6
12:57:32.050875    split axis 6 into 2 segments
12:57:32.024978    calculate weighting of axis 6
12:57:33.047993   finished with axis 6
12:57:33.048117   calculate 178 planes of axis 7
12:57:33.016513    calculate fourier projection of axis 7
12:57:35.034371    calculate inverse fourier transform of axis 7
12:57:39.042217    split axis 7 into 2 segments
12:57:39.005858    calculate weighting of axis 7
12:57:40.060107   finished with axis 7
12:57:40.046245  axes=8
12:57:40.046367  axis table=2209 {207,394,358,322,286,250,214,178}
12:57:40.046431  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.a
12:57:40.046496   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.a (matrix 0)
12:57:41.037670   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.h33 (matrix 0)
12:57:41.016507  
12:57:41.016635 gantry model values that may have been used:
12:57:41.016681  model number=328
12:57:41.016729  defaultElements()=256
12:57:41.016788  binSize()=0.121875cm
12:57:41.016834  defaultAngles()=288
12:57:41.016879  planeSep()=0.121875cm
12:57:41.016926  crystalRadius()=23.45cm
12:57:41.016971  sinogramDepthOfInteraction()=0cm
12:57:41.017019  sinogramIntrinsicTilt()=0 degrees
12:57:41.017059  isRingArch()=false
12:57:41.017098  isPETOnlyArch()=true
12:57:41.017141  defPlaneDefSpan3D()=3
12:57:41.017191  defRingDiffMax()=67
12:57:41.017236  bucketsPerRing()=unknown
12:57:41.017280  bucketRings()=1
12:57:41.017324  axialBlocks()=13
12:57:41.017368  transBlocks()=9
12:57:41.017412  axialCrystals()=8
12:57:41.017474  transCrystals()=8
12:57:41.017516  axialBlockGaps()=0
12:57:41.017557  transBlockGaps()=0
12:57:41.017597  directPlanes()=104
12:57:41.017639  defaultLLD()=400 keV
12:57:41.017680  defaultULD()=650 keV
12:57:41.017722  nCrystalLayers()=2
12:57:41.017767   crystalLayerMaterial(0)=LSO
12:57:41.017836   crystalLayerBackgroundErgRatio(0)=12%
12:57:41.017886   crystalLayerFWHMErgRes(0)=17%
12:57:41.017932   crystalLayerDepth(0)=1cm
12:57:41.017976   crystalLayerMaterial(1)=LYSO
12:57:41.018028   crystalLayerBackgroundErgRatio(1)=12%
12:57:41.018077   crystalLayerFWHMErgRes(1)=17%
12:57:41.018123   crystalLayerDepth(1)=1cm
12:57:41.018167  maxScatterZfOV()=40cm
12:57:41.018211  
12:57:41.018267 processing time 00:01:08.125 (hh:mm:ss)
12:57:41.018330 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
12:57:41.018384 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
12:57:41.018426 memory access pattern: 36 entries
12:57:41.018463  
12:57:42.027759 unknown (0x)    memory: 0 MByte
12:57:42.027863 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
12:57:42.027914 Revision: 275.1
12:57:42.027973 current date and time (GMT): Sat Dec  4 17:57:42 2010
12:57:42.028038 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
12:57:42.028137 free memory in memory controller: 9541.25 MByte
12:57:42.028304 memory access pattern found
12:57:42.028361 free memory in memory controller: 9541.25 MByte
12:57:42.028428 Default crystalLayerBackgroundErgRatio: 12,12
12:57:42.028509 Specified crystalLayerBackgroundErgRatio: 14,14
12:57:42.042274 calculate sinogram for 1 matrix
12:57:42.042377  loading the 3d emission scan (matrix 0)
12:57:42.042431   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4.tr.s'
12:57:42.042478    matrix number=0
12:57:44.043668    RhoSamples=256
12:57:44.043822    BinSizeRho=1.21875mm
12:57:44.043884    ThetaSamples=288
12:57:44.043931    mash factor=0
12:57:44.043980    plane separation=1.21875mm
12:57:44.044026    axes=8
12:57:44.044093    axis table=2209 {207,394,358,322,286,250,214,178}
12:57:44.044140    span=9
12:57:44.044185    maximum ring difference=67
12:57:44.044233    intrinsic tilt=0 degrees
12:57:44.044281    bed position=0mm
12:57:44.044329    scan start time=0 sec
12:57:44.044382    scan frame duration=0 sec (0 min)
12:57:44.044435    scan gate duration=0 sec (0 min)
12:57:44.044483    isotope halflife=0 sec
12:57:44.044529    lld=400 KeV
12:57:44.044574    uld=650 KeV
12:57:44.044616    corrections applied=
12:57:44.044679  calculating the 3d normalisation scan (matrix 0)
12:57:44.044735   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
12:57:45.058234    matrix number=0
12:57:45.058345    RhoSamples=256
12:57:45.058399    BinSizeRho=1.21875mm
12:57:45.058451    ThetaSamples=288
12:57:45.058493    mash factor=0
12:57:45.058533    plane separation=1.21875mm
12:57:45.058573    axes=8
12:57:45.058630    axis table=2209 {207,394,358,322,286,250,214,178}
12:57:45.058670    span=9
12:57:45.058709    maximum ring difference=67
12:57:45.058749    intrinsic tilt=0 degrees
12:57:45.058790    bed position=0mm
12:57:45.058830    scan start time=0 sec
12:57:45.058875    scan frame duration=0 sec (0 min)
12:57:45.058919    scan gate duration=0 sec (0 min)
12:57:45.058967    isotope halflife=0 sec
12:57:45.059006    lld=400 KeV
12:57:45.059044    uld=650 KeV
12:57:45.059080    corrections applied=
12:57:45.059127  normalize 3d emission
12:57:45.059166   multiply sinograms
12:57:47.004461  normalization based gap filling
12:57:47.005267    fill 207 planes 8 threads
12:57:47.015906    fill 394 planes 8 threads
12:57:47.054192    fill 358 planes 8 threads
12:57:47.003398    fill 322 planes 8 threads
12:57:48.009701    fill 286 planes 8 threads
12:57:48.052499    fill 250 planes 8 threads
12:57:48.015863    fill 214 planes 8 threads
12:57:48.050123    fill 178 planes 8 threads
12:57:49.062723   bed position in emission=0mm
12:57:49.062895   bed position in u-map=0mm
12:57:49.062987   bed position in acf=0mm
12:57:49.063045  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.i
12:57:49.063094   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.i'
12:57:49.063140    matrix number=0
12:57:49.016462    XYSamples=128
12:57:49.016596    DeltaXY=2.4375mm
12:57:49.016645    ZSamples=207
12:57:49.016693    DeltaZ=1.21875mm
12:57:49.016748    corrections applied=
12:57:49.016791    u-map data=yes
12:57:49.016839    bed position=0mm
12:57:49.016886    scan start time=0 sec
12:57:49.016940    scan frame duration=0 sec (0 min)
12:57:49.016993    scan gate duration=0 sec (0 min)
12:57:49.017041    isotope halflife=0 sec
12:57:49.017096    lld=0 KeV
12:57:49.017142    uld=0 KeV
12:57:49.017194  loading the acf (matrix 0)
12:57:49.017252   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.a'
12:57:49.017305    matrix number=0
12:57:49.038656    RhoSamples=256
12:57:49.038778    BinSizeRho=1.21875mm
12:57:49.038819    ThetaSamples=288
12:57:49.038858    mash factor=0
12:57:49.038899    plane separation=1.21875mm
12:57:49.038938    axes=8
12:57:49.038997    axis table=2209 {207,394,358,322,286,250,214,178}
12:57:49.039040    span=9
12:57:49.039079    maximum ring difference=67
12:57:49.039121    intrinsic tilt=0 degrees
12:57:49.039162    bed position=0mm
12:57:49.039204    scan start time=0 sec
12:57:49.039250    scan frame duration=0 sec (0 min)
12:57:49.039295    scan gate duration=0 sec (0 min)
12:57:49.039347    isotope halflife=0 sec
12:57:49.039387    lld=400 KeV
12:57:49.039426    uld=650 KeV
12:57:49.039462    corrections applied=
12:57:49.039521  replace values below 1 by 1
12:57:50.043481  estimate scatter sinogram
12:57:50.012991   counts in image: min=0  max=0.155737  total=53503.8
12:57:50.013169   start single-slice rebinning from 256x288x2209 to 256x288x207
12:57:50.013232   initialize SSR
12:57:50.013280    RhoSamples=256
12:57:50.013325    ThetaSamples=288
12:57:50.013371    axes=8
12:57:50.013438    axis table=2209 {207,394,358,322,286,250,214,178}
12:57:50.023115    skip 2 planes at each side of a segment
12:57:50.023241    calculate e*n*a of axis 0 (skip 2 border planes)
12:57:50.023287     calculate axis 0 of corrected sinogram
12:57:50.021075    calculate single-slice rebinning of axis 0
12:57:50.021201    ssr 203 planes
12:57:50.011338    calculate e*n*a of axis 1 (skip 2 border planes)
12:57:50.011444     calculate axis 1 of corrected sinogram
12:57:50.049225    calculate single-slice rebinning of axis 1
12:57:50.049350    ssr 193 planes
12:57:50.065052    calculate e*n*a of axis 2 (skip 2 border planes)
12:57:50.065157     calculate axis 2 of corrected sinogram
12:57:50.012491    calculate single-slice rebinning of axis 2
12:57:50.012618    ssr 175 planes
12:57:51.003293    calculate e*n*a of axis 3 (skip 2 border planes)
12:57:51.003403     calculate axis 3 of corrected sinogram
12:57:51.060165    calculate single-slice rebinning of axis 3
12:57:51.060301    ssr 157 planes
12:57:51.060839    calculate e*n*a of axis 4 (skip 2 border planes)
12:57:51.060944     calculate axis 4 of corrected sinogram
12:57:51.031035    calculate single-slice rebinning of axis 4
12:57:51.031183    ssr 139 planes
12:57:51.023671    calculate e*n*a of axis 5 (skip 2 border planes)
12:57:51.023778     calculate axis 5 of corrected sinogram
12:57:51.038108    calculate single-slice rebinning of axis 5
12:57:51.038229    ssr 121 planes
12:57:51.023398    calculate e*n*a of axis 6 (skip 2 border planes)
12:57:51.023503     calculate axis 6 of corrected sinogram
12:57:51.017563    calculate single-slice rebinning of axis 6
12:57:51.017687    ssr 103 planes
12:57:51.061062    calculate e*n*a of axis 7 (skip 2 border planes)
12:57:51.061169     calculate axis 7 of corrected sinogram
12:57:51.033639    calculate single-slice rebinning of axis 7
12:57:51.033757    ssr 85 planes
12:57:51.004405    normalize sinogram
12:57:52.036227   finished single-slice rebinning in 1.95703 sec
12:57:52.036347   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
12:57:52.036408    XYSamples=128
12:57:52.036451    DeltaXY=2.4375mm
12:57:52.036491    RhoSamples=256
12:57:52.036532    BinSizeRho=1.21875mm
12:57:52.036571    ThetaSamples=288
12:57:52.036612    plane separation=1.21875mm
12:57:52.036659    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
12:57:52.036699    subsets=8
12:57:52.036738    axes=1
12:57:52.036783    axis table=207 {207}
12:57:52.036834    algorithm=AW-OSEM
12:57:52.036872    use LUT=small
12:57:52.037041    initialize backprojector
12:57:52.037115     angle of segment 0: 0 degrees
12:57:52.037347     create mode 1 lookup-table for backprojector: 63 MByte
12:57:52.028335     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
12:57:52.012624     start calculation of normalization factors for AW-OSEM
12:57:52.012828      allocate 103.5 MByte for normalization factors
12:57:52.012893      start calculation of normalization factors for subset 0
12:57:52.027608       calculate segment 0, subset 0 of 1/a sinogram
12:57:52.051018       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
12:57:52.053200      finished calculation of normalization factors for subset 0 in 0.105469 sec
12:57:52.053302      start calculation of normalization factors for subset 1
12:57:52.003091       calculate segment 0, subset 1 of 1/a sinogram
12:57:52.021055       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
12:57:52.048093      finished calculation of normalization factors for subset 1 in 0.125 sec
12:57:52.048186      start calculation of normalization factors for subset 2
12:57:52.063497       calculate segment 0, subset 2 of 1/a sinogram
12:57:52.026154       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
12:57:52.036550      finished calculation of normalization factors for subset 2 in 0.121094 sec
12:57:52.036644      start calculation of normalization factors for subset 3
12:57:52.002444       calculate segment 0, subset 3 of 1/a sinogram
12:57:52.020827       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
12:57:52.039789      finished calculation of normalization factors for subset 3 in 0.132812 sec
12:57:52.039883      start calculation of normalization factors for subset 4
12:57:52.054639       calculate segment 0, subset 4 of 1/a sinogram
12:57:52.008386       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
12:57:52.048979      finished calculation of normalization factors for subset 4 in 0.140625 sec
12:57:52.049075      start calculation of normalization factors for subset 5
12:57:52.065355       calculate segment 0, subset 5 of 1/a sinogram
12:57:52.020574       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
12:57:52.049770      finished calculation of normalization factors for subset 5 in 0.132812 sec
12:57:52.049865      start calculation of normalization factors for subset 6
12:57:52.000814       calculate segment 0, subset 6 of 1/a sinogram
12:57:53.001692       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
12:57:53.023485      finished calculation of normalization factors for subset 6 in 0.121094 sec
12:57:53.023578      start calculation of normalization factors for subset 7
12:57:53.041257       calculate segment 0, subset 7 of 1/a sinogram
12:57:53.059489       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
12:57:53.064358      finished calculation of normalization factors for subset 7 in 0.105469 sec
12:57:53.064482     finished calculation of normalization factors in 0.984375 sec
12:57:53.064523    divide sinograms
12:57:53.047362    initialize forward-projector
12:57:53.047549     angles of segment 0
12:57:53.047595      plane 0-206: 0 degrees
12:57:53.047838     create mode 1 lookup-table for forward-projector: 126 MByte
12:57:53.050504     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
12:57:53.059670     start reconstruction from 256x288x207 to 128x128x207
12:57:53.059798      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
12:57:53.005520      start iteration 1, subset 0
12:57:54.055680      finished iteration 1, subset 0 in 0.328125 sec
12:57:54.055784      start iteration 1, subset 4
12:57:54.043095      finished iteration 1, subset 4 in 0.25 sec
12:57:54.043225      start iteration 1, subset 2
12:57:54.023056      finished iteration 1, subset 2 in 0.304688 sec
12:57:54.023160      start iteration 1, subset 6
12:57:55.011229      finished iteration 1, subset 6 in 0.269531 sec
12:57:55.011330      start iteration 1, subset 1
12:57:55.025819      finished iteration 1, subset 1 in 0.277344 sec
12:57:55.025973      start iteration 1, subset 5
12:57:55.024834      finished iteration 1, subset 5 in 0.253906 sec
12:57:55.024937      start iteration 1, subset 3
12:57:55.049360      finished iteration 1, subset 3 in 0.285156 sec
12:57:55.049464      start iteration 1, subset 7
12:57:56.031032      finished iteration 1, subset 7 in 0.261719 sec
12:57:56.031171      start iteration 2, subset 0
12:57:56.053862      finished iteration 2, subset 0 in 0.21875 sec
12:57:56.053976      start iteration 2, subset 4
12:57:56.023918      finished iteration 2, subset 4 in 0.230469 sec
12:57:56.024020      start iteration 2, subset 2
12:57:56.021880      finished iteration 2, subset 2 in 0.390625 sec
12:57:56.022001      start iteration 2, subset 6
12:57:57.046110      finished iteration 2, subset 6 in 0.234375 sec
12:57:57.046211      start iteration 2, subset 1
12:57:57.061477      finished iteration 2, subset 1 in 0.214844 sec
12:57:57.061583      start iteration 2, subset 5
12:57:57.009080      finished iteration 2, subset 5 in 0.273438 sec
12:57:57.009186      start iteration 2, subset 3
12:57:57.001503      finished iteration 2, subset 3 in 0.320312 sec
12:57:57.001605      start iteration 2, subset 7
12:57:58.023539      finished iteration 2, subset 7 in 0.300781 sec
12:57:58.023646      start iteration 3, subset 0
12:57:58.051481      finished iteration 3, subset 0 in 0.355469 sec
12:57:58.051586      start iteration 3, subset 4
12:57:58.004195      finished iteration 3, subset 4 in 0.28125 sec
12:57:58.004297      start iteration 3, subset 2
12:57:59.060817      finished iteration 3, subset 2 in 0.269531 sec
12:57:59.060923      start iteration 3, subset 6
12:57:59.041512      finished iteration 3, subset 6 in 0.375 sec
12:57:59.041622      start iteration 3, subset 1
12:57:59.021789      finished iteration 3, subset 1 in 0.371094 sec
12:57:59.021900      start iteration 3, subset 5
12:58:00.009814      finished iteration 3, subset 5 in 0.332031 sec
12:58:00.009919      start iteration 3, subset 3
12:58:00.065260      finished iteration 3, subset 3 in 0.316406 sec
12:58:00.065369      start iteration 3, subset 7
12:58:00.030513      finished iteration 3, subset 7 in 0.226562 sec
12:58:00.030652      mask 207 planes of image
12:58:00.044435      scale image with 1.21875
12:58:00.050785      scale image with 4
12:58:00.057386     finished reconstruction in 6.99609 sec
12:58:00.057479     forward projector: 3.72656 sec
12:58:00.057523     backprojector: 2.26172 sec
12:58:00.001496   finished reconstruction of emission in 8.75 sec
12:58:00.001583   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
12:58:00.002690   scale image by 4.10256
12:58:01.001984   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:58:01.002102   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:58:01.002174   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:58:01.002235   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
12:58:01.002489   start scatter estimation
12:58:01.002545    calculate matrix for beta-spline interpolation
12:58:01.011967    start scatter simulation
12:58:01.012042     effective detector ring radius=234.5mm (234.5mm+0mm)
12:58:01.012084     DeltaXY=2.4375mm
12:58:01.012126     DeltaZ=1.21875mm
12:58:01.012177     LLD=400 keV
12:58:01.012220     ULD=650 keV
12:58:01.021786     search bounds of object in u-map
12:58:01.047686     x bounds (-x,+x)=-93.8413mm,84.0913mm
12:58:01.047801     y bounds (-y,+y)=-103.591mm,135.279mm
12:58:01.047850     z bounds (-z,+z)=-56.6707mm,124.921mm
12:58:01.047900     length of axial scatter fov=363.178mm (max. 363.178mm)
12:58:01.047951     scatter samples (x,y,z)=8,11,16
12:58:01.048003     image size (x,y,z)=177.933mm,238.87mm,363.178mm
12:58:01.048057     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.6986mm
12:58:01.028904     start simulation of scatter sinogram (19x34x10)
12:58:01.029137      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
12:58:01.029203      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
12:58:01.029287      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
12:58:01.029426      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
12:58:01.029523      thread 2: 405 samples in plane 1 inside of object (plane 29 of full sinogram)
12:58:01.044010      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
12:58:01.044161      thread 3: 496 samples in plane 2 inside of object (plane 50 of full sinogram)
12:58:01.044235      thread 4: 509 samples in plane 3 inside of object (plane 71 of full sinogram)
12:58:01.047788      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
12:58:01.047948      thread 1: 329 samples in plane 0 inside of object (plane 8 of full sinogram)
12:58:01.048979      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
12:58:01.049165      thread 6: 514 samples in plane 5 inside of object (plane 113 of full sinogram)
12:58:01.049280      thread 5: 516 samples in plane 4 inside of object (plane 92 of full sinogram)
12:58:01.053957      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
12:58:01.054301      thread 8: 512 samples in plane 8 inside of object (plane 176 of full sinogram)
12:58:01.058433      thread 7: 508 samples in plane 6 inside of object (plane 134 of full sinogram)
12:58:01.056509      thread 8: 507 samples in plane 9 inside of object (plane 197 of full sinogram)
12:58:01.061641      thread 7: 517 samples in plane 7 inside of object (plane 155 of full sinogram)
12:58:01.055796     finished simulation of scatter sinogram
12:58:01.001817    finished scatter simulation in 0.253906 sec
12:58:01.001928    calculate beta-spline interpolation from 17x34x10 to 256x288x207
12:58:02.036868   finished scatter estimation in 1.49219 sec
12:58:02.036955   convert 2d scatter sinogram into 3d sinogram
12:58:02.037000   calculate axial scatter scale factors (smoothed with boxcar 17)
12:58:02.037066    acf threshold=1.03
12:58:02.057341    calculate scale factors for segment 0
12:58:02.057448    scatter size 256x288x207
12:58:02.043954     apply lower and upper thresholds 0.25 and 2
12:58:02.044070    calculate scale factors for segment +1
12:58:02.044128    scatter size 256x288x197
12:58:03.047625     apply lower and upper thresholds 0.25 and 2
12:58:03.047731    calculate scale factors for segment -1
12:58:03.047788    scatter size 256x288x197
12:58:03.065504     apply lower and upper thresholds 0.25 and 2
12:58:03.000073    calculate scale factors for segment +2
12:58:03.000129    scatter size 256x288x179
12:58:03.005822     apply lower and upper thresholds 0.25 and 2
12:58:03.005927    calculate scale factors for segment -2
12:58:03.005983    scatter size 256x288x179
12:58:03.007041     apply lower and upper thresholds 0.25 and 2
12:58:03.007145    calculate scale factors for segment +3
12:58:03.007201    scatter size 256x288x161
12:58:03.061864     apply lower and upper thresholds 0.25 and 2
12:58:03.061972    calculate scale factors for segment -3
12:58:03.062044    scatter size 256x288x161
12:58:03.053226     apply lower and upper thresholds 0.25 and 2
12:58:03.053347    calculate scale factors for segment +4
12:58:03.053413    scatter size 256x288x143
12:58:03.034364     apply lower and upper thresholds 0.25 and 2
12:58:03.034472    calculate scale factors for segment -4
12:58:03.034529    scatter size 256x288x143
12:58:03.012948     apply lower and upper thresholds 0.25 and 2
12:58:03.013055    calculate scale factors for segment +5
12:58:03.013111    scatter size 256x288x125
12:58:04.024327     apply lower and upper thresholds 0.25 and 2
12:58:04.024429    calculate scale factors for segment -5
12:58:04.024487    scatter size 256x288x125
12:58:04.048845     apply lower and upper thresholds 0.25 and 2
12:58:04.048946    calculate scale factors for segment +6
12:58:04.049002    scatter size 256x288x107
12:58:04.061413     apply lower and upper thresholds 0.25 and 2
12:58:04.061512    calculate scale factors for segment -6
12:58:04.061568    scatter size 256x288x107
12:58:04.004844     apply lower and upper thresholds 0.25 and 2
12:58:04.004947    calculate scale factors for segment +7
12:58:04.005003    scatter size 256x288x89
12:58:04.001911     apply lower and upper thresholds 0.25 and 2
12:58:04.002016    calculate scale factors for segment -7
12:58:04.002073    scatter size 256x288x89
12:58:04.065407     apply lower and upper thresholds 0.25 and 2
12:58:11.011876   scatter fraction at first pass=41.583%
12:58:11.054595  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_sc_ATX.s
12:58:11.054732   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_sc_ATX.s (matrix 0)
12:58:11.008055   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_sc_ATX.h33 (matrix 0)
12:58:11.008401  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_sc_ATX.s
12:58:11.019262  
12:58:11.019361 gantry model values that may have been used:
12:58:11.019406  model number=328
12:58:11.019466  defaultElements()=256
12:58:11.019524  binSize()=0.121875cm
12:58:11.019569  defaultAngles()=288
12:58:11.019621  planeSep()=0.121875cm
12:58:11.019668  crystalRadius()=23.45cm
12:58:11.019713  sinogramDepthOfInteraction()=0cm
12:58:11.019760  sinogramIntrinsicTilt()=0 degrees
12:58:11.019799  isRingArch()=false
12:58:11.019837  isPETOnlyArch()=true
12:58:11.019881  defPlaneDefSpan3D()=3
12:58:11.019925  defRingDiffMax()=67
12:58:11.019968  bucketsPerRing()=unknown
12:58:11.020012  bucketRings()=1
12:58:11.020055  axialBlocks()=13
12:58:11.020099  transBlocks()=9
12:58:11.020142  axialCrystals()=8
12:58:11.020185  transCrystals()=8
12:58:11.020229  axialBlockGaps()=0
12:58:11.020272  transBlockGaps()=0
12:58:11.020314  directPlanes()=104
12:58:11.020358  defaultLLD()=400 keV
12:58:11.020402  defaultULD()=650 keV
12:58:11.020451  nCrystalLayers()=2
12:58:11.020500   crystalLayerMaterial(0)=LSO
12:58:11.020572   crystalLayerBackgroundErgRatio(0)=14%
12:58:11.020623   crystalLayerFWHMErgRes(0)=17%
12:58:11.020672   crystalLayerDepth(0)=1cm
12:58:11.020719   crystalLayerMaterial(1)=LYSO
12:58:11.020773   crystalLayerBackgroundErgRatio(1)=14%
12:58:11.020824   crystalLayerFWHMErgRes(1)=17%
12:58:11.020872   crystalLayerDepth(1)=1cm
12:58:11.020919  maxScatterZfOV()=40cm
12:58:11.020958  
12:58:11.061288 processing time 00:00:29.4258 (hh:mm:ss)
12:58:11.061409 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
12:58:11.061468 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
12:58:11.061513 memory access pattern: 411 entries
12:58:11.061552  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1695678464
12:58:13	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
12:58:13	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_sc_ATX.s
12:58:13	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4.s
12:58:13	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4.ch
12:58:13	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
12:58:13	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.a
12:58:13	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_3D_ATX.i
12:58:13	  Method               : OPO3D
12:58:13	  Positivity constraint in sinogram space
12:58:13	  Max of sensitivity image      : 1.000000e+04
12:58:13	  Threshold for missing data    : 1.000000e-04
12:58:13	  Threshold for image update    : 1.000000e-10
12:58:13	  Maximum of image      	: 10000000000.000000
12:58:13	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:012:58:13	Model 999 
12:58:13	  Triming 3 planes at segment edges 
12:58:13	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
12:58:13	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_ra_smo.s , scan duration 30
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 17 iterations (39 msec)
1	717 msec   
2	3394 msec   
3	3414 msec   
4	3196 msec   
5	603 msec   
Smooth Delays computed in 12020 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4661 msec.
Total time 16681 msec.
12:58:30	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.a: attenuation file size 651460608
12:58:30	expected file size 256x288x2209(2209)
12:58:30	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr4.a: attenuation file type 0
12:58:30	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
12:58:30	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
12:58:30	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_3D_ATX.i reconstruction started
12:58:30	  Prepare components of update equation from input data ...
12:58:34	  Read normalization and normalize delayed
12:58:34	  Apply normalization mask to prompt sinogram
12:58:38	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
12:59:03	  Iteration 1 in 85.120 sec
12:59:28	  Iteration 2 in 84.610 sec
12:59:54	  Iteration 3 in 84.030 sec
13:00:19	  Iteration 4 in 84.090 sec
13:00:44	  Iteration 5 in 84.510 sec
13:01:10	  Iteration 6 in 84.410 sec
13:01:36	  Iteration 7 in 84.410 sec
13:02:01	  Iteration 8 in 85.490 sec
13:02:26	  Iteration 9 in 83.110 sec
13:02:52	  Iteration 10 in 84.550 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_3D_ATX.i' complete
13:02:53	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame4_3D_ATX.i reconstruction done in 279 sec
13:02:53.061384 unknown (0x)    memory: 0 MByte
13:02:53.061492 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:02:53.061544 Revision: 275.1
13:02:53.061601 current date and time (GMT): Sat Dec  4 18:02:53 2010
13:02:53.061658 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:02:53.061738 free memory in memory controller: 9541.25 MByte
13:02:53.061887 memory access pattern found
13:02:53.061944 free memory in memory controller: 9541.25 MByte
13:02:53.004479 calculate acf for 1 matrix
13:02:53.004538  span=9
13:02:53.004585  maximum ring difference=67
13:02:53.004649  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.i
13:02:53.004704   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.i'
13:02:53.004754    matrix number=0
13:02:54.042208    XYSamples=128
13:02:54.042334    DeltaXY=2.4375mm
13:02:54.042394    ZSamples=207
13:02:54.042439    DeltaZ=1.21875mm
13:02:54.042480    corrections applied=
13:02:54.042519    u-map data=yes
13:02:54.042564    bed position=0mm
13:02:54.042609    scan start time=0 sec
13:02:54.042659    scan frame duration=0 sec (0 min)
13:02:54.042709    scan gate duration=0 sec (0 min)
13:02:54.042754    isotope halflife=0 sec
13:02:54.042825    lld=0 KeV
13:02:54.042872    uld=0 KeV
13:02:54.051119  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:02:54.051229  XYSamples=128
13:02:54.051288  DeltaXY=2.4375mm
13:02:54.051332  RhoSamples=256
13:02:54.051376  BinSizeRho=1.21875mm
13:02:54.051419  ThetaSamples=288
13:02:54.051464  plane separation=1.21875mm
13:02:54.051514  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:02:54.051559  subsets=1
13:02:54.051601  axes=1
13:02:54.051653  axis table=207 {207}
13:02:54.051693  algorithm=UW-OSEM
13:02:54.051734  use LUT=no
13:02:54.051920  time of flight bins=1
13:02:54.051968  initialize forward-projector
13:02:54.052023   angles of segment 0
13:02:54.052067    plane 0-206: 0 degrees
13:02:54.052327  start forward projection
13:02:54.013245   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:02:54.013362    project segment 0
13:02:56.020540   finished forward projection of subset 0 in 2.66016 sec
13:02:56.036801   scale 207 planes of sinogram by 0.410256
13:02:56.001359  finished forward projection in 2.80078 sec
13:02:56.001472  convert emission into transmission data
13:02:57.016750  span=9
13:02:57.016867  maximum ring difference=67
13:02:57.016934  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:02:57.017111   replace values below 1 by 1
13:02:57.038030   copy 207 planes of segment 0
13:02:58.032659   create 360 degrees sinogram (512x576x207)
13:02:58.005255   calculate 3d fourier transform of sinogram
13:03:02.032734   calculate 394 planes of axis 1
13:03:02.016990    calculate fourier projection of axis 1
13:03:05.039196    calculate inverse fourier transform of axis 1
13:03:08.032461    split axis 1 into 2 segments
13:03:08.060162    calculate weighting of axis 1
13:03:10.054158   finished with axis 1
13:03:10.054280   calculate 358 planes of axis 2
13:03:10.016790    calculate fourier projection of axis 2
13:03:13.043585    calculate inverse fourier transform of axis 2
13:03:17.003166    split axis 2 into 2 segments
13:03:18.003349    calculate weighting of axis 2
13:03:19.036697   finished with axis 2
13:03:19.036813   calculate 322 planes of axis 3
13:03:19.052632    calculate fourier projection of axis 3
13:03:22.050058    calculate inverse fourier transform of axis 3
13:03:27.046106    split axis 3 into 2 segments
13:03:27.008859    calculate weighting of axis 3
13:03:28.012186   finished with axis 3
13:03:28.012313   calculate 286 planes of axis 4
13:03:28.014824    calculate fourier projection of axis 4
13:03:31.031202    calculate inverse fourier transform of axis 4
13:03:35.046079    split axis 4 into 2 segments
13:03:35.039274    calculate weighting of axis 4
13:03:36.061743   finished with axis 4
13:03:36.061895   calculate 250 planes of axis 5
13:03:36.056856    calculate fourier projection of axis 5
13:03:39.064635    calculate inverse fourier transform of axis 5
13:03:43.021272    split axis 5 into 2 segments
13:03:43.003175    calculate weighting of axis 5
13:03:44.051858   finished with axis 5
13:03:44.051984   calculate 214 planes of axis 6
13:03:44.037638    calculate fourier projection of axis 6
13:03:47.051432    calculate inverse fourier transform of axis 6
13:03:51.050170    split axis 6 into 2 segments
13:03:51.023366    calculate weighting of axis 6
13:03:51.062912   finished with axis 6
13:03:51.063050   calculate 178 planes of axis 7
13:03:52.022852    calculate fourier projection of axis 7
13:03:55.009558    calculate inverse fourier transform of axis 7
13:03:58.019439    split axis 7 into 2 segments
13:03:58.051199    calculate weighting of axis 7
13:03:58.060214   finished with axis 7
13:03:58.047558  axes=8
13:03:58.047697  axis table=2209 {207,394,358,322,286,250,214,178}
13:03:58.047760  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.a
13:03:58.047822   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.a (matrix 0)
13:03:59.057931   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.h33 (matrix 0)
13:03:59.034556  
13:03:59.034681 gantry model values that may have been used:
13:03:59.034728  model number=328
13:03:59.034775  defaultElements()=256
13:03:59.034834  binSize()=0.121875cm
13:03:59.034880  defaultAngles()=288
13:03:59.034925  planeSep()=0.121875cm
13:03:59.034973  crystalRadius()=23.45cm
13:03:59.035020  sinogramDepthOfInteraction()=0cm
13:03:59.035067  sinogramIntrinsicTilt()=0 degrees
13:03:59.035107  isRingArch()=false
13:03:59.035146  isPETOnlyArch()=true
13:03:59.035189  defPlaneDefSpan3D()=3
13:03:59.035234  defRingDiffMax()=67
13:03:59.035277  bucketsPerRing()=unknown
13:03:59.035321  bucketRings()=1
13:03:59.035365  axialBlocks()=13
13:03:59.035409  transBlocks()=9
13:03:59.035453  axialCrystals()=8
13:03:59.035497  transCrystals()=8
13:03:59.035540  axialBlockGaps()=0
13:03:59.035592  transBlockGaps()=0
13:03:59.035635  directPlanes()=104
13:03:59.035680  defaultLLD()=400 keV
13:03:59.035724  defaultULD()=650 keV
13:03:59.035768  nCrystalLayers()=2
13:03:59.035815   crystalLayerMaterial(0)=LSO
13:03:59.035887   crystalLayerBackgroundErgRatio(0)=12%
13:03:59.035940   crystalLayerFWHMErgRes(0)=17%
13:03:59.035989   crystalLayerDepth(0)=1cm
13:03:59.036037   crystalLayerMaterial(1)=LYSO
13:03:59.036091   crystalLayerBackgroundErgRatio(1)=12%
13:03:59.036143   crystalLayerFWHMErgRes(1)=17%
13:03:59.036192   crystalLayerDepth(1)=1cm
13:03:59.036239  maxScatterZfOV()=40cm
13:03:59.036278  
13:03:59.036336 processing time 00:01:05.90625 (hh:mm:ss)
13:03:59.036402 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:03:59.036460 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:03:59.036505 memory access pattern: 36 entries
13:03:59.036544  
13:04:01.003526 unknown (0x)    memory: 0 MByte
13:04:01.003637 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:04:01.003689 Revision: 275.1
13:04:01.003749 current date and time (GMT): Sat Dec  4 18:04:01 2010
13:04:01.003815 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
13:04:01.003920 free memory in memory controller: 9541.25 MByte
13:04:01.004080 memory access pattern found
13:04:01.004136 free memory in memory controller: 9541.25 MByte
13:04:01.004202 Default crystalLayerBackgroundErgRatio: 12,12
13:04:01.004265 Specified crystalLayerBackgroundErgRatio: 14,14
13:04:01.038896 calculate sinogram for 1 matrix
13:04:01.039014  loading the 3d emission scan (matrix 0)
13:04:01.039070   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5.tr.s'
13:04:01.039118    matrix number=0
13:04:03.065403    RhoSamples=256
13:04:03.000011    BinSizeRho=1.21875mm
13:04:03.000061    ThetaSamples=288
13:04:03.000110    mash factor=0
13:04:03.000159    plane separation=1.21875mm
13:04:03.000208    axes=8
13:04:03.000276    axis table=2209 {207,394,358,322,286,250,214,178}
13:04:03.000325    span=9
13:04:03.000372    maximum ring difference=67
13:04:03.000421    intrinsic tilt=0 degrees
13:04:03.000486    bed position=0mm
13:04:03.000534    scan start time=0 sec
13:04:03.000588    scan frame duration=0 sec (0 min)
13:04:03.000641    scan gate duration=0 sec (0 min)
13:04:03.000691    isotope halflife=0 sec
13:04:03.000738    lld=400 KeV
13:04:03.000784    uld=650 KeV
13:04:03.000827    corrections applied=
13:04:03.000891  calculating the 3d normalisation scan (matrix 0)
13:04:03.000958   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
13:04:04.015237    matrix number=0
13:04:04.015346    RhoSamples=256
13:04:04.015401    BinSizeRho=1.21875mm
13:04:04.015442    ThetaSamples=288
13:04:04.015483    mash factor=0
13:04:04.015536    plane separation=1.21875mm
13:04:04.015578    axes=8
13:04:04.015634    axis table=2209 {207,394,358,322,286,250,214,178}
13:04:04.015675    span=9
13:04:04.015714    maximum ring difference=67
13:04:04.015755    intrinsic tilt=0 degrees
13:04:04.015796    bed position=0mm
13:04:04.015837    scan start time=0 sec
13:04:04.015884    scan frame duration=0 sec (0 min)
13:04:04.015929    scan gate duration=0 sec (0 min)
13:04:04.015972    isotope halflife=0 sec
13:04:04.016012    lld=400 KeV
13:04:04.016051    uld=650 KeV
13:04:04.016087    corrections applied=
13:04:04.016131  normalize 3d emission
13:04:04.016169   multiply sinograms
13:04:05.052856  normalization based gap filling
13:04:05.053656    fill 207 planes 8 threads
13:04:06.012200    fill 394 planes 8 threads
13:04:06.037221    fill 358 planes 8 threads
13:04:06.003567    fill 322 planes 8 threads
13:04:07.015154    fill 286 planes 8 threads
13:04:07.057359    fill 250 planes 8 threads
13:04:07.036821    fill 214 planes 8 threads
13:04:07.044605    fill 178 planes 8 threads
13:04:07.001785   bed position in emission=0mm
13:04:07.001971   bed position in u-map=0mm
13:04:07.002065   bed position in acf=0mm
13:04:07.002130  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.i
13:04:07.002184   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.i'
13:04:07.002234    matrix number=0
13:04:08.013942    XYSamples=128
13:04:08.014081    DeltaXY=2.4375mm
13:04:08.014136    ZSamples=207
13:04:08.014190    DeltaZ=1.21875mm
13:04:08.014237    corrections applied=
13:04:08.014299    u-map data=yes
13:04:08.014353    bed position=0mm
13:04:08.014407    scan start time=0 sec
13:04:08.014466    scan frame duration=0 sec (0 min)
13:04:08.014526    scan gate duration=0 sec (0 min)
13:04:08.014580    isotope halflife=0 sec
13:04:08.014633    lld=0 KeV
13:04:08.014684    uld=0 KeV
13:04:08.014736  loading the acf (matrix 0)
13:04:08.014797   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.a'
13:04:08.014851    matrix number=0
13:04:08.011581    RhoSamples=256
13:04:08.011805    BinSizeRho=1.21875mm
13:04:08.029963    ThetaSamples=288
13:04:08.030018    mash factor=0
13:04:08.030079    plane separation=1.21875mm
13:04:08.030124    axes=8
13:04:08.030188    axis table=2209 {207,394,358,322,286,250,214,178}
13:04:08.030235    span=9
13:04:08.030279    maximum ring difference=67
13:04:08.030325    intrinsic tilt=0 degrees
13:04:08.030374    bed position=0mm
13:04:08.030481    scan start time=0 sec
13:04:08.030542    scan frame duration=0 sec (0 min)
13:04:08.030600    scan gate duration=0 sec (0 min)
13:04:08.030652    isotope halflife=0 sec
13:04:08.030700    lld=400 KeV
13:04:08.030747    uld=650 KeV
13:04:08.030791    corrections applied=
13:04:08.030860  replace values below 1 by 1
13:04:09.035276  estimate scatter sinogram
13:04:09.049074   counts in image: min=0  max=0.155766  total=53504.4
13:04:09.049235   start single-slice rebinning from 256x288x2209 to 256x288x207
13:04:09.049274   initialize SSR
13:04:09.049315    RhoSamples=256
13:04:09.049355    ThetaSamples=288
13:04:09.049395    axes=8
13:04:09.049454    axis table=2209 {207,394,358,322,286,250,214,178}
13:04:09.061687    skip 2 planes at each side of a segment
13:04:09.061812    calculate e*n*a of axis 0 (skip 2 border planes)
13:04:09.061861     calculate axis 0 of corrected sinogram
13:04:09.059258    calculate single-slice rebinning of axis 0
13:04:09.059426    ssr 203 planes
13:04:09.050144    calculate e*n*a of axis 1 (skip 2 border planes)
13:04:09.050250     calculate axis 1 of corrected sinogram
13:04:09.023643    calculate single-slice rebinning of axis 1
13:04:09.023769    ssr 193 planes
13:04:09.040525    calculate e*n*a of axis 2 (skip 2 border planes)
13:04:09.040632     calculate axis 2 of corrected sinogram
13:04:09.053704    calculate single-slice rebinning of axis 2
13:04:09.053828    ssr 175 planes
13:04:09.062667    calculate e*n*a of axis 3 (skip 2 border planes)
13:04:09.062775     calculate axis 3 of corrected sinogram
13:04:10.038037    calculate single-slice rebinning of axis 3
13:04:10.038159    ssr 157 planes
13:04:10.039994    calculate e*n*a of axis 4 (skip 2 border planes)
13:04:10.040099     calculate axis 4 of corrected sinogram
13:04:10.011001    calculate single-slice rebinning of axis 4
13:04:10.011122    ssr 139 planes
13:04:10.005076    calculate e*n*a of axis 5 (skip 2 border planes)
13:04:10.005184     calculate axis 5 of corrected sinogram
13:04:10.020748    calculate single-slice rebinning of axis 5
13:04:10.020871    ssr 121 planes
13:04:10.007511    calculate e*n*a of axis 6 (skip 2 border planes)
13:04:10.007617     calculate axis 6 of corrected sinogram
13:04:10.002539    calculate single-slice rebinning of axis 6
13:04:10.002659    ssr 103 planes
13:04:10.047525    calculate e*n*a of axis 7 (skip 2 border planes)
13:04:10.047631     calculate axis 7 of corrected sinogram
13:04:10.020692    calculate single-slice rebinning of axis 7
13:04:10.020817    ssr 85 planes
13:04:10.058038    normalize sinogram
13:04:11.026987   finished single-slice rebinning in 1.98047 sec
13:04:11.027108   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
13:04:11.027172    XYSamples=128
13:04:11.027215    DeltaXY=2.4375mm
13:04:11.027256    RhoSamples=256
13:04:11.027297    BinSizeRho=1.21875mm
13:04:11.027338    ThetaSamples=288
13:04:11.027379    plane separation=1.21875mm
13:04:11.027427    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:04:11.027470    subsets=8
13:04:11.027512    axes=1
13:04:11.027559    axis table=207 {207}
13:04:11.027598    algorithm=AW-OSEM
13:04:11.027637    use LUT=small
13:04:11.027807    initialize backprojector
13:04:11.027880     angle of segment 0: 0 degrees
13:04:11.028119     create mode 1 lookup-table for backprojector: 63 MByte
13:04:11.020014     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
13:04:11.004779     start calculation of normalization factors for AW-OSEM
13:04:11.004984      allocate 103.5 MByte for normalization factors
13:04:11.005036      start calculation of normalization factors for subset 0
13:04:11.019748       calculate segment 0, subset 0 of 1/a sinogram
13:04:11.043300       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
13:04:11.029700      finished calculation of normalization factors for subset 0 in 0.152344 sec
13:04:11.029799      start calculation of normalization factors for subset 1
13:04:11.045392       calculate segment 0, subset 1 of 1/a sinogram
13:04:11.063148       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
13:04:11.045295      finished calculation of normalization factors for subset 1 in 0.144531 sec
13:04:11.045389      start calculation of normalization factors for subset 2
13:04:11.060367       calculate segment 0, subset 2 of 1/a sinogram
13:04:11.012416       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
13:04:11.046947      finished calculation of normalization factors for subset 2 in 0.132812 sec
13:04:11.047050      start calculation of normalization factors for subset 3
13:04:11.063327       calculate segment 0, subset 3 of 1/a sinogram
13:04:11.016101       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
13:04:11.005059      finished calculation of normalization factors for subset 3 in 0.15625 sec
13:04:11.005154      start calculation of normalization factors for subset 4
13:04:11.021438       calculate segment 0, subset 4 of 1/a sinogram
13:04:11.039422       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
13:04:11.051108      finished calculation of normalization factors for subset 4 in 0.109375 sec
13:04:11.051214      start calculation of normalization factors for subset 5
13:04:11.006952       calculate segment 0, subset 5 of 1/a sinogram
13:04:11.025237       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
13:04:12.027739      finished calculation of normalization factors for subset 5 in 0.125 sec
13:04:12.027837      start calculation of normalization factors for subset 6
13:04:12.044605       calculate segment 0, subset 6 of 1/a sinogram
13:04:12.062641       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
13:04:12.012333      finished calculation of normalization factors for subset 6 in 0.117188 sec
13:04:12.012465      start calculation of normalization factors for subset 7
13:04:12.030262       calculate segment 0, subset 7 of 1/a sinogram
13:04:12.048829       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
13:04:12.055771      finished calculation of normalization factors for subset 7 in 0.109375 sec
13:04:12.055901     finished calculation of normalization factors in 1.05078 sec
13:04:12.055946    divide sinograms
13:04:12.025956    initialize forward-projector
13:04:12.026096     angles of segment 0
13:04:12.026144      plane 0-206: 0 degrees
13:04:12.026390     create mode 1 lookup-table for forward-projector: 126 MByte
13:04:12.052599     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
13:04:12.055822     start reconstruction from 256x288x207 to 128x128x207
13:04:12.055952      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
13:04:12.001651      start iteration 1, subset 0
13:04:13.048248      finished iteration 1, subset 0 in 0.324219 sec
13:04:13.048356      start iteration 1, subset 4
13:04:13.054949      finished iteration 1, subset 4 in 0.269531 sec
13:04:13.055111      start iteration 1, subset 2
13:04:13.036282      finished iteration 1, subset 2 in 0.308594 sec
13:04:13.036408      start iteration 1, subset 6
13:04:14.022286      finished iteration 1, subset 6 in 0.265625 sec
13:04:14.022516      start iteration 1, subset 1
13:04:14.006239      finished iteration 1, subset 1 in 0.308594 sec
13:04:14.006351      start iteration 1, subset 5
13:04:14.054874      finished iteration 1, subset 5 in 0.308594 sec
13:04:14.054992      start iteration 1, subset 3
13:04:14.006874      finished iteration 1, subset 3 in 0.28125 sec
13:04:14.006984      start iteration 1, subset 7
13:04:15.015708      finished iteration 1, subset 7 in 0.285156 sec
13:04:15.015845      start iteration 2, subset 0
13:04:15.003376      finished iteration 2, subset 0 in 0.316406 sec
13:04:15.003493      start iteration 2, subset 4
13:04:15.021874      finished iteration 2, subset 4 in 0.28125 sec
13:04:15.021990      start iteration 2, subset 2
13:04:16.037724      finished iteration 2, subset 2 in 0.292969 sec
13:04:16.037884      start iteration 2, subset 6
13:04:16.057913      finished iteration 2, subset 6 in 0.21875 sec
13:04:16.058017      start iteration 2, subset 1
13:04:16.034944      finished iteration 2, subset 1 in 0.171875 sec
13:04:16.035052      start iteration 2, subset 5
13:04:16.032707      finished iteration 2, subset 5 in 0.261719 sec
13:04:16.032814      start iteration 2, subset 3
13:04:17.040541      finished iteration 2, subset 3 in 0.285156 sec
13:04:17.040655      start iteration 2, subset 7
13:04:17.064368      finished iteration 2, subset 7 in 0.289062 sec
13:04:17.064495      start iteration 3, subset 0
13:04:17.054305      finished iteration 3, subset 0 in 0.382812 sec
13:04:17.054409      start iteration 3, subset 4
13:04:18.049738      finished iteration 3, subset 4 in 0.339844 sec
13:04:18.049848      start iteration 3, subset 2
13:04:18.011651      finished iteration 3, subset 2 in 0.289062 sec
13:04:18.011817      start iteration 3, subset 6
13:04:18.060294      finished iteration 3, subset 6 in 0.246094 sec
13:04:18.060398      start iteration 3, subset 1
13:04:18.040163      finished iteration 3, subset 1 in 0.242188 sec
13:04:18.040286      start iteration 3, subset 5
13:04:19.065417      finished iteration 3, subset 5 in 0.304688 sec
13:04:19.000032      start iteration 3, subset 3
13:04:19.059915      finished iteration 3, subset 3 in 0.320312 sec
13:04:19.060019      start iteration 3, subset 7
13:04:19.021260      finished iteration 3, subset 7 in 0.222656 sec
13:04:19.021397      mask 207 planes of image
13:04:19.035304      scale image with 1.21875
13:04:19.041771      scale image with 4
13:04:19.048518     finished reconstruction in 6.85938 sec
13:04:19.048611     forward projector: 3.45703 sec
13:04:19.048655     backprojector: 2.40625 sec
13:04:19.058783   finished reconstruction of emission in 8.62109 sec
13:04:19.058870   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
13:04:19.061040   scale image by 4.10256
13:04:19.013207   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:04:19.013326   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:04:19.013394   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:04:19.013455   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:04:19.013493   start scatter estimation
13:04:19.013546    calculate matrix for beta-spline interpolation
13:04:19.022957    start scatter simulation
13:04:19.023040     effective detector ring radius=234.5mm (234.5mm+0mm)
13:04:19.023083     DeltaXY=2.4375mm
13:04:19.023125     DeltaZ=1.21875mm
13:04:19.023177     LLD=400 keV
13:04:19.023219     ULD=650 keV
13:04:19.034331     search bounds of object in u-map
13:04:19.060451     x bounds (-x,+x)=-93.8413mm,84.0913mm
13:04:19.060568     y bounds (-y,+y)=-103.591mm,135.279mm
13:04:19.060617     z bounds (-z,+z)=-56.6707mm,124.921mm
13:04:19.060668     length of axial scatter fov=363.178mm (max. 363.178mm)
13:04:19.060718     scatter samples (x,y,z)=8,11,16
13:04:19.060770     image size (x,y,z)=177.933mm,238.87mm,363.178mm
13:04:19.060823     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.6986mm
13:04:19.041546     start simulation of scatter sinogram (19x34x10)
13:04:19.041782      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
13:04:19.041850      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
13:04:19.041935      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
13:04:19.042075      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
13:04:19.042167      thread 2: 405 samples in plane 1 inside of object (plane 29 of full sinogram)
13:04:19.042234      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
13:04:19.042390      thread 4: 508 samples in plane 3 inside of object (plane 71 of full sinogram)
13:04:19.042459      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
13:04:19.042552      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
13:04:19.042641      thread 1: 325 samples in plane 0 inside of object (plane 8 of full sinogram)
13:04:19.042725      thread 7: 509 samples in plane 6 inside of object (plane 134 of full sinogram)
13:04:19.048164      thread 6: 512 samples in plane 5 inside of object (plane 113 of full sinogram)
13:04:19.051843      thread 3: 497 samples in plane 2 inside of object (plane 50 of full sinogram)
13:04:19.056091      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
13:04:19.005646      thread 8: 510 samples in plane 8 inside of object (plane 176 of full sinogram)
13:04:20.017407      thread 5: 516 samples in plane 4 inside of object (plane 92 of full sinogram)
13:04:20.032584      thread 7: 518 samples in plane 7 inside of object (plane 155 of full sinogram)
13:04:20.051746      thread 8: 507 samples in plane 9 inside of object (plane 197 of full sinogram)
13:04:20.055403     finished simulation of scatter sinogram
13:04:20.002248    finished scatter simulation in 0.257812 sec
13:04:20.002361    calculate beta-spline interpolation from 17x34x10 to 256x288x207
13:04:21.025683   finished scatter estimation in 1.48438 sec
13:04:21.025767   convert 2d scatter sinogram into 3d sinogram
13:04:21.025811   calculate axial scatter scale factors (smoothed with boxcar 17)
13:04:21.025878    acf threshold=1.03
13:04:21.049931    calculate scale factors for segment 0
13:04:21.050036    scatter size 256x288x207
13:04:21.017878     apply lower and upper thresholds 0.25 and 2
13:04:21.017990    calculate scale factors for segment +1
13:04:21.018046    scatter size 256x288x197
13:04:21.038068     apply lower and upper thresholds 0.25 and 2
13:04:21.038172    calculate scale factors for segment -1
13:04:21.038227    scatter size 256x288x197
13:04:22.045091     apply lower and upper thresholds 0.25 and 2
13:04:22.045203    calculate scale factors for segment +2
13:04:22.045260    scatter size 256x288x179
13:04:22.057894     apply lower and upper thresholds 0.25 and 2
13:04:22.058003    calculate scale factors for segment -2
13:04:22.058059    scatter size 256x288x179
13:04:22.065407     apply lower and upper thresholds 0.25 and 2
13:04:22.065513    calculate scale factors for segment +3
13:04:22.000033    scatter size 256x288x161
13:04:22.059954     apply lower and upper thresholds 0.25 and 2
13:04:22.060063    calculate scale factors for segment -3
13:04:22.060122    scatter size 256x288x161
13:04:22.050259     apply lower and upper thresholds 0.25 and 2
13:04:22.050362    calculate scale factors for segment +4
13:04:22.050418    scatter size 256x288x143
13:04:22.026652     apply lower and upper thresholds 0.25 and 2
13:04:22.026759    calculate scale factors for segment -4
13:04:22.026816    scatter size 256x288x143
13:04:22.001727     apply lower and upper thresholds 0.25 and 2
13:04:22.001833    calculate scale factors for segment +5
13:04:22.001928    scatter size 256x288x125
13:04:22.028718     apply lower and upper thresholds 0.25 and 2
13:04:22.028823    calculate scale factors for segment -5
13:04:22.028879    scatter size 256x288x125
13:04:22.054162     apply lower and upper thresholds 0.25 and 2
13:04:22.054265    calculate scale factors for segment +6
13:04:22.054320    scatter size 256x288x107
13:04:23.052973     apply lower and upper thresholds 0.25 and 2
13:04:23.053079    calculate scale factors for segment -6
13:04:23.053136    scatter size 256x288x107
13:04:23.011607     apply lower and upper thresholds 0.25 and 2
13:04:23.011713    calculate scale factors for segment +7
13:04:23.011769    scatter size 256x288x89
13:04:23.007676     apply lower and upper thresholds 0.25 and 2
13:04:23.007778    calculate scale factors for segment -7
13:04:23.007834    scatter size 256x288x89
13:04:23.005890     apply lower and upper thresholds 0.25 and 2
13:04:30.063348   scatter fraction at first pass=42.7327%
13:04:31.025269  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_sc_ATX.s
13:04:31.025396   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_sc_ATX.s (matrix 0)
13:04:31.044326   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_sc_ATX.h33 (matrix 0)
13:04:31.044673  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_sc_ATX.s
13:04:31.058092  
13:04:31.058214 gantry model values that may have been used:
13:04:31.058258  model number=328
13:04:31.058303  defaultElements()=256
13:04:31.058358  binSize()=0.121875cm
13:04:31.058401  defaultAngles()=288
13:04:31.058452  planeSep()=0.121875cm
13:04:31.058497  crystalRadius()=23.45cm
13:04:31.058541  sinogramDepthOfInteraction()=0cm
13:04:31.058586  sinogramIntrinsicTilt()=0 degrees
13:04:31.058624  isRingArch()=false
13:04:31.058660  isPETOnlyArch()=true
13:04:31.058702  defPlaneDefSpan3D()=3
13:04:31.058744  defRingDiffMax()=67
13:04:31.058785  bucketsPerRing()=unknown
13:04:31.058827  bucketRings()=1
13:04:31.058869  axialBlocks()=13
13:04:31.058930  transBlocks()=9
13:04:31.058971  axialCrystals()=8
13:04:31.059012  transCrystals()=8
13:04:31.059053  axialBlockGaps()=0
13:04:31.059094  transBlockGaps()=0
13:04:31.059143  directPlanes()=104
13:04:31.059184  defaultLLD()=400 keV
13:04:31.059225  defaultULD()=650 keV
13:04:31.059266  nCrystalLayers()=2
13:04:31.059310   crystalLayerMaterial(0)=LSO
13:04:31.059380   crystalLayerBackgroundErgRatio(0)=14%
13:04:31.059429   crystalLayerFWHMErgRes(0)=17%
13:04:31.059475   crystalLayerDepth(0)=1cm
13:04:31.059518   crystalLayerMaterial(1)=LYSO
13:04:31.059570   crystalLayerBackgroundErgRatio(1)=14%
13:04:31.059619   crystalLayerFWHMErgRes(1)=17%
13:04:31.059664   crystalLayerDepth(1)=1cm
13:04:31.059708  maxScatterZfOV()=40cm
13:04:31.059744  
13:04:31.031671 processing time 00:00:30.2227 (hh:mm:ss)
13:04:31.031787 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:04:31.031841 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:04:31.031883 memory access pattern: 411 entries
13:04:31.031920  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1698152448
13:04:32	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
13:04:32	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_sc_ATX.s
13:04:32	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5.s
13:04:32	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5.ch
13:04:32	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
13:04:32	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.a
13:04:32	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_3D_ATX.i
13:04:32	  Method               : OPO3D
13:04:32	  Positivity constraint in sinogram space
13:04:32	  Max of sensitivity image      : 1.000000e+04
13:04:32	  Threshold for missing data    : 1.000000e-04
13:04:32	  Threshold for image update    : 1.000000e-10
13:04:32	  Maximum of image      	: 10000000000.000000
13:04:32	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:013:04:32	Model 999 
13:04:32	  Triming 3 planes at segment edges 
13:04:32	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
13:04:32	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_ra_smo.s , scan duration 30
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 17 iterations (42 msec)
1	714 msec   
2	3226 msec   
3	3456 msec   
4	3730 msec   
5	612 msec   
Smooth Delays computed in 12461 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4750 msec.
Total time 17211 msec.
13:04:50	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.a: attenuation file size 651460608
13:04:50	expected file size 256x288x2209(2209)
13:04:50	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr5.a: attenuation file type 0
13:04:50	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
13:04:50	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
13:04:50	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_3D_ATX.i reconstruction started
13:04:50	  Prepare components of update equation from input data ...
13:04:55	  Read normalization and normalize delayed
13:04:55	  Apply normalization mask to prompt sinogram
13:04:58	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
13:05:24	  Iteration 1 in 84.410 sec
13:05:49	  Iteration 2 in 84.810 sec
13:06:15	  Iteration 3 in 84.470 sec
13:06:40	  Iteration 4 in 84.750 sec
13:07:06	  Iteration 5 in 84.240 sec
13:07:31	  Iteration 6 in 84.770 sec
13:07:57	  Iteration 7 in 85.910 sec
13:08:22	  Iteration 8 in 83.840 sec
13:08:48	  Iteration 9 in 84.450 sec
13:09:13	  Iteration 10 in 85.160 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_3D_ATX.i' complete
13:09:14	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame5_3D_ATX.i reconstruction done in 281 sec
13:09:14.041463 unknown (0x)    memory: 0 MByte
13:09:14.041569 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:09:14.041621 Revision: 275.1
13:09:14.041680 current date and time (GMT): Sat Dec  4 18:09:14 2010
13:09:14.041736 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:09:14.041817 free memory in memory controller: 9541.25 MByte
13:09:14.041971 memory access pattern found
13:09:14.042025 free memory in memory controller: 9541.25 MByte
13:09:14.047390 calculate acf for 1 matrix
13:09:14.047448  span=9
13:09:14.047495  maximum ring difference=67
13:09:14.047558  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.i
13:09:14.047612   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.i'
13:09:14.047661    matrix number=0
13:09:15.016419    XYSamples=128
13:09:15.016546    DeltaXY=2.4375mm
13:09:15.016592    ZSamples=207
13:09:15.016638    DeltaZ=1.21875mm
13:09:15.016679    corrections applied=
13:09:15.016719    u-map data=yes
13:09:15.016803    bed position=0mm
13:09:15.016850    scan start time=0 sec
13:09:15.016901    scan frame duration=0 sec (0 min)
13:09:15.016964    scan gate duration=0 sec (0 min)
13:09:15.017011    isotope halflife=0 sec
13:09:15.017055    lld=0 KeV
13:09:15.017099    uld=0 KeV
13:09:15.023531  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:09:15.023647  XYSamples=128
13:09:15.023699  DeltaXY=2.4375mm
13:09:15.023737  RhoSamples=256
13:09:15.023795  BinSizeRho=1.21875mm
13:09:15.023833  ThetaSamples=288
13:09:15.023871  plane separation=1.21875mm
13:09:15.023915  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:09:15.023954  subsets=1
13:09:15.023991  axes=1
13:09:15.024037  axis table=207 {207}
13:09:15.024073  algorithm=UW-OSEM
13:09:15.024108  use LUT=no
13:09:15.024270  time of flight bins=1
13:09:15.024335  initialize forward-projector
13:09:15.024374   angles of segment 0
13:09:15.024411    plane 0-206: 0 degrees
13:09:15.024638  start forward projection
13:09:15.060567   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:09:15.060687    project segment 0
13:09:17.002799   finished forward projection of subset 0 in 2.59766 sec
13:09:17.020677   scale 207 planes of sinogram by 0.410256
13:09:17.050518  finished forward projection in 2.74609 sec
13:09:17.050625  convert emission into transmission data
13:09:18.000412  span=9
13:09:18.000531  maximum ring difference=67
13:09:18.000617  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:09:18.000797   replace values below 1 by 1
13:09:18.021696   copy 207 planes of segment 0
13:09:19.017744   create 360 degrees sinogram (512x576x207)
13:09:19.063558   calculate 3d fourier transform of sinogram
13:09:23.038367   calculate 394 planes of axis 1
13:09:23.017083    calculate fourier projection of axis 1
13:09:26.039995    calculate inverse fourier transform of axis 1
13:09:30.012233    split axis 1 into 2 segments
13:09:30.039853    calculate weighting of axis 1
13:09:31.015297   finished with axis 1
13:09:31.015425   calculate 358 planes of axis 2
13:09:32.028623    calculate fourier projection of axis 2
13:09:35.003633    calculate inverse fourier transform of axis 2
13:09:39.062058    split axis 2 into 2 segments
13:09:39.013255    calculate weighting of axis 2
13:09:40.006242   finished with axis 2
13:09:40.006371   calculate 322 planes of axis 3
13:09:41.010784    calculate fourier projection of axis 3
13:09:44.013300    calculate inverse fourier transform of axis 3
13:09:48.034359    split axis 3 into 2 segments
13:09:48.039452    calculate weighting of axis 3
13:09:49.047253   finished with axis 3
13:09:49.047380   calculate 286 planes of axis 4
13:09:49.056280    calculate fourier projection of axis 4
13:09:52.013718    calculate inverse fourier transform of axis 4
13:09:56.001912    split axis 4 into 2 segments
13:09:56.004781    calculate weighting of axis 4
13:09:57.044020   finished with axis 4
13:09:57.044152   calculate 250 planes of axis 5
13:09:57.042779    calculate fourier projection of axis 5
13:10:00.037417    calculate inverse fourier transform of axis 5
13:10:03.025763    split axis 5 into 2 segments
13:10:03.015514    calculate weighting of axis 5
13:10:04.012280   finished with axis 5
13:10:04.012415   calculate 214 planes of axis 6
13:10:04.000471    calculate fourier projection of axis 6
13:10:07.007430    calculate inverse fourier transform of axis 6
13:10:09.056641    split axis 6 into 2 segments
13:10:09.038586    calculate weighting of axis 6
13:10:09.022518   finished with axis 6
13:10:09.022636   calculate 178 planes of axis 7
13:10:10.054611    calculate fourier projection of axis 7
13:10:12.044698    calculate inverse fourier transform of axis 7
13:10:14.029922    split axis 7 into 2 segments
13:10:14.003887    calculate weighting of axis 7
13:10:15.005539   finished with axis 7
13:10:15.058686  axes=8
13:10:15.058807  axis table=2209 {207,394,358,322,286,250,214,178}
13:10:15.058873  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.a
13:10:15.058938   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.a (matrix 0)
13:10:16.050945   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.h33 (matrix 0)
13:10:16.029334  
13:10:16.029456 gantry model values that may have been used:
13:10:16.029499  model number=328
13:10:16.029543  defaultElements()=256
13:10:16.029599  binSize()=0.121875cm
13:10:16.029642  defaultAngles()=288
13:10:16.029684  planeSep()=0.121875cm
13:10:16.029728  crystalRadius()=23.45cm
13:10:16.029771  sinogramDepthOfInteraction()=0cm
13:10:16.029826  sinogramIntrinsicTilt()=0 degrees
13:10:16.029863  isRingArch()=false
13:10:16.029899  isPETOnlyArch()=true
13:10:16.029940  defPlaneDefSpan3D()=3
13:10:16.029981  defRingDiffMax()=67
13:10:16.030021  bucketsPerRing()=unknown
13:10:16.030063  bucketRings()=1
13:10:16.030104  axialBlocks()=13
13:10:16.030145  transBlocks()=9
13:10:16.030203  axialCrystals()=8
13:10:16.030243  transCrystals()=8
13:10:16.030282  axialBlockGaps()=0
13:10:16.030322  transBlockGaps()=0
13:10:16.030361  directPlanes()=104
13:10:16.030402  defaultLLD()=400 keV
13:10:16.030442  defaultULD()=650 keV
13:10:16.030482  nCrystalLayers()=2
13:10:16.030526   crystalLayerMaterial(0)=LSO
13:10:16.030595   crystalLayerBackgroundErgRatio(0)=12%
13:10:16.030643   crystalLayerFWHMErgRes(0)=17%
13:10:16.030688   crystalLayerDepth(0)=1cm
13:10:16.030731   crystalLayerMaterial(1)=LYSO
13:10:16.030788   crystalLayerBackgroundErgRatio(1)=12%
13:10:16.030837   crystalLayerFWHMErgRes(1)=17%
13:10:16.030882   crystalLayerDepth(1)=1cm
13:10:16.030925  maxScatterZfOV()=40cm
13:10:16.030961  
13:10:16.031015 processing time 00:01:01.39844 (hh:mm:ss)
13:10:16.031079 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:10:16.031132 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:10:16.031173 memory access pattern: 36 entries
13:10:16.031208  
13:10:17.040521 unknown (0x)    memory: 0 MByte
13:10:17.040623 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:10:17.040674 Revision: 275.1
13:10:17.040733 current date and time (GMT): Sat Dec  4 18:10:17 2010
13:10:17.040833 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
13:10:17.040926 free memory in memory controller: 9541.25 MByte
13:10:17.041089 memory access pattern found
13:10:17.041145 free memory in memory controller: 9541.25 MByte
13:10:17.041214 Default crystalLayerBackgroundErgRatio: 12,12
13:10:17.041279 Specified crystalLayerBackgroundErgRatio: 14,14
13:10:17.054768 calculate sinogram for 1 matrix
13:10:17.054870  loading the 3d emission scan (matrix 0)
13:10:17.054924   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6.tr.s'
13:10:17.054974    matrix number=0
13:10:19.051413    RhoSamples=256
13:10:19.051553    BinSizeRho=1.21875mm
13:10:19.051603    ThetaSamples=288
13:10:19.051650    mash factor=0
13:10:19.051698    plane separation=1.21875mm
13:10:19.051746    axes=8
13:10:19.051845    axis table=2209 {207,394,358,322,286,250,214,178}
13:10:19.051893    span=9
13:10:19.051940    maximum ring difference=67
13:10:19.051989    intrinsic tilt=0 degrees
13:10:19.052037    bed position=0mm
13:10:19.052086    scan start time=0 sec
13:10:19.052139    scan frame duration=0 sec (0 min)
13:10:19.052193    scan gate duration=0 sec (0 min)
13:10:19.052241    isotope halflife=0 sec
13:10:19.052288    lld=400 KeV
13:10:19.052333    uld=650 KeV
13:10:19.052376    corrections applied=
13:10:19.052439  calculating the 3d normalisation scan (matrix 0)
13:10:19.052497   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
13:10:20.051324    matrix number=0
13:10:20.051441    RhoSamples=256
13:10:20.051496    BinSizeRho=1.21875mm
13:10:20.051536    ThetaSamples=288
13:10:20.051576    mash factor=0
13:10:20.051618    plane separation=1.21875mm
13:10:20.051681    axes=8
13:10:20.051736    axis table=2209 {207,394,358,322,286,250,214,178}
13:10:20.051775    span=9
13:10:20.051812    maximum ring difference=67
13:10:20.051851    intrinsic tilt=0 degrees
13:10:20.051890    bed position=0mm
13:10:20.051929    scan start time=0 sec
13:10:20.051972    scan frame duration=0 sec (0 min)
13:10:20.052015    scan gate duration=0 sec (0 min)
13:10:20.052054    isotope halflife=0 sec
13:10:20.052091    lld=400 KeV
13:10:20.052128    uld=650 KeV
13:10:20.052162    corrections applied=
13:10:20.052205  normalize 3d emission
13:10:20.052240   multiply sinograms
13:10:22.065351  normalization based gap filling
13:10:22.000586    fill 207 planes 8 threads
13:10:22.031697    fill 394 planes 8 threads
13:10:22.010422    fill 358 planes 8 threads
13:10:22.041813    fill 322 planes 8 threads
13:10:23.031035    fill 286 planes 8 threads
13:10:23.019285    fill 250 planes 8 threads
13:10:23.064912    fill 214 planes 8 threads
13:10:23.005622    fill 178 planes 8 threads
13:10:23.050563   bed position in emission=0mm
13:10:23.050760   bed position in u-map=0mm
13:10:23.050877   bed position in acf=0mm
13:10:23.050947  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.i
13:10:23.051005   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.i'
13:10:23.051059    matrix number=0
13:10:23.004602    XYSamples=128
13:10:23.004731    DeltaXY=2.4375mm
13:10:23.004779    ZSamples=207
13:10:23.004827    DeltaZ=1.21875mm
13:10:23.004869    corrections applied=
13:10:23.004911    u-map data=yes
13:10:23.004959    bed position=0mm
13:10:23.005007    scan start time=0 sec
13:10:23.005061    scan frame duration=0 sec (0 min)
13:10:23.005114    scan gate duration=0 sec (0 min)
13:10:23.005162    isotope halflife=0 sec
13:10:23.005209    lld=0 KeV
13:10:23.005265    uld=0 KeV
13:10:23.005323  loading the acf (matrix 0)
13:10:23.005380   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.a'
13:10:23.005432    matrix number=0
13:10:24.058597    RhoSamples=256
13:10:24.058727    BinSizeRho=1.21875mm
13:10:24.058772    ThetaSamples=288
13:10:24.058814    mash factor=0
13:10:24.058858    plane separation=1.21875mm
13:10:24.058915    axes=8
13:10:24.058980    axis table=2209 {207,394,358,322,286,250,214,178}
13:10:24.059026    span=9
13:10:24.059068    maximum ring difference=67
13:10:24.059113    intrinsic tilt=0 degrees
13:10:24.059157    bed position=0mm
13:10:24.059201    scan start time=0 sec
13:10:24.059250    scan frame duration=0 sec (0 min)
13:10:24.059299    scan gate duration=0 sec (0 min)
13:10:24.059343    isotope halflife=0 sec
13:10:24.059386    lld=400 KeV
13:10:24.059428    uld=650 KeV
13:10:24.059467    corrections applied=
13:10:24.059527  replace values below 1 by 1
13:10:24.020345  estimate scatter sinogram
13:10:24.034180   counts in image: min=0  max=0.15578  total=53503.2
13:10:24.034352   start single-slice rebinning from 256x288x2209 to 256x288x207
13:10:24.034396   initialize SSR
13:10:24.034440    RhoSamples=256
13:10:24.034482    ThetaSamples=288
13:10:24.034525    axes=8
13:10:24.034587    axis table=2209 {207,394,358,322,286,250,214,178}
13:10:25.023459    skip 2 planes at each side of a segment
13:10:25.023599    calculate e*n*a of axis 0 (skip 2 border planes)
13:10:25.023650     calculate axis 0 of corrected sinogram
13:10:25.028035    calculate single-slice rebinning of axis 0
13:10:25.028164    ssr 203 planes
13:10:25.019639    calculate e*n*a of axis 1 (skip 2 border planes)
13:10:25.019753     calculate axis 1 of corrected sinogram
13:10:25.010771    calculate single-slice rebinning of axis 1
13:10:25.010905    ssr 193 planes
13:10:25.027777    calculate e*n*a of axis 2 (skip 2 border planes)
13:10:25.027886     calculate axis 2 of corrected sinogram
13:10:25.042899    calculate single-slice rebinning of axis 2
13:10:25.043026    ssr 175 planes
13:10:25.052566    calculate e*n*a of axis 3 (skip 2 border planes)
13:10:25.052677     calculate axis 3 of corrected sinogram
13:10:26.029214    calculate single-slice rebinning of axis 3
13:10:26.029367    ssr 157 planes
13:10:26.031638    calculate e*n*a of axis 4 (skip 2 border planes)
13:10:26.031749     calculate axis 4 of corrected sinogram
13:10:26.003963    calculate single-slice rebinning of axis 4
13:10:26.004086    ssr 139 planes
13:10:26.064349    calculate e*n*a of axis 5 (skip 2 border planes)
13:10:26.064457     calculate axis 5 of corrected sinogram
13:10:26.016021    calculate single-slice rebinning of axis 5
13:10:26.016144    ssr 121 planes
13:10:26.003090    calculate e*n*a of axis 6 (skip 2 border planes)
13:10:26.003213     calculate axis 6 of corrected sinogram
13:10:26.064665    calculate single-slice rebinning of axis 6
13:10:26.064789    ssr 103 planes
13:10:26.044091    calculate e*n*a of axis 7 (skip 2 border planes)
13:10:26.044218     calculate axis 7 of corrected sinogram
13:10:26.018185    calculate single-slice rebinning of axis 7
13:10:26.018307    ssr 85 planes
13:10:26.055747    normalize sinogram
13:10:26.041786   finished single-slice rebinning in 2.00781 sec
13:10:26.041922   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
13:10:26.041986    XYSamples=128
13:10:26.042029    DeltaXY=2.4375mm
13:10:26.042070    RhoSamples=256
13:10:26.042113    BinSizeRho=1.21875mm
13:10:26.042153    ThetaSamples=288
13:10:26.042196    plane separation=1.21875mm
13:10:26.042242    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:10:26.042286    subsets=8
13:10:26.042326    axes=1
13:10:26.042371    axis table=207 {207}
13:10:26.042411    algorithm=AW-OSEM
13:10:26.042449    use LUT=small
13:10:26.042619    initialize backprojector
13:10:26.042691     angle of segment 0: 0 degrees
13:10:26.042927     create mode 1 lookup-table for backprojector: 63 MByte
13:10:27.018527     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
13:10:27.004898     start calculation of normalization factors for AW-OSEM
13:10:27.005089      allocate 103.5 MByte for normalization factors
13:10:27.005140      start calculation of normalization factors for subset 0
13:10:27.020068       calculate segment 0, subset 0 of 1/a sinogram
13:10:27.043629       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
13:10:27.060940      finished calculation of normalization factors for subset 0 in 0.121094 sec
13:10:27.061044      start calculation of normalization factors for subset 1
13:10:27.010221       calculate segment 0, subset 1 of 1/a sinogram
13:10:27.027886       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
13:10:27.041752      finished calculation of normalization factors for subset 1 in 0.113281 sec
13:10:27.041847      start calculation of normalization factors for subset 2
13:10:27.056651       calculate segment 0, subset 2 of 1/a sinogram
13:10:27.019469       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
13:10:27.001541      finished calculation of normalization factors for subset 2 in 0.15625 sec
13:10:27.001639      start calculation of normalization factors for subset 3
13:10:27.018463       calculate segment 0, subset 3 of 1/a sinogram
13:10:27.037712       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
13:10:27.040685      finished calculation of normalization factors for subset 3 in 0.105469 sec
13:10:27.040782      start calculation of normalization factors for subset 4
13:10:27.055958       calculate segment 0, subset 4 of 1/a sinogram
13:10:27.008536       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
13:10:27.031808      finished calculation of normalization factors for subset 4 in 0.121094 sec
13:10:27.031913      start calculation of normalization factors for subset 5
13:10:27.047817       calculate segment 0, subset 5 of 1/a sinogram
13:10:27.000007       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
13:10:27.008903      finished calculation of normalization factors for subset 5 in 0.109375 sec
13:10:27.009001      start calculation of normalization factors for subset 6
13:10:27.024386       calculate segment 0, subset 6 of 1/a sinogram
13:10:27.042005       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
13:10:27.026798      finished calculation of normalization factors for subset 6 in 0.148438 sec
13:10:27.026892      start calculation of normalization factors for subset 7
13:10:27.044125       calculate segment 0, subset 7 of 1/a sinogram
13:10:27.061972       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
13:10:28.052214      finished calculation of normalization factors for subset 7 in 0.105469 sec
13:10:28.052351     finished calculation of normalization factors in 0.980469 sec
13:10:28.052408    divide sinograms
13:10:28.024152    initialize forward-projector
13:10:28.024274     angles of segment 0
13:10:28.024318      plane 0-206: 0 degrees
13:10:28.024575     create mode 1 lookup-table for forward-projector: 126 MByte
13:10:28.063808     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
13:10:28.063472     start reconstruction from 256x288x207 to 128x128x207
13:10:28.063604      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
13:10:28.009324      start iteration 1, subset 0
13:10:28.036396      finished iteration 1, subset 0 in 0.289062 sec
13:10:28.036499      start iteration 1, subset 4
13:10:29.053632      finished iteration 1, subset 4 in 0.296875 sec
13:10:29.053746      start iteration 1, subset 2
13:10:29.046933      finished iteration 1, subset 2 in 0.253906 sec
13:10:29.047036      start iteration 1, subset 6
13:10:29.033049      finished iteration 1, subset 6 in 0.25 sec
13:10:29.033151      start iteration 1, subset 1
13:10:30.016353      finished iteration 1, subset 1 in 0.261719 sec
13:10:30.016462      start iteration 1, subset 5
13:10:30.034403      finished iteration 1, subset 5 in 0.28125 sec
13:10:30.034523      start iteration 1, subset 3
13:10:30.052530      finished iteration 1, subset 3 in 0.214844 sec
13:10:30.052631      start iteration 1, subset 7
13:10:30.057341      finished iteration 1, subset 7 in 0.265625 sec
13:10:30.057455      start iteration 2, subset 0
13:10:31.014014      finished iteration 2, subset 0 in 0.238281 sec
13:10:31.014116      start iteration 2, subset 4
13:10:31.045594      finished iteration 2, subset 4 in 0.292969 sec
13:10:31.045697      start iteration 2, subset 2
13:10:31.055371      finished iteration 2, subset 2 in 0.269531 sec
13:10:31.055479      start iteration 2, subset 6
13:10:31.016946      finished iteration 2, subset 6 in 0.289062 sec
13:10:31.017049      start iteration 2, subset 1
13:10:32.057080      finished iteration 2, subset 1 in 0.253906 sec
13:10:32.057212      start iteration 2, subset 5
13:10:32.048375      finished iteration 2, subset 5 in 0.253906 sec
13:10:32.048480      start iteration 2, subset 3
13:10:32.051186      finished iteration 2, subset 3 in 0.199219 sec
13:10:32.051299      start iteration 2, subset 7
13:10:32.041206      finished iteration 2, subset 7 in 0.1875 sec
13:10:32.041313      start iteration 3, subset 0
13:10:33.009312      finished iteration 3, subset 0 in 0.246094 sec
13:10:33.009411      start iteration 3, subset 4
13:10:33.054363      finished iteration 3, subset 4 in 0.308594 sec
13:10:33.054466      start iteration 3, subset 2
13:10:33.027715      finished iteration 3, subset 2 in 0.300781 sec
13:10:33.027827      start iteration 3, subset 6
13:10:33.022769      finished iteration 3, subset 6 in 0.257812 sec
13:10:33.022871      start iteration 3, subset 1
13:10:34.049097      finished iteration 3, subset 1 in 0.304688 sec
13:10:34.049199      start iteration 3, subset 5
13:10:34.057237      finished iteration 3, subset 5 in 0.335938 sec
13:10:34.057340      start iteration 3, subset 3
13:10:34.025568      finished iteration 3, subset 3 in 0.296875 sec
13:10:34.025680      start iteration 3, subset 7
13:10:35.022050      finished iteration 3, subset 7 in 0.273438 sec
13:10:35.022198      mask 207 planes of image
13:10:35.036596      scale image with 1.21875
13:10:35.043144      scale image with 4
13:10:35.049970     finished reconstruction in 6.46484 sec
13:10:35.050063     forward projector: 3.32031 sec
13:10:35.050106     backprojector: 2.17188 sec
13:10:35.060013   finished reconstruction of emission in 8.16406 sec
13:10:35.060100   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
13:10:35.057300   scale image by 4.10256
13:10:35.009525   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:10:35.009641   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:10:35.009711   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:10:35.009772   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:10:35.009826   start scatter estimation
13:10:35.009880    calculate matrix for beta-spline interpolation
13:10:35.019201    start scatter simulation
13:10:35.019276     effective detector ring radius=234.5mm (234.5mm+0mm)
13:10:35.019322     DeltaXY=2.4375mm
13:10:35.019363     DeltaZ=1.21875mm
13:10:35.019415     LLD=400 keV
13:10:35.019457     ULD=650 keV
13:10:35.028983     search bounds of object in u-map
13:10:35.054678     x bounds (-x,+x)=-93.8413mm,84.0913mm
13:10:35.054818     y bounds (-y,+y)=-106.029mm,135.279mm
13:10:35.000922     z bounds (-z,+z)=-56.6707mm,124.921mm
13:10:35.000982     length of axial scatter fov=363.178mm (max. 363.178mm)
13:10:35.001046     scatter samples (x,y,z)=8,11,16
13:10:35.001098     image size (x,y,z)=177.933mm,241.308mm,363.178mm
13:10:35.001150     scatter_grid size (x,y,z)=22.2416mm,21.9371mm,22.6986mm
13:10:35.050002     start simulation of scatter sinogram (19x34x10)
13:10:35.050231      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
13:10:35.050300      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
13:10:35.050394      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
13:10:35.050483      thread 1: 329 samples in plane 0 inside of object (plane 8 of full sinogram)
13:10:35.050559      thread 2: 406 samples in plane 1 inside of object (plane 29 of full sinogram)
13:10:35.050633      thread 3: 494 samples in plane 2 inside of object (plane 50 of full sinogram)
13:10:35.052715      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
13:10:35.052887      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
13:10:35.053074      thread 4: 510 samples in plane 3 inside of object (plane 71 of full sinogram)
13:10:35.058911      thread 7: 500 samples in plane 6 inside of object (plane 134 of full sinogram)
13:10:35.061787      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
13:10:35.062055      thread 5: 511 samples in plane 4 inside of object (plane 92 of full sinogram)
13:10:35.028548      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
13:10:35.028765      thread 6: 516 samples in plane 5 inside of object (plane 113 of full sinogram)
13:10:35.059355      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
13:10:35.059536      thread 8: 512 samples in plane 8 inside of object (plane 176 of full sinogram)
13:10:35.064862      thread 7: 517 samples in plane 7 inside of object (plane 155 of full sinogram)
13:10:35.052903      thread 8: 506 samples in plane 9 inside of object (plane 197 of full sinogram)
13:10:35.045801     finished simulation of scatter sinogram
13:10:35.057513    finished scatter simulation in 0.300781 sec
13:10:35.057624    calculate beta-spline interpolation from 17x34x10 to 256x288x207
13:10:36.023881   finished scatter estimation in 1.53516 sec
13:10:36.023966   convert 2d scatter sinogram into 3d sinogram
13:10:36.024011   calculate axial scatter scale factors (smoothed with boxcar 17)
13:10:36.024078    acf threshold=1.03
13:10:37.034286    calculate scale factors for segment 0
13:10:37.034390    scatter size 256x288x207
13:10:37.010435     apply lower and upper thresholds 0.25 and 2
13:10:37.010551    calculate scale factors for segment +1
13:10:37.010621    scatter size 256x288x197
13:10:37.032056     apply lower and upper thresholds 0.25 and 2
13:10:37.032160    calculate scale factors for segment -1
13:10:37.032214    scatter size 256x288x197
13:10:37.052906     apply lower and upper thresholds 0.25 and 2
13:10:37.053015    calculate scale factors for segment +2
13:10:37.053070    scatter size 256x288x179
13:10:37.061698     apply lower and upper thresholds 0.25 and 2
13:10:37.061805    calculate scale factors for segment -2
13:10:37.061861    scatter size 256x288x179
13:10:37.001746     apply lower and upper thresholds 0.25 and 2
13:10:37.001851    calculate scale factors for segment +3
13:10:37.001910    scatter size 256x288x161
13:10:37.060787     apply lower and upper thresholds 0.25 and 2
13:10:37.060903    calculate scale factors for segment -3
13:10:37.060958    scatter size 256x288x161
13:10:38.034646     apply lower and upper thresholds 0.25 and 2
13:10:38.034752    calculate scale factors for segment +4
13:10:38.034808    scatter size 256x288x143
13:10:38.012935     apply lower and upper thresholds 0.25 and 2
13:10:38.013040    calculate scale factors for segment -4
13:10:38.013096    scatter size 256x288x143
13:10:38.051017     apply lower and upper thresholds 0.25 and 2
13:10:38.051119    calculate scale factors for segment +5
13:10:38.051175    scatter size 256x288x125
13:10:38.010052     apply lower and upper thresholds 0.25 and 2
13:10:38.010153    calculate scale factors for segment -5
13:10:38.010208    scatter size 256x288x125
13:10:38.031927     apply lower and upper thresholds 0.25 and 2
13:10:38.032029    calculate scale factors for segment +6
13:10:38.032085    scatter size 256x288x107
13:10:38.040992     apply lower and upper thresholds 0.25 and 2
13:10:38.041093    calculate scale factors for segment -6
13:10:38.041147    scatter size 256x288x107
13:10:38.048029     apply lower and upper thresholds 0.25 and 2
13:10:38.048129    calculate scale factors for segment +7
13:10:38.048184    scatter size 256x288x89
13:10:38.042811     apply lower and upper thresholds 0.25 and 2
13:10:38.042910    calculate scale factors for segment -7
13:10:38.042966    scatter size 256x288x89
13:10:38.035726     apply lower and upper thresholds 0.25 and 2
13:10:46.037451   scatter fraction at first pass=42.2394%
13:10:46.007354  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_sc_ATX.s
13:10:46.007485   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_sc_ATX.s (matrix 0)
13:10:46.026909   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_sc_ATX.h33 (matrix 0)
13:10:46.027259  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_sc_ATX.s
13:10:46.040165  
13:10:46.040268 gantry model values that may have been used:
13:10:46.040314  model number=328
13:10:46.040360  defaultElements()=256
13:10:46.040417  binSize()=0.121875cm
13:10:46.040463  defaultAngles()=288
13:10:46.040516  planeSep()=0.121875cm
13:10:46.040563  crystalRadius()=23.45cm
13:10:46.040609  sinogramDepthOfInteraction()=0cm
13:10:46.040657  sinogramIntrinsicTilt()=0 degrees
13:10:46.040708  isRingArch()=false
13:10:46.040747  isPETOnlyArch()=true
13:10:46.040792  defPlaneDefSpan3D()=3
13:10:46.040836  defRingDiffMax()=67
13:10:46.040879  bucketsPerRing()=unknown
13:10:46.040924  bucketRings()=1
13:10:46.040968  axialBlocks()=13
13:10:46.041012  transBlocks()=9
13:10:46.041056  axialCrystals()=8
13:10:46.041100  transCrystals()=8
13:10:46.041143  axialBlockGaps()=0
13:10:46.041187  transBlockGaps()=0
13:10:46.041230  directPlanes()=104
13:10:46.041274  defaultLLD()=400 keV
13:10:46.041319  defaultULD()=650 keV
13:10:46.041363  nCrystalLayers()=2
13:10:46.041410   crystalLayerMaterial(0)=LSO
13:10:46.041482   crystalLayerBackgroundErgRatio(0)=14%
13:10:46.041534   crystalLayerFWHMErgRes(0)=17%
13:10:46.041582   crystalLayerDepth(0)=1cm
13:10:46.041630   crystalLayerMaterial(1)=LYSO
13:10:46.041689   crystalLayerBackgroundErgRatio(1)=14%
13:10:46.041743   crystalLayerFWHMErgRes(1)=17%
13:10:46.041811   crystalLayerDepth(1)=1cm
13:10:46.041856  maxScatterZfOV()=40cm
13:10:46.041893  
13:10:46.014872 processing time 00:00:29.6289 (hh:mm:ss)
13:10:46.014989 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:10:46.015043 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:10:46.015085 memory access pattern: 411 entries
13:10:46.015125  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1696387072
13:10:48	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
13:10:48	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_sc_ATX.s
13:10:48	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6.s
13:10:48	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6.ch
13:10:48	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
13:10:48	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.a
13:10:48	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_3D_ATX.i
13:10:48	  Method               : OPO3D
13:10:48	  Positivity constraint in sinogram space
13:10:48	  Max of sensitivity image      : 1.000000e+04
13:10:48	  Threshold for missing data    : 1.000000e-04
13:10:48	  Threshold for image update    : 1.000000e-10
13:10:48	  Maximum of image      	: 10000000000.000000
13:10:48	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:013:10:48	Model 999 
13:10:48	  Triming 3 planes at segment edges 
13:10:48	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
13:10:48	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_ra_smo.s , scan duration 30
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 17 iterations (41 msec)
1	697 msec   
2	3264 msec   
3	3842 msec   
4	3252 msec   
5	517 msec   
Smooth Delays computed in 12274 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4829 msec.
Total time 17103 msec.
13:11:05	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.a: attenuation file size 651460608
13:11:05	expected file size 256x288x2209(2209)
13:11:05	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr6.a: attenuation file type 0
13:11:05	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
13:11:06	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
13:11:06	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_3D_ATX.i reconstruction started
13:11:06	  Prepare components of update equation from input data ...
13:11:11	  Read normalization and normalize delayed
13:11:11	  Apply normalization mask to prompt sinogram
13:11:14	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
13:11:40	  Iteration 1 in 84.890 sec
13:12:06	  Iteration 2 in 84.680 sec
13:12:32	  Iteration 3 in 84.590 sec
13:12:57	  Iteration 4 in 84.580 sec
13:13:23	  Iteration 5 in 84.000 sec
13:13:49	  Iteration 6 in 85.700 sec
13:14:14	  Iteration 7 in 83.870 sec
13:14:40	  Iteration 8 in 85.010 sec
13:15:06	  Iteration 9 in 85.610 sec
13:15:31	  Iteration 10 in 83.840 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_3D_ATX.i' complete
13:15:32	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame6_3D_ATX.i reconstruction done in 283 sec
13:15:33.051766 unknown (0x)    memory: 0 MByte
13:15:33.051870 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:15:33.051921 Revision: 275.1
13:15:33.051979 current date and time (GMT): Sat Dec  4 18:15:33 2010
13:15:33.052034 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:15:33.052114 free memory in memory controller: 9541.25 MByte
13:15:33.052256 memory access pattern found
13:15:33.052309 free memory in memory controller: 9541.25 MByte
13:15:33.062999 calculate acf for 1 matrix
13:15:33.063057  span=9
13:15:33.063104  maximum ring difference=67
13:15:33.063168  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.i
13:15:33.063221   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.i'
13:15:33.063276    matrix number=0
13:15:33.055809    XYSamples=128
13:15:33.055936    DeltaXY=2.4375mm
13:15:33.055982    ZSamples=207
13:15:33.056027    DeltaZ=1.21875mm
13:15:33.056067    corrections applied=
13:15:33.056107    u-map data=yes
13:15:33.056152    bed position=0mm
13:15:33.056197    scan start time=0 sec
13:15:33.056248    scan frame duration=0 sec (0 min)
13:15:33.056307    scan gate duration=0 sec (0 min)
13:15:33.056353    isotope halflife=0 sec
13:15:33.056397    lld=0 KeV
13:15:33.056440    uld=0 KeV
13:15:33.062903  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:15:33.063028  XYSamples=128
13:15:33.063087  DeltaXY=2.4375mm
13:15:33.063130  RhoSamples=256
13:15:33.063174  BinSizeRho=1.21875mm
13:15:33.063217  ThetaSamples=288
13:15:33.063279  plane separation=1.21875mm
13:15:33.063332  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:15:33.063377  subsets=1
13:15:33.063419  axes=1
13:15:33.063472  axis table=207 {207}
13:15:33.063512  algorithm=UW-OSEM
13:15:33.063553  use LUT=no
13:15:33.063739  time of flight bins=1
13:15:33.063787  initialize forward-projector
13:15:33.063832   angles of segment 0
13:15:33.063876    plane 0-206: 0 degrees
13:15:33.064137  start forward projection
13:15:33.025831   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:15:33.025949    project segment 0
13:15:35.029924   finished forward projection of subset 0 in 2.39453 sec
13:15:35.047710   scale 207 planes of sinogram by 0.410256
13:15:35.012173  finished forward projection in 2.53906 sec
13:15:35.012280  convert emission into transmission data
13:15:36.022990  span=9
13:15:36.023145  maximum ring difference=67
13:15:36.023234  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:15:36.023422   replace values below 1 by 1
13:15:36.044438   copy 207 planes of segment 0
13:15:36.057317   create 360 degrees sinogram (512x576x207)
13:15:37.020572   calculate 3d fourier transform of sinogram
13:15:40.041508   calculate 394 planes of axis 1
13:15:41.005237    calculate fourier projection of axis 1
13:15:44.037871    calculate inverse fourier transform of axis 1
13:15:47.035494    split axis 1 into 2 segments
13:15:48.049496    calculate weighting of axis 1
13:15:49.053534   finished with axis 1
13:15:49.053654   calculate 358 planes of axis 2
13:15:49.022426    calculate fourier projection of axis 2
13:15:52.002270    calculate inverse fourier transform of axis 2
13:15:55.026688    split axis 2 into 2 segments
13:15:55.045142    calculate weighting of axis 2
13:15:56.046540   finished with axis 2
13:15:56.046671   calculate 322 planes of axis 3
13:15:56.064449    calculate fourier projection of axis 3
13:15:59.012201    calculate inverse fourier transform of axis 3
13:16:03.022479    split axis 3 into 2 segments
13:16:03.029802    calculate weighting of axis 3
13:16:04.022708   finished with axis 3
13:16:04.022856   calculate 286 planes of axis 4
13:16:04.031352    calculate fourier projection of axis 4
13:16:07.024884    calculate inverse fourier transform of axis 4
13:16:11.001100    split axis 4 into 2 segments
13:16:11.004113    calculate weighting of axis 4
13:16:12.024217   finished with axis 4
13:16:12.024352   calculate 250 planes of axis 5
13:16:12.022756    calculate fourier projection of axis 5
13:16:15.046303    calculate inverse fourier transform of axis 5
13:16:17.032073    split axis 5 into 2 segments
13:16:17.018276    calculate weighting of axis 5
13:16:18.062660   finished with axis 5
13:16:18.062784   calculate 214 planes of axis 6
13:16:18.047860    calculate fourier projection of axis 6
13:16:21.020404    calculate inverse fourier transform of axis 6
13:16:23.027845    split axis 6 into 2 segments
13:16:23.004304    calculate weighting of axis 6
13:16:24.024384   finished with axis 6
13:16:24.024513   calculate 178 planes of axis 7
13:16:24.000034    calculate fourier projection of axis 7
13:16:27.009743    calculate inverse fourier transform of axis 7
13:16:29.054615    split axis 7 into 2 segments
13:16:29.021534    calculate weighting of axis 7
13:16:29.027907   finished with axis 7
13:16:29.020143  axes=8
13:16:29.020266  axis table=2209 {207,394,358,322,286,250,214,178}
13:16:29.020333  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.a
13:16:29.020398   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.a (matrix 0)
13:16:30.011966   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.h33 (matrix 0)
13:16:30.059852  
13:16:30.059981 gantry model values that may have been used:
13:16:30.060028  model number=328
13:16:30.060074  defaultElements()=256
13:16:30.060133  binSize()=0.121875cm
13:16:30.060178  defaultAngles()=288
13:16:30.060231  planeSep()=0.121875cm
13:16:30.060280  crystalRadius()=23.45cm
13:16:30.060325  sinogramDepthOfInteraction()=0cm
13:16:30.060373  sinogramIntrinsicTilt()=0 degrees
13:16:30.060413  isRingArch()=false
13:16:30.060451  isPETOnlyArch()=true
13:16:30.060494  defPlaneDefSpan3D()=3
13:16:30.060538  defRingDiffMax()=67
13:16:30.060581  bucketsPerRing()=unknown
13:16:30.060625  bucketRings()=1
13:16:30.060668  axialBlocks()=13
13:16:30.060712  transBlocks()=9
13:16:30.060755  axialCrystals()=8
13:16:30.060799  transCrystals()=8
13:16:30.060842  axialBlockGaps()=0
13:16:30.060886  transBlockGaps()=0
13:16:30.060928  directPlanes()=104
13:16:30.060972  defaultLLD()=400 keV
13:16:30.061016  defaultULD()=650 keV
13:16:30.061059  nCrystalLayers()=2
13:16:30.061106   crystalLayerMaterial(0)=LSO
13:16:30.061178   crystalLayerBackgroundErgRatio(0)=12%
13:16:30.061237   crystalLayerFWHMErgRes(0)=17%
13:16:30.061290   crystalLayerDepth(0)=1cm
13:16:30.061337   crystalLayerMaterial(1)=LYSO
13:16:30.061392   crystalLayerBackgroundErgRatio(1)=12%
13:16:30.061442   crystalLayerFWHMErgRes(1)=17%
13:16:30.061490   crystalLayerDepth(1)=1cm
13:16:30.061537  maxScatterZfOV()=40cm
13:16:30.061576  
13:16:30.061634 processing time 00:00:57.7969 (hh:mm:ss)
13:16:30.061699 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:16:30.061756 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:16:30.061820 memory access pattern: 36 entries
13:16:30.061856  
13:16:31.004958 unknown (0x)    memory: 0 MByte
13:16:31.005060 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:16:31.005111 Revision: 275.1
13:16:31.005170 current date and time (GMT): Sat Dec  4 18:16:31 2010
13:16:31.005236 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
13:16:31.005332 free memory in memory controller: 9541.25 MByte
13:16:31.005513 memory access pattern found
13:16:31.005569 free memory in memory controller: 9541.25 MByte
13:16:31.005637 Default crystalLayerBackgroundErgRatio: 12,12
13:16:31.005701 Specified crystalLayerBackgroundErgRatio: 14,14
13:16:32.051138 calculate sinogram for 1 matrix
13:16:32.051282  loading the 3d emission scan (matrix 0)
13:16:32.051341   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7.tr.s'
13:16:32.051391    matrix number=0
13:16:34.064051    RhoSamples=256
13:16:34.064187    BinSizeRho=1.21875mm
13:16:34.064236    ThetaSamples=288
13:16:34.064283    mash factor=0
13:16:34.064332    plane separation=1.21875mm
13:16:34.064389    axes=8
13:16:34.064457    axis table=2209 {207,394,358,322,286,250,214,178}
13:16:34.064506    span=9
13:16:34.064552    maximum ring difference=67
13:16:34.023014    intrinsic tilt=0 degrees
13:16:34.023114    bed position=0mm
13:16:34.023163    scan start time=0 sec
13:16:34.023217    scan frame duration=0 sec (0 min)
13:16:34.023270    scan gate duration=0 sec (0 min)
13:16:34.023318    isotope halflife=0 sec
13:16:34.023364    lld=400 KeV
13:16:34.023410    uld=650 KeV
13:16:34.023452    corrections applied=
13:16:34.023520  calculating the 3d normalisation scan (matrix 0)
13:16:34.023579   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
13:16:35.060910    matrix number=0
13:16:35.061018    RhoSamples=256
13:16:35.061073    BinSizeRho=1.21875mm
13:16:35.061115    ThetaSamples=288
13:16:35.061154    mash factor=0
13:16:35.061195    plane separation=1.21875mm
13:16:35.061236    axes=8
13:16:35.061292    axis table=2209 {207,394,358,322,286,250,214,178}
13:16:35.061333    span=9
13:16:35.061372    maximum ring difference=67
13:16:35.061413    intrinsic tilt=0 degrees
13:16:35.061464    bed position=0mm
13:16:35.061507    scan start time=0 sec
13:16:35.061552    scan frame duration=0 sec (0 min)
13:16:35.061598    scan gate duration=0 sec (0 min)
13:16:35.061640    isotope halflife=0 sec
13:16:35.061680    lld=400 KeV
13:16:35.061719    uld=650 KeV
13:16:35.061756    corrections applied=
13:16:35.061800  normalize 3d emission
13:16:35.061838   multiply sinograms
13:16:37.018083  normalization based gap filling
13:16:37.018889    fill 207 planes 8 threads
13:16:37.018527    fill 394 planes 8 threads
13:16:37.007695    fill 358 planes 8 threads
13:16:37.059288    fill 322 planes 8 threads
13:16:38.060121    fill 286 planes 8 threads
13:16:38.034990    fill 250 planes 8 threads
13:16:38.023104    fill 214 planes 8 threads
13:16:38.011942    fill 178 planes 8 threads
13:16:38.035608   bed position in emission=0mm
13:16:38.035797   bed position in u-map=0mm
13:16:38.035905   bed position in acf=0mm
13:16:38.035968  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.i
13:16:38.036025   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.i'
13:16:38.036071    matrix number=0
13:16:38.054316    XYSamples=128
13:16:38.054440    DeltaXY=2.4375mm
13:16:38.054486    ZSamples=207
13:16:38.054530    DeltaZ=1.21875mm
13:16:38.054570    corrections applied=
13:16:38.054610    u-map data=yes
13:16:38.054654    bed position=0mm
13:16:38.054699    scan start time=0 sec
13:16:38.054771    scan frame duration=0 sec (0 min)
13:16:38.054822    scan gate duration=0 sec (0 min)
13:16:38.054871    isotope halflife=0 sec
13:16:38.054923    lld=0 KeV
13:16:38.054963    uld=0 KeV
13:16:38.055004  loading the acf (matrix 0)
13:16:38.055054   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.a'
13:16:38.055098    matrix number=0
13:16:39.057927    RhoSamples=256
13:16:39.058053    BinSizeRho=1.21875mm
13:16:39.058095    ThetaSamples=288
13:16:39.058158    mash factor=0
13:16:39.058199    plane separation=1.21875mm
13:16:39.058240    axes=8
13:16:39.058299    axis table=2209 {207,394,358,322,286,250,214,178}
13:16:39.058340    span=9
13:16:39.058379    maximum ring difference=67
13:16:39.058420    intrinsic tilt=0 degrees
13:16:39.058462    bed position=0mm
13:16:39.058503    scan start time=0 sec
13:16:39.058549    scan frame duration=0 sec (0 min)
13:16:39.058598    scan gate duration=0 sec (0 min)
13:16:39.058652    isotope halflife=0 sec
13:16:39.058693    lld=400 KeV
13:16:39.058732    uld=650 KeV
13:16:39.058768    corrections applied=
13:16:39.058827  replace values below 1 by 1
13:16:39.015452  estimate scatter sinogram
13:16:40.012347   counts in image: min=0  max=0.155847  total=53498.4
13:16:40.012534   start single-slice rebinning from 256x288x2209 to 256x288x207
13:16:40.012576   initialize SSR
13:16:40.012618    RhoSamples=256
13:16:40.012657    ThetaSamples=288
13:16:40.012697    axes=8
13:16:40.012756    axis table=2209 {207,394,358,322,286,250,214,178}
13:16:40.017453    skip 2 planes at each side of a segment
13:16:40.017580    calculate e*n*a of axis 0 (skip 2 border planes)
13:16:40.017628     calculate axis 0 of corrected sinogram
13:16:40.025767    calculate single-slice rebinning of axis 0
13:16:40.025898    ssr 203 planes
13:16:40.015001    calculate e*n*a of axis 1 (skip 2 border planes)
13:16:40.015106     calculate axis 1 of corrected sinogram
13:16:40.001431    calculate single-slice rebinning of axis 1
13:16:40.001555    ssr 193 planes
13:16:40.015942    calculate e*n*a of axis 2 (skip 2 border planes)
13:16:40.016048     calculate axis 2 of corrected sinogram
13:16:40.030484    calculate single-slice rebinning of axis 2
13:16:40.030610    ssr 175 planes
13:16:40.038662    calculate e*n*a of axis 3 (skip 2 border planes)
13:16:40.038767     calculate axis 3 of corrected sinogram
13:16:41.014796    calculate single-slice rebinning of axis 3
13:16:41.014919    ssr 157 planes
13:16:41.014344    calculate e*n*a of axis 4 (skip 2 border planes)
13:16:41.014465     calculate axis 4 of corrected sinogram
13:16:41.051358    calculate single-slice rebinning of axis 4
13:16:41.051492    ssr 139 planes
13:16:41.043848    calculate e*n*a of axis 5 (skip 2 border planes)
13:16:41.043953     calculate axis 5 of corrected sinogram
13:16:41.059854    calculate single-slice rebinning of axis 5
13:16:41.059974    ssr 121 planes
13:16:41.044784    calculate e*n*a of axis 6 (skip 2 border planes)
13:16:41.044890     calculate axis 6 of corrected sinogram
13:16:41.039729    calculate single-slice rebinning of axis 6
13:16:41.039851    ssr 103 planes
13:16:41.017460    calculate e*n*a of axis 7 (skip 2 border planes)
13:16:41.017566     calculate axis 7 of corrected sinogram
13:16:41.056859    calculate single-slice rebinning of axis 7
13:16:41.056977    ssr 85 planes
13:16:41.027159    normalize sinogram
13:16:41.010847   finished single-slice rebinning in 1.98047 sec
13:16:41.010969   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
13:16:41.011030    XYSamples=128
13:16:41.011074    DeltaXY=2.4375mm
13:16:41.011115    RhoSamples=256
13:16:41.011158    BinSizeRho=1.21875mm
13:16:41.011198    ThetaSamples=288
13:16:41.011239    plane separation=1.21875mm
13:16:41.011286    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:16:41.011327    subsets=8
13:16:41.011368    axes=1
13:16:41.011412    axis table=207 {207}
13:16:41.011451    algorithm=AW-OSEM
13:16:41.011500    use LUT=small
13:16:41.011669    initialize backprojector
13:16:41.011760     angle of segment 0: 0 degrees
13:16:41.011992     create mode 1 lookup-table for backprojector: 63 MByte
13:16:42.051902     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
13:16:42.034072     start calculation of normalization factors for AW-OSEM
13:16:42.034264      allocate 103.5 MByte for normalization factors
13:16:42.034315      start calculation of normalization factors for subset 0
13:16:42.049014       calculate segment 0, subset 0 of 1/a sinogram
13:16:42.007315       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
13:16:42.056295      finished calculation of normalization factors for subset 0 in 0.152344 sec
13:16:42.056392      start calculation of normalization factors for subset 1
13:16:42.005118       calculate segment 0, subset 1 of 1/a sinogram
13:16:42.022835       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
13:16:42.018636      finished calculation of normalization factors for subset 1 in 0.09375 sec
13:16:42.018728      start calculation of normalization factors for subset 2
13:16:42.033287       calculate segment 0, subset 2 of 1/a sinogram
13:16:42.051344       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
13:16:42.035547      finished calculation of normalization factors for subset 2 in 0.148438 sec
13:16:42.035652      start calculation of normalization factors for subset 3
13:16:42.052395       calculate segment 0, subset 3 of 1/a sinogram
13:16:42.004856       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
13:16:42.053551      finished calculation of normalization factors for subset 3 in 0.148438 sec
13:16:42.053656      start calculation of normalization factors for subset 4
13:16:42.004582       calculate segment 0, subset 4 of 1/a sinogram
13:16:42.025194       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
13:16:42.047282      finished calculation of normalization factors for subset 4 in 0.125 sec
13:16:42.047388      start calculation of normalization factors for subset 5
13:16:42.063557       calculate segment 0, subset 5 of 1/a sinogram
13:16:42.015921       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
13:16:42.064993      finished calculation of normalization factors for subset 5 in 0.148438 sec
13:16:42.065086      start calculation of normalization factors for subset 6
13:16:42.016149       calculate segment 0, subset 6 of 1/a sinogram
13:16:42.034231       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
13:16:43.021753      finished calculation of normalization factors for subset 6 in 0.105469 sec
13:16:43.021848      start calculation of normalization factors for subset 7
13:16:43.039409       calculate segment 0, subset 7 of 1/a sinogram
13:16:43.057926       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
13:16:43.006038      finished calculation of normalization factors for subset 7 in 0.113281 sec
13:16:43.006162     finished calculation of normalization factors in 1.03516 sec
13:16:43.006211    divide sinograms
13:16:43.052685    initialize forward-projector
13:16:43.052837     angles of segment 0
13:16:43.052881      plane 0-206: 0 degrees
13:16:43.053138     create mode 1 lookup-table for forward-projector: 126 MByte
13:16:43.013543     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
13:16:43.015452     start reconstruction from 256x288x207 to 128x128x207
13:16:43.015574      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
13:16:43.026780      start iteration 1, subset 0
13:16:43.059415      finished iteration 1, subset 0 in 0.230469 sec
13:16:43.059519      start iteration 1, subset 4
13:16:44.012001      finished iteration 1, subset 4 in 0.296875 sec
13:16:44.012104      start iteration 1, subset 2
13:16:44.048790      finished iteration 1, subset 2 in 0.300781 sec
13:16:44.048904      start iteration 1, subset 6
13:16:44.016102      finished iteration 1, subset 6 in 0.292969 sec
13:16:44.016228      start iteration 1, subset 1
13:16:45.039569      finished iteration 1, subset 1 in 0.304688 sec
13:16:45.039700      start iteration 1, subset 5
13:16:45.008707      finished iteration 1, subset 5 in 0.289062 sec
13:16:45.008818      start iteration 1, subset 3
13:16:45.001684      finished iteration 1, subset 3 in 0.320312 sec
13:16:45.001789      start iteration 1, subset 7
13:16:46.038931      finished iteration 1, subset 7 in 0.316406 sec
13:16:46.039086      start iteration 2, subset 0
13:16:46.054546      finished iteration 2, subset 0 in 0.210938 sec
13:16:46.054652      start iteration 2, subset 4
13:16:46.029330      finished iteration 2, subset 4 in 0.238281 sec
13:16:46.029432      start iteration 2, subset 2
13:16:46.043653      finished iteration 2, subset 2 in 0.210938 sec
13:16:46.043773      start iteration 2, subset 6
13:16:47.051457      finished iteration 2, subset 6 in 0.285156 sec
13:16:47.051560      start iteration 2, subset 1
13:16:47.011228      finished iteration 2, subset 1 in 0.289062 sec
13:16:47.011330      start iteration 2, subset 5
13:16:47.039634      finished iteration 2, subset 5 in 0.355469 sec
13:16:47.039737      start iteration 2, subset 3
13:16:47.045500      finished iteration 2, subset 3 in 0.269531 sec
13:16:47.045602      start iteration 2, subset 7
13:16:48.032745      finished iteration 2, subset 7 in 0.265625 sec
13:16:48.032849      start iteration 3, subset 0
13:16:48.043432      finished iteration 3, subset 0 in 0.335938 sec
13:16:48.043537      start iteration 3, subset 4
13:16:48.057440      finished iteration 3, subset 4 in 0.34375 sec
13:16:48.057543      start iteration 3, subset 2
13:16:49.023397      finished iteration 3, subset 2 in 0.308594 sec
13:16:49.023510      start iteration 3, subset 6
13:16:49.041581      finished iteration 3, subset 6 in 0.347656 sec
13:16:49.041685      start iteration 3, subset 1
13:16:49.035856      finished iteration 3, subset 1 in 0.320312 sec
13:16:49.035977      start iteration 3, subset 5
13:16:50.064791      finished iteration 3, subset 5 in 0.242188 sec
13:16:50.064910      start iteration 3, subset 3
13:16:50.012144      finished iteration 3, subset 3 in 0.34375 sec
13:16:50.012292      start iteration 3, subset 7
13:16:50.011789      finished iteration 3, subset 7 in 0.261719 sec
13:16:50.011927      mask 207 planes of image
13:16:50.025780      scale image with 1.21875
13:16:50.032410      scale image with 4
13:16:50.039866     finished reconstruction in 7.02344 sec
13:16:50.039975     forward projector: 3.74609 sec
13:16:50.040026     backprojector: 2.25781 sec
13:16:50.051407   finished reconstruction of emission in 8.78125 sec
13:16:50.051505   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
13:16:50.013175   scale image by 4.10256
13:16:50.028974   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:16:50.029092   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:16:50.029162   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:16:50.029222   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:16:50.029260   start scatter estimation
13:16:50.029311    calculate matrix for beta-spline interpolation
13:16:50.038686    start scatter simulation
13:16:50.038760     effective detector ring radius=234.5mm (234.5mm+0mm)
13:16:50.038811     DeltaXY=2.4375mm
13:16:50.038853     DeltaZ=1.21875mm
13:16:50.038906     LLD=400 keV
13:16:50.038949     ULD=650 keV
13:16:50.048533     search bounds of object in u-map
13:16:50.009871     x bounds (-x,+x)=-93.8413mm,84.0913mm
13:16:50.009989     y bounds (-y,+y)=-106.029mm,135.279mm
13:16:50.010038     z bounds (-z,+z)=-56.6707mm,126.139mm
13:16:50.010088     length of axial scatter fov=365.615mm (max. 365.615mm)
13:16:50.010138     scatter samples (x,y,z)=8,11,16
13:16:50.010190     image size (x,y,z)=177.933mm,241.308mm,365.615mm
13:16:50.010251     scatter_grid size (x,y,z)=22.2416mm,21.9371mm,22.851mm
13:16:51.040614     start simulation of scatter sinogram (19x34x10)
13:16:51.040880      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
13:16:51.040981      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
13:16:51.041090      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
13:16:51.041233      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
13:16:51.041315      thread 1: 329 samples in plane 0 inside of object (plane 8 of full sinogram)
13:16:51.044502      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
13:16:51.044629      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
13:16:51.044705      thread 5: 507 samples in plane 4 inside of object (plane 92 of full sinogram)
13:16:51.044793      thread 3: 496 samples in plane 2 inside of object (plane 50 of full sinogram)
13:16:51.044877      thread 2: 403 samples in plane 1 inside of object (plane 29 of full sinogram)
13:16:51.017794      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
13:16:51.017934      thread 7: 502 samples in plane 6 inside of object (plane 134 of full sinogram)
13:16:51.026181      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
13:16:51.026413      thread 8: 512 samples in plane 8 inside of object (plane 176 of full sinogram)
13:16:51.027061      thread 4: 513 samples in plane 3 inside of object (plane 71 of full sinogram)
13:16:51.046036      thread 6: 511 samples in plane 5 inside of object (plane 113 of full sinogram)
13:16:51.011645      thread 7: 515 samples in plane 7 inside of object (plane 155 of full sinogram)
13:16:51.028264      thread 8: 501 samples in plane 9 inside of object (plane 197 of full sinogram)
13:16:51.020451     finished simulation of scatter sinogram
13:16:51.033402    finished scatter simulation in 0.273438 sec
13:16:51.033515    calculate beta-spline interpolation from 17x34x10 to 256x288x207
13:16:52.061860   finished scatter estimation in 1.50781 sec
13:16:52.061949   convert 2d scatter sinogram into 3d sinogram
13:16:52.061995   calculate axial scatter scale factors (smoothed with boxcar 17)
13:16:52.062060    acf threshold=1.03
13:16:52.032533    calculate scale factors for segment 0
13:16:52.032642    scatter size 256x288x207
13:16:52.005589     apply lower and upper thresholds 0.25 and 2
13:16:52.005704    calculate scale factors for segment +1
13:16:52.005761    scatter size 256x288x197
13:16:53.012260     apply lower and upper thresholds 0.25 and 2
13:16:53.012363    calculate scale factors for segment -1
13:16:53.012427    scatter size 256x288x197
13:16:53.032235     apply lower and upper thresholds 0.25 and 2
13:16:53.032349    calculate scale factors for segment +2
13:16:53.032407    scatter size 256x288x179
13:16:53.039784     apply lower and upper thresholds 0.25 and 2
13:16:53.039887    calculate scale factors for segment -2
13:16:53.039943    scatter size 256x288x179
13:16:53.043726     apply lower and upper thresholds 0.25 and 2
13:16:53.043829    calculate scale factors for segment +3
13:16:53.043884    scatter size 256x288x161
13:16:53.035842     apply lower and upper thresholds 0.25 and 2
13:16:53.035944    calculate scale factors for segment -3
13:16:53.035999    scatter size 256x288x161
13:16:53.026238     apply lower and upper thresholds 0.25 and 2
13:16:53.026345    calculate scale factors for segment +4
13:16:53.026401    scatter size 256x288x143
13:16:53.003529     apply lower and upper thresholds 0.25 and 2
13:16:53.003631    calculate scale factors for segment -4
13:16:53.003686    scatter size 256x288x143
13:16:53.044273     apply lower and upper thresholds 0.25 and 2
13:16:53.044375    calculate scale factors for segment +5
13:16:53.044438    scatter size 256x288x125
13:16:53.005690     apply lower and upper thresholds 0.25 and 2
13:16:53.005790    calculate scale factors for segment -5
13:16:53.005845    scatter size 256x288x125
13:16:54.012915     apply lower and upper thresholds 0.25 and 2
13:16:54.013018    calculate scale factors for segment +6
13:16:54.013093    scatter size 256x288x107
13:16:54.024028     apply lower and upper thresholds 0.25 and 2
13:16:54.024131    calculate scale factors for segment -6
13:16:54.024184    scatter size 256x288x107
13:16:54.032026     apply lower and upper thresholds 0.25 and 2
13:16:54.032124    calculate scale factors for segment +7
13:16:54.032178    scatter size 256x288x89
13:16:54.027818     apply lower and upper thresholds 0.25 and 2
13:16:54.027918    calculate scale factors for segment -7
13:16:54.027984    scatter size 256x288x89
13:16:54.021271     apply lower and upper thresholds 0.25 and 2
13:17:01.051638   scatter fraction at first pass=41.4626%
13:17:02.003920  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_sc_ATX.s
13:17:02.004054   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_sc_ATX.s (matrix 0)
13:17:02.024344   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_sc_ATX.h33 (matrix 0)
13:17:02.024728  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_sc_ATX.s
13:17:02.037565  
13:17:02.037669 gantry model values that may have been used:
13:17:02.037717  model number=328
13:17:02.037764  defaultElements()=256
13:17:02.037823  binSize()=0.121875cm
13:17:02.037868  defaultAngles()=288
13:17:02.037922  planeSep()=0.121875cm
13:17:02.037970  crystalRadius()=23.45cm
13:17:02.038015  sinogramDepthOfInteraction()=0cm
13:17:02.038063  sinogramIntrinsicTilt()=0 degrees
13:17:02.038104  isRingArch()=false
13:17:02.038144  isPETOnlyArch()=true
13:17:02.038188  defPlaneDefSpan3D()=3
13:17:02.038233  defRingDiffMax()=67
13:17:02.038277  bucketsPerRing()=unknown
13:17:02.038322  bucketRings()=1
13:17:02.038380  axialBlocks()=13
13:17:02.038426  transBlocks()=9
13:17:02.038471  axialCrystals()=8
13:17:02.038515  transCrystals()=8
13:17:02.038559  axialBlockGaps()=0
13:17:02.038603  transBlockGaps()=0
13:17:02.038647  directPlanes()=104
13:17:02.038691  defaultLLD()=400 keV
13:17:02.038736  defaultULD()=650 keV
13:17:02.038780  nCrystalLayers()=2
13:17:02.038828   crystalLayerMaterial(0)=LSO
13:17:02.038901   crystalLayerBackgroundErgRatio(0)=14%
13:17:02.038953   crystalLayerFWHMErgRes(0)=17%
13:17:02.039001   crystalLayerDepth(0)=1cm
13:17:02.039049   crystalLayerMaterial(1)=LYSO
13:17:02.039104   crystalLayerBackgroundErgRatio(1)=14%
13:17:02.039155   crystalLayerFWHMErgRes(1)=17%
13:17:02.039204   crystalLayerDepth(1)=1cm
13:17:02.039251  maxScatterZfOV()=40cm
13:17:02.039291  
13:17:02.012916 processing time 00:00:30.8086 (hh:mm:ss)
13:17:02.013036 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:17:02.013094 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:17:02.013139 memory access pattern: 411 entries
13:17:02.013179  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1696382976
13:17:04	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
13:17:04	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_sc_ATX.s
13:17:04	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7.s
13:17:04	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7.ch
13:17:04	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
13:17:04	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.a
13:17:04	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_3D_ATX.i
13:17:04	  Method               : OPO3D
13:17:04	  Positivity constraint in sinogram space
13:17:04	  Max of sensitivity image      : 1.000000e+04
13:17:04	  Threshold for missing data    : 1.000000e-04
13:17:04	  Threshold for image update    : 1.000000e-10
13:17:04	  Maximum of image      	: 10000000000.000000
13:17:04	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:013:17:04	Model 999 
13:17:04	  Triming 3 planes at segment edges 
13:17:04	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
13:17:04	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_ra_smo.s , scan duration 30
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 17 iterations (50 msec)
1	640 msec   
2	3515 msec   
3	3521 msec   
4	3369 msec   
5	578 msec   
Smooth Delays computed in 12318 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4623 msec.
Total time 16941 msec.
13:17:21	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.a: attenuation file size 651460608
13:17:21	expected file size 256x288x2209(2209)
13:17:21	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr7.a: attenuation file type 0
13:17:21	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
13:17:21	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
13:17:21	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_3D_ATX.i reconstruction started
13:17:21	  Prepare components of update equation from input data ...
13:17:26	  Read normalization and normalize delayed
13:17:26	  Apply normalization mask to prompt sinogram
13:17:30	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
13:17:56	  Iteration 1 in 85.200 sec
13:18:21	  Iteration 2 in 84.470 sec
13:18:46	  Iteration 3 in 84.910 sec
13:19:11	  Iteration 4 in 83.330 sec
13:19:35	  Iteration 5 in 84.880 sec
13:20:00	  Iteration 6 in 84.560 sec
13:20:26	  Iteration 7 in 85.290 sec
13:20:51	  Iteration 8 in 83.560 sec
13:21:16	  Iteration 9 in 84.540 sec
13:21:41	  Iteration 10 in 83.140 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_3D_ATX.i' complete
13:21:42	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame7_3D_ATX.i reconstruction done in 277 sec
13:21:43.023271 unknown (0x)    memory: 0 MByte
13:21:43.023393 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:21:43.023447 Revision: 275.1
13:21:43.023507 current date and time (GMT): Sat Dec  4 18:21:43 2010
13:21:43.023565 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:21:43.023646 free memory in memory controller: 9541.25 MByte
13:21:43.023802 memory access pattern found
13:21:43.023855 free memory in memory controller: 9541.25 MByte
13:21:43.027222 calculate acf for 1 matrix
13:21:43.027316  span=9
13:21:43.027362  maximum ring difference=67
13:21:43.027427  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.i
13:21:43.027483   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.i'
13:21:43.027529    matrix number=0
13:21:43.009466    XYSamples=128
13:21:43.009595    DeltaXY=2.4375mm
13:21:43.009640    ZSamples=207
13:21:43.009685    DeltaZ=1.21875mm
13:21:43.009759    corrections applied=
13:21:43.009803    u-map data=yes
13:21:43.009848    bed position=0mm
13:21:43.009892    scan start time=0 sec
13:21:43.009941    scan frame duration=0 sec (0 min)
13:21:43.009991    scan gate duration=0 sec (0 min)
13:21:43.010035    isotope halflife=0 sec
13:21:43.010078    lld=0 KeV
13:21:43.010120    uld=0 KeV
13:21:43.016503  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:21:43.016619  XYSamples=128
13:21:43.016671  DeltaXY=2.4375mm
13:21:43.016708  RhoSamples=256
13:21:43.016764  BinSizeRho=1.21875mm
13:21:43.016800  ThetaSamples=288
13:21:43.016838  plane separation=1.21875mm
13:21:43.016881  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:21:43.016918  subsets=1
13:21:43.016953  axes=1
13:21:43.016998  axis table=207 {207}
13:21:43.017032  algorithm=UW-OSEM
13:21:43.017066  use LUT=no
13:21:43.017227  time of flight bins=1
13:21:43.017267  initialize forward-projector
13:21:43.017306   angles of segment 0
13:21:43.017343    plane 0-206: 0 degrees
13:21:43.017570  start forward projection
13:21:43.043118   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:21:43.043258    project segment 0
13:21:45.004589   finished forward projection of subset 0 in 2.55078 sec
13:21:45.022437   scale 207 planes of sinogram by 0.410256
13:21:45.052107  finished forward projection in 2.6875 sec
13:21:45.052219  convert emission into transmission data
13:21:46.064144  span=9
13:21:46.064260  maximum ring difference=67
13:21:46.064327  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:21:46.064505   replace values below 1 by 1
13:21:46.020128   copy 207 planes of segment 0
13:21:47.015652   create 360 degrees sinogram (512x576x207)
13:21:47.055563   calculate 3d fourier transform of sinogram
13:21:51.002058   calculate 394 planes of axis 1
13:21:51.049810    calculate fourier projection of axis 1
13:21:54.003536    calculate inverse fourier transform of axis 1
13:21:58.017150    split axis 1 into 2 segments
13:21:58.046438    calculate weighting of axis 1
13:21:59.029175   finished with axis 1
13:21:59.029348   calculate 358 planes of axis 2
13:22:00.042416    calculate fourier projection of axis 2
13:22:03.013394    calculate inverse fourier transform of axis 2
13:22:06.048294    split axis 2 into 2 segments
13:22:06.001413    calculate weighting of axis 2
13:22:08.017040   finished with axis 2
13:22:08.017162   calculate 322 planes of axis 3
13:22:08.032303    calculate fourier projection of axis 3
13:22:11.032301    calculate inverse fourier transform of axis 3
13:22:15.006061    split axis 3 into 2 segments
13:22:15.013668    calculate weighting of axis 3
13:22:16.037806   finished with axis 3
13:22:16.037937   calculate 286 planes of axis 4
13:22:16.041933    calculate fourier projection of axis 4
13:22:19.009308    calculate inverse fourier transform of axis 4
13:22:23.027850    split axis 4 into 2 segments
13:22:23.023772    calculate weighting of axis 4
13:22:24.042424   finished with axis 4
13:22:24.042554   calculate 250 planes of axis 5
13:22:24.038441    calculate fourier projection of axis 5
13:22:27.015512    calculate inverse fourier transform of axis 5
13:22:31.034665    split axis 5 into 2 segments
13:22:31.020461    calculate weighting of axis 5
13:22:32.031490   finished with axis 5
13:22:32.031615   calculate 214 planes of axis 6
13:22:32.015477    calculate fourier projection of axis 6
13:22:35.057910    calculate inverse fourier transform of axis 6
13:22:37.031290    split axis 6 into 2 segments
13:22:37.006675    calculate weighting of axis 6
13:22:38.024568   finished with axis 6
13:22:38.024685   calculate 178 planes of axis 7
13:22:38.063906    calculate fourier projection of axis 7
13:22:41.055021    calculate inverse fourier transform of axis 7
13:22:43.017445    split axis 7 into 2 segments
13:22:43.049214    calculate weighting of axis 7
13:22:44.002439   finished with axis 7
13:22:44.054176  axes=8
13:22:44.054293  axis table=2209 {207,394,358,322,286,250,214,178}
13:22:44.054355  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.a
13:22:44.054417   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.a (matrix 0)
13:22:45.050345   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.h33 (matrix 0)
13:22:45.030583  
13:22:45.030715 gantry model values that may have been used:
13:22:45.030762  model number=328
13:22:45.030809  defaultElements()=256
13:22:45.030869  binSize()=0.121875cm
13:22:45.030914  defaultAngles()=288
13:22:45.030959  planeSep()=0.121875cm
13:22:45.031006  crystalRadius()=23.45cm
13:22:45.031052  sinogramDepthOfInteraction()=0cm
13:22:45.031099  sinogramIntrinsicTilt()=0 degrees
13:22:45.031139  isRingArch()=false
13:22:45.031178  isPETOnlyArch()=true
13:22:45.031221  defPlaneDefSpan3D()=3
13:22:45.031265  defRingDiffMax()=67
13:22:45.031308  bucketsPerRing()=unknown
13:22:45.031353  bucketRings()=1
13:22:45.031396  axialBlocks()=13
13:22:45.031440  transBlocks()=9
13:22:45.031484  axialCrystals()=8
13:22:45.031528  transCrystals()=8
13:22:45.031572  axialBlockGaps()=0
13:22:45.031618  transBlockGaps()=0
13:22:45.031665  directPlanes()=104
13:22:45.031709  defaultLLD()=400 keV
13:22:45.031753  defaultULD()=650 keV
13:22:45.031797  nCrystalLayers()=2
13:22:45.031845   crystalLayerMaterial(0)=LSO
13:22:45.031917   crystalLayerBackgroundErgRatio(0)=12%
13:22:45.031969   crystalLayerFWHMErgRes(0)=17%
13:22:45.032018   crystalLayerDepth(0)=1cm
13:22:45.032065   crystalLayerMaterial(1)=LYSO
13:22:45.032119   crystalLayerBackgroundErgRatio(1)=12%
13:22:45.032171   crystalLayerFWHMErgRes(1)=17%
13:22:45.032219   crystalLayerDepth(1)=1cm
13:22:45.032266  maxScatterZfOV()=40cm
13:22:45.032305  
13:22:45.032363 processing time 00:01:02.07422 (hh:mm:ss)
13:22:45.032429 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:22:45.032486 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:22:45.032530 memory access pattern: 36 entries
13:22:45.032570  
13:22:46.050570 unknown (0x)    memory: 0 MByte
13:22:46.050675 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:22:46.050720 Revision: 275.1
13:22:46.050771 current date and time (GMT): Sat Dec  4 18:22:46 2010
13:22:46.050827 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
13:22:46.050906 free memory in memory controller: 9541.25 MByte
13:22:46.051046 memory access pattern found
13:22:46.051095 free memory in memory controller: 9541.25 MByte
13:22:46.051154 Default crystalLayerBackgroundErgRatio: 12,12
13:22:46.051211 Specified crystalLayerBackgroundErgRatio: 14,14
13:22:47.063487 calculate sinogram for 1 matrix
13:22:47.063606  loading the 3d emission scan (matrix 0)
13:22:47.063659   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8.tr.s'
13:22:47.063709    matrix number=0
13:22:50.032809    RhoSamples=256
13:22:50.032948    BinSizeRho=1.21875mm
13:22:50.032997    ThetaSamples=288
13:22:50.033044    mash factor=0
13:22:50.033093    plane separation=1.21875mm
13:22:50.033140    axes=8
13:22:50.033207    axis table=2209 {207,394,358,322,286,250,214,178}
13:22:50.033272    span=9
13:22:50.033316    maximum ring difference=67
13:22:50.033361    intrinsic tilt=0 degrees
13:22:50.033407    bed position=0mm
13:22:50.033453    scan start time=0 sec
13:22:50.033503    scan frame duration=0 sec (0 min)
13:22:50.033563    scan gate duration=0 sec (0 min)
13:22:50.033608    isotope halflife=0 sec
13:22:50.033651    lld=400 KeV
13:22:50.033692    uld=650 KeV
13:22:50.033731    corrections applied=
13:22:50.033790  calculating the 3d normalisation scan (matrix 0)
13:22:50.033853   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
13:22:50.061551    matrix number=0
13:22:50.061657    RhoSamples=256
13:22:50.061708    BinSizeRho=1.21875mm
13:22:50.061746    ThetaSamples=288
13:22:50.061782    mash factor=0
13:22:50.061820    plane separation=1.21875mm
13:22:50.061857    axes=8
13:22:50.061912    axis table=2209 {207,394,358,322,286,250,214,178}
13:22:50.061950    span=9
13:22:50.061986    maximum ring difference=67
13:22:50.062024    intrinsic tilt=0 degrees
13:22:50.062063    bed position=0mm
13:22:50.062101    scan start time=0 sec
13:22:50.062143    scan frame duration=0 sec (0 min)
13:22:50.062186    scan gate duration=0 sec (0 min)
13:22:50.062226    isotope halflife=0 sec
13:22:50.062262    lld=400 KeV
13:22:50.062298    uld=650 KeV
13:22:50.062331    corrections applied=
13:22:50.062385  normalize 3d emission
13:22:50.062421   multiply sinograms
13:22:52.004037  normalization based gap filling
13:22:52.004841    fill 207 planes 8 threads
13:22:52.063417    fill 394 planes 8 threads
13:22:52.035143    fill 358 planes 8 threads
13:22:52.048872    fill 322 planes 8 threads
13:22:53.031777    fill 286 planes 8 threads
13:22:53.034603    fill 250 planes 8 threads
13:22:53.052635    fill 214 planes 8 threads
13:22:53.063163    fill 178 planes 8 threads
13:22:54.011218   bed position in emission=0mm
13:22:54.011403   bed position in u-map=0mm
13:22:54.011508   bed position in acf=0mm
13:22:54.011577  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.i
13:22:54.011632   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.i'
13:22:54.011685    matrix number=0
13:22:54.030196    XYSamples=128
13:22:54.030317    DeltaXY=2.4375mm
13:22:54.030358    ZSamples=207
13:22:54.030399    DeltaZ=1.21875mm
13:22:54.030436    corrections applied=
13:22:54.030472    u-map data=yes
13:22:54.030513    bed position=0mm
13:22:54.030555    scan start time=0 sec
13:22:54.030601    scan frame duration=0 sec (0 min)
13:22:54.030655    scan gate duration=0 sec (0 min)
13:22:54.030698    isotope halflife=0 sec
13:22:54.030740    lld=0 KeV
13:22:54.030782    uld=0 KeV
13:22:54.030823  loading the acf (matrix 0)
13:22:54.030886   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.a'
13:22:54.030934    matrix number=0
13:22:54.048158    RhoSamples=256
13:22:54.048280    BinSizeRho=1.21875mm
13:22:54.048330    ThetaSamples=288
13:22:54.048370    mash factor=0
13:22:54.048410    plane separation=1.21875mm
13:22:54.048463    axes=8
13:22:54.048522    axis table=2209 {207,394,358,322,286,250,214,178}
13:22:54.048566    span=9
13:22:54.048605    maximum ring difference=67
13:22:54.048647    intrinsic tilt=0 degrees
13:22:54.048689    bed position=0mm
13:22:54.048731    scan start time=0 sec
13:22:54.048777    scan frame duration=0 sec (0 min)
13:22:54.048822    scan gate duration=0 sec (0 min)
13:22:54.048864    isotope halflife=0 sec
13:22:54.048904    lld=400 KeV
13:22:54.048943    uld=650 KeV
13:22:54.048979    corrections applied=
13:22:54.049038  replace values below 1 by 1
13:22:55.055460  estimate scatter sinogram
13:22:55.003820   counts in image: min=0  max=0.155594  total=53498.8
13:22:55.011763   start single-slice rebinning from 256x288x2209 to 256x288x207
13:22:55.011815   initialize SSR
13:22:55.011856    RhoSamples=256
13:22:55.011896    ThetaSamples=288
13:22:55.011936    axes=8
13:22:55.011994    axis table=2209 {207,394,358,322,286,250,214,178}
13:22:55.019450    skip 2 planes at each side of a segment
13:22:55.019572    calculate e*n*a of axis 0 (skip 2 border planes)
13:22:55.019638     calculate axis 0 of corrected sinogram
13:22:55.021440    calculate single-slice rebinning of axis 0
13:22:55.021562    ssr 203 planes
13:22:55.011744    calculate e*n*a of axis 1 (skip 2 border planes)
13:22:55.011870     calculate axis 1 of corrected sinogram
13:22:55.054159    calculate single-slice rebinning of axis 1
13:22:55.054287    ssr 193 planes
13:22:55.005100    calculate e*n*a of axis 2 (skip 2 border planes)
13:22:55.005206     calculate axis 2 of corrected sinogram
13:22:55.019072    calculate single-slice rebinning of axis 2
13:22:55.019194    ssr 175 planes
13:22:56.011259    calculate e*n*a of axis 3 (skip 2 border planes)
13:22:56.011397     calculate axis 3 of corrected sinogram
13:22:56.004710    calculate single-slice rebinning of axis 3
13:22:56.004854    ssr 157 planes
13:22:56.006333    calculate e*n*a of axis 4 (skip 2 border planes)
13:22:56.006440     calculate axis 4 of corrected sinogram
13:22:56.043103    calculate single-slice rebinning of axis 4
13:22:56.043241    ssr 139 planes
13:22:56.037446    calculate e*n*a of axis 5 (skip 2 border planes)
13:22:56.037553     calculate axis 5 of corrected sinogram
13:22:56.054495    calculate single-slice rebinning of axis 5
13:22:56.054638    ssr 121 planes
13:22:56.041046    calculate e*n*a of axis 6 (skip 2 border planes)
13:22:56.041153     calculate axis 6 of corrected sinogram
13:22:56.035973    calculate single-slice rebinning of axis 6
13:22:56.036094    ssr 103 planes
13:22:56.014904    calculate e*n*a of axis 7 (skip 2 border planes)
13:22:56.015009     calculate axis 7 of corrected sinogram
13:22:56.054031    calculate single-slice rebinning of axis 7
13:22:56.054153    ssr 85 planes
13:22:57.008777    normalize sinogram
13:22:57.060150   finished single-slice rebinning in 1.98047 sec
13:22:57.060272   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
13:22:57.060334    XYSamples=128
13:22:57.060376    DeltaXY=2.4375mm
13:22:57.060417    RhoSamples=256
13:22:57.060458    BinSizeRho=1.21875mm
13:22:57.060498    ThetaSamples=288
13:22:57.060539    plane separation=1.21875mm
13:22:57.060586    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:22:57.060629    subsets=8
13:22:57.060669    axes=1
13:22:57.060714    axis table=207 {207}
13:22:57.060752    algorithm=AW-OSEM
13:22:57.060790    use LUT=small
13:22:57.060969    initialize backprojector
13:22:57.061045     angle of segment 0: 0 degrees
13:22:57.061276     create mode 1 lookup-table for backprojector: 63 MByte
13:22:57.052784     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
13:22:57.037505     start calculation of normalization factors for AW-OSEM
13:22:57.037697      allocate 103.5 MByte for normalization factors
13:22:57.037751      start calculation of normalization factors for subset 0
13:22:57.052582       calculate segment 0, subset 0 of 1/a sinogram
13:22:57.010661       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
13:22:57.064224      finished calculation of normalization factors for subset 0 in 0.09375 sec
13:22:57.064322      start calculation of normalization factors for subset 1
13:22:57.014140       calculate segment 0, subset 1 of 1/a sinogram
13:22:57.032235       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
13:22:57.013865      finished calculation of normalization factors for subset 1 in 0.144531 sec
13:22:57.014010      start calculation of normalization factors for subset 2
13:22:57.031092       calculate segment 0, subset 2 of 1/a sinogram
13:22:57.049028       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
13:22:57.031767      finished calculation of normalization factors for subset 2 in 0.148438 sec
13:22:57.031871      start calculation of normalization factors for subset 3
13:22:57.046841       calculate segment 0, subset 3 of 1/a sinogram
13:22:57.006326       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
13:22:57.040023      finished calculation of normalization factors for subset 3 in 0.140625 sec
13:22:57.040137      start calculation of normalization factors for subset 4
13:22:57.054919       calculate segment 0, subset 4 of 1/a sinogram
13:22:57.007490       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
13:22:57.003897      finished calculation of normalization factors for subset 4 in 0.09375 sec
13:22:57.003998      start calculation of normalization factors for subset 5
13:22:57.019556       calculate segment 0, subset 5 of 1/a sinogram
13:22:57.037459       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
13:22:57.061285      finished calculation of normalization factors for subset 5 in 0.125 sec
13:22:57.061389      start calculation of normalization factors for subset 6
13:22:57.011504       calculate segment 0, subset 6 of 1/a sinogram
13:22:58.012331       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
13:22:58.051339      finished calculation of normalization factors for subset 6 in 0.136719 sec
13:22:58.051436      start calculation of normalization factors for subset 7
13:22:58.002380       calculate segment 0, subset 7 of 1/a sinogram
13:22:58.020469       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
13:22:58.041054      finished calculation of normalization factors for subset 7 in 0.1875 sec
13:22:58.041190     finished calculation of normalization factors in 1.07031 sec
13:22:58.041233    divide sinograms
13:22:58.016140    initialize forward-projector
13:22:58.016264     angles of segment 0
13:22:58.016307      plane 0-206: 0 degrees
13:22:58.016565     create mode 1 lookup-table for forward-projector: 126 MByte
13:22:58.054750     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
13:22:58.000892     start reconstruction from 256x288x207 to 128x128x207
13:22:58.001019      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
13:22:58.012303      start iteration 1, subset 0
13:22:59.015784      finished iteration 1, subset 0 in 0.28125 sec
13:22:59.015908      start iteration 1, subset 4
13:22:59.051738      finished iteration 1, subset 4 in 0.300781 sec
13:22:59.051841      start iteration 1, subset 2
13:22:59.045983      finished iteration 1, subset 2 in 0.253906 sec
13:22:59.046087      start iteration 1, subset 6
13:22:59.001105      finished iteration 1, subset 6 in 0.21875 sec
13:22:59.001210      start iteration 1, subset 1
13:23:00.039518      finished iteration 1, subset 1 in 0.316406 sec
13:23:00.039640      start iteration 1, subset 5
13:23:00.058503      finished iteration 1, subset 5 in 0.28125 sec
13:23:00.058616      start iteration 1, subset 3
13:23:00.027377      finished iteration 1, subset 3 in 0.230469 sec
13:23:00.027484      start iteration 1, subset 7
13:23:01.026703      finished iteration 1, subset 7 in 0.28125 sec
13:23:01.026845      start iteration 2, subset 0
13:23:01.010948      finished iteration 2, subset 0 in 0.308594 sec
13:23:01.011062      start iteration 2, subset 4
13:23:01.006498      finished iteration 2, subset 4 in 0.253906 sec
13:23:01.006597      start iteration 2, subset 2
13:23:01.005667      finished iteration 2, subset 2 in 0.328125 sec
13:23:01.005771      start iteration 2, subset 6
13:23:02.014366      finished iteration 2, subset 6 in 0.222656 sec
13:23:02.014482      start iteration 2, subset 1
13:23:02.014234      finished iteration 2, subset 1 in 0.261719 sec
13:23:02.014344      start iteration 2, subset 5
13:23:02.045484      finished iteration 2, subset 5 in 0.226562 sec
13:23:02.045595      start iteration 2, subset 3
13:23:02.060495      finished iteration 2, subset 3 in 0.277344 sec
13:23:02.060601      start iteration 2, subset 7
13:23:03.005178      finished iteration 2, subset 7 in 0.355469 sec
13:23:03.005287      start iteration 3, subset 0
13:23:03.006263      finished iteration 3, subset 0 in 0.328125 sec
13:23:03.006372      start iteration 3, subset 4
13:23:03.018678      finished iteration 3, subset 4 in 0.210938 sec
13:23:03.018786      start iteration 3, subset 2
13:23:04.030543      finished iteration 3, subset 2 in 0.289062 sec
13:23:04.030666      start iteration 3, subset 6
13:23:04.049016      finished iteration 3, subset 6 in 0.347656 sec
13:23:04.049147      start iteration 3, subset 1
13:23:04.043886      finished iteration 3, subset 1 in 0.257812 sec
13:23:04.043990      start iteration 3, subset 5
13:23:04.063418      finished iteration 3, subset 5 in 0.214844 sec
13:23:04.063529      start iteration 3, subset 3
13:23:05.040630      finished iteration 3, subset 3 in 0.257812 sec
13:23:05.040760      start iteration 3, subset 7
13:23:05.013263      finished iteration 3, subset 7 in 0.300781 sec
13:23:05.013401      mask 207 planes of image
13:23:05.027265      scale image with 1.21875
13:23:05.033652      scale image with 4
13:23:05.040279     finished reconstruction in 6.64844 sec
13:23:05.040373     forward projector: 3.24219 sec
13:23:05.040416     backprojector: 2.41406 sec
13:23:05.050216   finished reconstruction of emission in 8.44922 sec
13:23:05.050304   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
13:23:05.048884   scale image by 4.10256
13:23:05.001752   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:23:05.001885   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:23:05.001957   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:23:05.002018   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:23:05.002057   start scatter estimation
13:23:05.002111    calculate matrix for beta-spline interpolation
13:23:05.011536    start scatter simulation
13:23:05.011609     effective detector ring radius=234.5mm (234.5mm+0mm)
13:23:05.011654     DeltaXY=2.4375mm
13:23:05.011696     DeltaZ=1.21875mm
13:23:05.011749     LLD=400 keV
13:23:05.011793     ULD=650 keV
13:23:05.021348     search bounds of object in u-map
13:23:05.048396     x bounds (-x,+x)=-93.8413mm,84.0913mm
13:23:05.048535     y bounds (-y,+y)=-103.591mm,135.279mm
13:23:05.048586     z bounds (-z,+z)=-55.4519mm,126.139mm
13:23:05.048638     length of axial scatter fov=363.178mm (max. 363.178mm)
13:23:05.048689     scatter samples (x,y,z)=8,11,16
13:23:05.048743     image size (x,y,z)=177.933mm,238.87mm,363.178mm
13:23:05.048796     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.6986mm
13:23:05.030032     start simulation of scatter sinogram (19x34x10)
13:23:05.030265      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
13:23:05.030345      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
13:23:05.030427      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
13:23:05.030562      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
13:23:05.030630      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
13:23:05.030693      thread 3: 498 samples in plane 2 inside of object (plane 50 of full sinogram)
13:23:05.030750      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
13:23:05.030905      thread 5: 514 samples in plane 4 inside of object (plane 92 of full sinogram)
13:23:05.033951      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
13:23:05.034111      thread 1: 328 samples in plane 0 inside of object (plane 8 of full sinogram)
13:23:05.043090      thread 2: 406 samples in plane 1 inside of object (plane 29 of full sinogram)
13:23:05.045043      thread 4: 514 samples in plane 3 inside of object (plane 71 of full sinogram)
13:23:05.046944      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
13:23:05.047243      thread 7: 507 samples in plane 6 inside of object (plane 134 of full sinogram)
13:23:05.054129      thread 8: 510 samples in plane 8 inside of object (plane 176 of full sinogram)
13:23:05.001716      thread 6: 511 samples in plane 5 inside of object (plane 113 of full sinogram)
13:23:05.049228      thread 7: 514 samples in plane 7 inside of object (plane 155 of full sinogram)
13:23:05.054076      thread 8: 506 samples in plane 9 inside of object (plane 197 of full sinogram)
13:23:05.049365     finished simulation of scatter sinogram
13:23:05.063185    finished scatter simulation in 0.246094 sec
13:23:05.063332    calculate beta-spline interpolation from 17x34x10 to 256x288x207
13:23:07.029429   finished scatter estimation in 1.50391 sec
13:23:07.029530   convert 2d scatter sinogram into 3d sinogram
13:23:07.029575   calculate axial scatter scale factors (smoothed with boxcar 17)
13:23:07.029641    acf threshold=1.03
13:23:07.001688    calculate scale factors for segment 0
13:23:07.001794    scatter size 256x288x207
13:23:07.063791     apply lower and upper thresholds 0.25 and 2
13:23:07.063912    calculate scale factors for segment +1
13:23:07.063968    scatter size 256x288x197
13:23:07.025424     apply lower and upper thresholds 0.25 and 2
13:23:07.025532    calculate scale factors for segment -1
13:23:07.025589    scatter size 256x288x197
13:23:07.045440     apply lower and upper thresholds 0.25 and 2
13:23:07.045547    calculate scale factors for segment +2
13:23:07.045603    scatter size 256x288x179
13:23:08.040716     apply lower and upper thresholds 0.25 and 2
13:23:08.040824    calculate scale factors for segment -2
13:23:08.040880    scatter size 256x288x179
13:23:08.043605     apply lower and upper thresholds 0.25 and 2
13:23:08.043708    calculate scale factors for segment +3
13:23:08.043764    scatter size 256x288x161
13:23:08.034158     apply lower and upper thresholds 0.25 and 2
13:23:08.034260    calculate scale factors for segment -3
13:23:08.034316    scatter size 256x288x161
13:23:08.022003     apply lower and upper thresholds 0.25 and 2
13:23:08.022107    calculate scale factors for segment +4
13:23:08.022162    scatter size 256x288x143
13:23:08.062993     apply lower and upper thresholds 0.25 and 2
13:23:08.063094    calculate scale factors for segment -4
13:23:08.063148    scatter size 256x288x143
13:23:08.035991     apply lower and upper thresholds 0.25 and 2
13:23:08.036091    calculate scale factors for segment +5
13:23:08.036147    scatter size 256x288x125
13:23:08.062255     apply lower and upper thresholds 0.25 and 2
13:23:08.062355    calculate scale factors for segment -5
13:23:08.062411    scatter size 256x288x125
13:23:08.020662     apply lower and upper thresholds 0.25 and 2
13:23:08.020768    calculate scale factors for segment +6
13:23:08.020823    scatter size 256x288x107
13:23:08.031277     apply lower and upper thresholds 0.25 and 2
13:23:08.031376    calculate scale factors for segment -6
13:23:08.031432    scatter size 256x288x107
13:23:09.025326     apply lower and upper thresholds 0.25 and 2
13:23:09.025430    calculate scale factors for segment +7
13:23:09.025485    scatter size 256x288x89
13:23:09.020924     apply lower and upper thresholds 0.25 and 2
13:23:09.021024    calculate scale factors for segment -7
13:23:09.021080    scatter size 256x288x89
13:23:09.014635     apply lower and upper thresholds 0.25 and 2
13:23:16.051584   scatter fraction at first pass=42.4432%
13:23:17.018510  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_sc_ATX.s
13:23:17.018642   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_sc_ATX.s (matrix 0)
13:23:17.038811   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_sc_ATX.h33 (matrix 0)
13:23:17.039156  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_sc_ATX.s
13:23:17.050826  
13:23:17.050928 gantry model values that may have been used:
13:23:17.050974  model number=328
13:23:17.051020  defaultElements()=256
13:23:17.051077  binSize()=0.121875cm
13:23:17.051122  defaultAngles()=288
13:23:17.051175  planeSep()=0.121875cm
13:23:17.051222  crystalRadius()=23.45cm
13:23:17.051267  sinogramDepthOfInteraction()=0cm
13:23:17.051315  sinogramIntrinsicTilt()=0 degrees
13:23:17.051355  isRingArch()=false
13:23:17.051394  isPETOnlyArch()=true
13:23:17.051438  defPlaneDefSpan3D()=3
13:23:17.051482  defRingDiffMax()=67
13:23:17.051543  bucketsPerRing()=unknown
13:23:17.051585  bucketRings()=1
13:23:17.051626  axialBlocks()=13
13:23:17.051667  transBlocks()=9
13:23:17.051709  axialCrystals()=8
13:23:17.051805  transCrystals()=8
13:23:17.051846  axialBlockGaps()=0
13:23:17.051886  transBlockGaps()=0
13:23:17.051926  directPlanes()=104
13:23:17.051967  defaultLLD()=400 keV
13:23:17.052007  defaultULD()=650 keV
13:23:17.052048  nCrystalLayers()=2
13:23:17.052091   crystalLayerMaterial(0)=LSO
13:23:17.052160   crystalLayerBackgroundErgRatio(0)=14%
13:23:17.052208   crystalLayerFWHMErgRes(0)=17%
13:23:17.052253   crystalLayerDepth(0)=1cm
13:23:17.052296   crystalLayerMaterial(1)=LYSO
13:23:17.052347   crystalLayerBackgroundErgRatio(1)=14%
13:23:17.052395   crystalLayerFWHMErgRes(1)=17%
13:23:17.052439   crystalLayerDepth(1)=1cm
13:23:17.052482  maxScatterZfOV()=40cm
13:23:17.052518  
13:23:17.023556 processing time 00:00:30.9727 (hh:mm:ss)
13:23:17.023675 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:23:17.023733 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:23:17.023774 memory access pattern: 411 entries
13:23:17.023811  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1697382400
13:23:19	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
13:23:19	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_sc_ATX.s
13:23:19	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8.s
13:23:19	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8.ch
13:23:19	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
13:23:19	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.a
13:23:19	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_3D_ATX.i
13:23:19	  Method               : OPO3D
13:23:19	  Positivity constraint in sinogram space
13:23:19	  Max of sensitivity image      : 1.000000e+04
13:23:19	  Threshold for missing data    : 1.000000e-04
13:23:19	  Threshold for image update    : 1.000000e-10
13:23:19	  Maximum of image      	: 10000000000.000000
13:23:19	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:013:23:19	Model 999 
13:23:19	  Triming 3 planes at segment edges 
13:23:19	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
13:23:19	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_ra_smo.s , scan duration 60
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 19 iterations (46 msec)
1	562 msec   
2	3290 msec   
3	3531 msec   
4	3304 msec   
5	538 msec   
Smooth Delays computed in 11928 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4878 msec.
Total time 16806 msec.
13:23:35	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.a: attenuation file size 651460608
13:23:35	expected file size 256x288x2209(2209)
13:23:35	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr8.a: attenuation file type 0
13:23:35	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
13:23:36	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
13:23:36	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_3D_ATX.i reconstruction started
13:23:36	  Prepare components of update equation from input data ...
13:23:41	  Read normalization and normalize delayed
13:23:41	  Apply normalization mask to prompt sinogram
13:23:44	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
13:24:09	  Iteration 1 in 85.020 sec
13:24:35	  Iteration 2 in 85.130 sec
13:25:01	  Iteration 3 in 85.160 sec
13:25:26	  Iteration 4 in 84.260 sec
13:25:51	  Iteration 5 in 85.030 sec
13:26:17	  Iteration 6 in 84.610 sec
13:26:42	  Iteration 7 in 85.110 sec
13:27:07	  Iteration 8 in 84.350 sec
13:27:33	  Iteration 9 in 86.560 sec
13:27:59	  Iteration 10 in 85.410 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_3D_ATX.i' complete
13:28:00	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame8_3D_ATX.i reconstruction done in 280 sec
13:28:00.043492 unknown (0x)    memory: 0 MByte
13:28:00.043598 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:28:00.043650 Revision: 275.1
13:28:00.043709 current date and time (GMT): Sat Dec  4 18:28:00 2010
13:28:00.043764 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:28:00.043844 free memory in memory controller: 9541.25 MByte
13:28:00.043987 memory access pattern found
13:28:00.044041 free memory in memory controller: 9541.25 MByte
13:28:00.058838 calculate acf for 1 matrix
13:28:00.058894  span=9
13:28:00.058940  maximum ring difference=67
13:28:00.059005  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.i
13:28:00.059060   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.i'
13:28:00.059109    matrix number=0
13:28:01.023523    XYSamples=128
13:28:01.023649    DeltaXY=2.4375mm
13:28:01.023696    ZSamples=207
13:28:01.023761    DeltaZ=1.21875mm
13:28:01.023802    corrections applied=
13:28:01.023841    u-map data=yes
13:28:01.023885    bed position=0mm
13:28:01.023929    scan start time=0 sec
13:28:01.023979    scan frame duration=0 sec (0 min)
13:28:01.024028    scan gate duration=0 sec (0 min)
13:28:01.024074    isotope halflife=0 sec
13:28:01.024117    lld=0 KeV
13:28:01.024159    uld=0 KeV
13:28:01.030668  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:28:01.030792  XYSamples=128
13:28:01.030851  DeltaXY=2.4375mm
13:28:01.030894  RhoSamples=256
13:28:01.030938  BinSizeRho=1.21875mm
13:28:01.030981  ThetaSamples=288
13:28:01.031025  plane separation=1.21875mm
13:28:01.031074  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:28:01.031118  subsets=1
13:28:01.031160  axes=1
13:28:01.031212  axis table=207 {207}
13:28:01.031252  algorithm=UW-OSEM
13:28:01.031292  use LUT=no
13:28:01.031490  time of flight bins=1
13:28:01.031540  initialize forward-projector
13:28:01.031584   angles of segment 0
13:28:01.031628    plane 0-206: 0 degrees
13:28:01.031908  start forward projection
13:28:01.059712   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:28:01.059851    project segment 0
13:28:03.044483   finished forward projection of subset 0 in 2.50781 sec
13:28:03.062339   scale 207 planes of sinogram by 0.410256
13:28:03.029088  finished forward projection in 2.65234 sec
13:28:03.029194  convert emission into transmission data
13:28:04.044159  span=9
13:28:04.044302  maximum ring difference=67
13:28:04.044372  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:28:04.044549   replace values below 1 by 1
13:28:04.000038   copy 207 planes of segment 0
13:28:04.015502   create 360 degrees sinogram (512x576x207)
13:28:05.040537   calculate 3d fourier transform of sinogram
13:28:08.044322   calculate 394 planes of axis 1
13:28:09.005643    calculate fourier projection of axis 1
13:28:12.047289    calculate inverse fourier transform of axis 1
13:28:16.012498    split axis 1 into 2 segments
13:28:16.041890    calculate weighting of axis 1
13:28:17.059837   finished with axis 1
13:28:17.059967   calculate 358 planes of axis 2
13:28:17.021839    calculate fourier projection of axis 2
13:28:21.045379    calculate inverse fourier transform of axis 2
13:28:24.011890    split axis 2 into 2 segments
13:28:24.031283    calculate weighting of axis 2
13:28:25.000574   finished with axis 2
13:28:25.000701   calculate 322 planes of axis 3
13:28:25.017442    calculate fourier projection of axis 3
13:28:28.020870    calculate inverse fourier transform of axis 3
13:28:32.047603    split axis 3 into 2 segments
13:28:32.054571    calculate weighting of axis 3
13:28:33.049656   finished with axis 3
13:28:33.049782   calculate 286 planes of axis 4
13:28:33.055256    calculate fourier projection of axis 4
13:28:36.024048    calculate inverse fourier transform of axis 4
13:28:40.056520    split axis 4 into 2 segments
13:28:40.052188    calculate weighting of axis 4
13:28:41.012865   finished with axis 4
13:28:41.012994   calculate 250 planes of axis 5
13:28:41.005295    calculate fourier projection of axis 5
13:28:44.035840    calculate inverse fourier transform of axis 5
13:28:48.018198    split axis 5 into 2 segments
13:28:48.003562    calculate weighting of axis 5
13:28:49.052976   finished with axis 5
13:28:49.053105   calculate 214 planes of axis 6
13:28:49.035586    calculate fourier projection of axis 6
13:28:52.036508    calculate inverse fourier transform of axis 6
13:28:55.046304    split axis 6 into 2 segments
13:28:55.021762    calculate weighting of axis 6
13:28:56.045890   finished with axis 6
13:28:56.046017   calculate 178 planes of axis 7
13:28:56.022540    calculate fourier projection of axis 7
13:28:59.031990    calculate inverse fourier transform of axis 7
13:29:02.002557    split axis 7 into 2 segments
13:29:02.052283    calculate weighting of axis 7
13:29:02.061987   finished with axis 7
13:29:02.050947  axes=8
13:29:02.051071  axis table=2209 {207,394,358,322,286,250,214,178}
13:29:02.051161  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.a
13:29:02.051240   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.a (matrix 0)
13:29:03.049034   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.h33 (matrix 0)
13:29:03.029644  
13:29:03.029769 gantry model values that may have been used:
13:29:03.029816  model number=328
13:29:03.029863  defaultElements()=256
13:29:03.029921  binSize()=0.121875cm
13:29:03.029968  defaultAngles()=288
13:29:03.030013  planeSep()=0.121875cm
13:29:03.030060  crystalRadius()=23.45cm
13:29:03.030107  sinogramDepthOfInteraction()=0cm
13:29:03.030154  sinogramIntrinsicTilt()=0 degrees
13:29:03.030194  isRingArch()=false
13:29:03.030233  isPETOnlyArch()=true
13:29:03.030277  defPlaneDefSpan3D()=3
13:29:03.030322  defRingDiffMax()=67
13:29:03.030365  bucketsPerRing()=unknown
13:29:03.030410  bucketRings()=1
13:29:03.030454  axialBlocks()=13
13:29:03.030498  transBlocks()=9
13:29:03.030543  axialCrystals()=8
13:29:03.030596  transCrystals()=8
13:29:03.030640  axialBlockGaps()=0
13:29:03.030725  transBlockGaps()=0
13:29:03.030767  directPlanes()=104
13:29:03.030809  defaultLLD()=400 keV
13:29:03.030851  defaultULD()=650 keV
13:29:03.030892  nCrystalLayers()=2
13:29:03.030937   crystalLayerMaterial(0)=LSO
13:29:03.031008   crystalLayerBackgroundErgRatio(0)=12%
13:29:03.031058   crystalLayerFWHMErgRes(0)=17%
13:29:03.031104   crystalLayerDepth(0)=1cm
13:29:03.031149   crystalLayerMaterial(1)=LYSO
13:29:03.031202   crystalLayerBackgroundErgRatio(1)=12%
13:29:03.031251   crystalLayerFWHMErgRes(1)=17%
13:29:03.031297   crystalLayerDepth(1)=1cm
13:29:03.031342  maxScatterZfOV()=40cm
13:29:03.031378  
13:29:03.031435 processing time 00:01:02.98828 (hh:mm:ss)
13:29:03.031499 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:29:03.031560 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:29:03.031605 memory access pattern: 36 entries
13:29:03.031643  
13:29:04.041180 unknown (0x)    memory: 0 MByte
13:29:04.041287 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:29:04.041339 Revision: 275.1
13:29:04.041398 current date and time (GMT): Sat Dec  4 18:29:04 2010
13:29:04.041463 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
13:29:04.041558 free memory in memory controller: 9541.25 MByte
13:29:04.041722 memory access pattern found
13:29:04.041779 free memory in memory controller: 9541.25 MByte
13:29:04.041848 Default crystalLayerBackgroundErgRatio: 12,12
13:29:04.041912 Specified crystalLayerBackgroundErgRatio: 14,14
13:29:05.004429 calculate sinogram for 1 matrix
13:29:05.004547  loading the 3d emission scan (matrix 0)
13:29:05.004602   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9.tr.s'
13:29:05.004651    matrix number=0
13:29:08.026344    RhoSamples=256
13:29:08.026479    BinSizeRho=1.21875mm
13:29:08.026540    ThetaSamples=288
13:29:08.026589    mash factor=0
13:29:08.026638    plane separation=1.21875mm
13:29:08.026686    axes=8
13:29:08.026753    axis table=2209 {207,394,358,322,286,250,214,178}
13:29:08.026801    span=9
13:29:08.026847    maximum ring difference=67
13:29:08.026896    intrinsic tilt=0 degrees
13:29:08.026945    bed position=0mm
13:29:08.026994    scan start time=0 sec
13:29:08.027048    scan frame duration=0 sec (0 min)
13:29:08.027102    scan gate duration=0 sec (0 min)
13:29:08.027151    isotope halflife=0 sec
13:29:08.027198    lld=400 KeV
13:29:08.027244    uld=650 KeV
13:29:08.027286    corrections applied=
13:29:08.027350  calculating the 3d normalisation scan (matrix 0)
13:29:08.027407   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
13:29:09.032781    matrix number=0
13:29:09.032889    RhoSamples=256
13:29:09.032944    BinSizeRho=1.21875mm
13:29:09.032985    ThetaSamples=288
13:29:09.033025    mash factor=0
13:29:09.033066    plane separation=1.21875mm
13:29:09.033108    axes=8
13:29:09.033177    axis table=2209 {207,394,358,322,286,250,214,178}
13:29:09.033219    span=9
13:29:09.033258    maximum ring difference=67
13:29:09.033300    intrinsic tilt=0 degrees
13:29:09.033342    bed position=0mm
13:29:09.033384    scan start time=0 sec
13:29:09.033431    scan frame duration=0 sec (0 min)
13:29:09.033477    scan gate duration=0 sec (0 min)
13:29:09.033519    isotope halflife=0 sec
13:29:09.033559    lld=400 KeV
13:29:09.033599    uld=650 KeV
13:29:09.033635    corrections applied=
13:29:09.033684  normalize 3d emission
13:29:09.033723   multiply sinograms
13:29:10.063200  normalization based gap filling
13:29:10.064006    fill 207 planes 8 threads
13:29:10.043922    fill 394 planes 8 threads
13:29:11.018798    fill 358 planes 8 threads
13:29:11.050687    fill 322 planes 8 threads
13:29:11.044667    fill 286 planes 8 threads
13:29:11.030651    fill 250 planes 8 threads
13:29:12.032095    fill 214 planes 8 threads
13:29:12.010054    fill 178 planes 8 threads
13:29:12.028081   bed position in emission=0mm
13:29:12.028260   bed position in u-map=0mm
13:29:12.028351   bed position in acf=0mm
13:29:12.028410  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.i
13:29:12.028459   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.i'
13:29:12.028505    matrix number=0
13:29:12.046541    XYSamples=128
13:29:12.046683    DeltaXY=2.4375mm
13:29:12.046725    ZSamples=207
13:29:12.046766    DeltaZ=1.21875mm
13:29:12.046803    corrections applied=
13:29:12.046839    u-map data=yes
13:29:12.046880    bed position=0mm
13:29:12.046922    scan start time=0 sec
13:29:12.046968    scan frame duration=0 sec (0 min)
13:29:12.047014    scan gate duration=0 sec (0 min)
13:29:12.047065    isotope halflife=0 sec
13:29:12.047108    lld=0 KeV
13:29:12.047147    uld=0 KeV
13:29:12.047188  loading the acf (matrix 0)
13:29:12.047236   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.a'
13:29:12.047280    matrix number=0
13:29:13.048602    RhoSamples=256
13:29:13.048727    BinSizeRho=1.21875mm
13:29:13.048769    ThetaSamples=288
13:29:13.048820    mash factor=0
13:29:13.048861    plane separation=1.21875mm
13:29:13.048901    axes=8
13:29:13.048961    axis table=2209 {207,394,358,322,286,250,214,178}
13:29:13.049002    span=9
13:29:13.049041    maximum ring difference=67
13:29:13.049082    intrinsic tilt=0 degrees
13:29:13.049123    bed position=0mm
13:29:13.049164    scan start time=0 sec
13:29:13.049210    scan frame duration=0 sec (0 min)
13:29:13.049259    scan gate duration=0 sec (0 min)
13:29:13.049302    isotope halflife=0 sec
13:29:13.049342    lld=400 KeV
13:29:13.049381    uld=650 KeV
13:29:13.049417    corrections applied=
13:29:13.049477  replace values below 1 by 1
13:29:13.004547  estimate scatter sinogram
13:29:13.018336   counts in image: min=0  max=0.155594  total=53495.4
13:29:13.018498   start single-slice rebinning from 256x288x2209 to 256x288x207
13:29:13.018537   initialize SSR
13:29:13.018578    RhoSamples=256
13:29:13.018617    ThetaSamples=288
13:29:13.018674    axes=8
13:29:13.018733    axis table=2209 {207,394,358,322,286,250,214,178}
13:29:13.018830    skip 2 planes at each side of a segment
13:29:13.018949    calculate e*n*a of axis 0 (skip 2 border planes)
13:29:13.018998     calculate axis 0 of corrected sinogram
13:29:13.014066    calculate single-slice rebinning of axis 0
13:29:13.014227    ssr 203 planes
13:29:13.003604    calculate e*n*a of axis 1 (skip 2 border planes)
13:29:13.003710     calculate axis 1 of corrected sinogram
13:29:13.041107    calculate single-slice rebinning of axis 1
13:29:13.041231    ssr 193 planes
13:29:14.039334    calculate e*n*a of axis 2 (skip 2 border planes)
13:29:14.039455     calculate axis 2 of corrected sinogram
13:29:14.052195    calculate single-slice rebinning of axis 2
13:29:14.052319    ssr 175 planes
13:29:14.062026    calculate e*n*a of axis 3 (skip 2 border planes)
13:29:14.062138     calculate axis 3 of corrected sinogram
13:29:14.053703    calculate single-slice rebinning of axis 3
13:29:14.053825    ssr 157 planes
13:29:14.053919    calculate e*n*a of axis 4 (skip 2 border planes)
13:29:14.054024     calculate axis 4 of corrected sinogram
13:29:14.025259    calculate single-slice rebinning of axis 4
13:29:14.025380    ssr 139 planes
13:29:14.018451    calculate e*n*a of axis 5 (skip 2 border planes)
13:29:14.018556     calculate axis 5 of corrected sinogram
13:29:14.033333    calculate single-slice rebinning of axis 5
13:29:14.033455    ssr 121 planes
13:29:15.001880    calculate e*n*a of axis 6 (skip 2 border planes)
13:29:15.001986     calculate axis 6 of corrected sinogram
13:29:15.061800    calculate single-slice rebinning of axis 6
13:29:15.061922    ssr 103 planes
13:29:15.040237    calculate e*n*a of axis 7 (skip 2 border planes)
13:29:15.040342     calculate axis 7 of corrected sinogram
13:29:15.013733    calculate single-slice rebinning of axis 7
13:29:15.013874    ssr 85 planes
13:29:15.049937    normalize sinogram
13:29:15.033619   finished single-slice rebinning in 1.94922 sec
13:29:15.033741   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
13:29:15.033803    XYSamples=128
13:29:15.033847    DeltaXY=2.4375mm
13:29:15.033887    RhoSamples=256
13:29:15.033927    BinSizeRho=1.21875mm
13:29:15.033967    ThetaSamples=288
13:29:15.034008    plane separation=1.21875mm
13:29:15.034055    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:29:15.034098    subsets=8
13:29:15.034138    axes=1
13:29:15.034183    axis table=207 {207}
13:29:15.034221    algorithm=AW-OSEM
13:29:15.034260    use LUT=small
13:29:15.034441    initialize backprojector
13:29:15.034516     angle of segment 0: 0 degrees
13:29:15.034747     create mode 1 lookup-table for backprojector: 63 MByte
13:29:15.025727     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
13:29:15.009571     start calculation of normalization factors for AW-OSEM
13:29:15.009760      allocate 103.5 MByte for normalization factors
13:29:15.009813      start calculation of normalization factors for subset 0
13:29:15.024276       calculate segment 0, subset 0 of 1/a sinogram
13:29:15.047790       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
13:29:15.013068      finished calculation of normalization factors for subset 0 in 0.132812 sec
13:29:15.013161      start calculation of normalization factors for subset 1
13:29:15.027763       calculate segment 0, subset 1 of 1/a sinogram
13:29:15.045708       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
13:29:15.052917      finished calculation of normalization factors for subset 1 in 0.105469 sec
13:29:15.053011      start calculation of normalization factors for subset 2
13:29:15.002347       calculate segment 0, subset 2 of 1/a sinogram
13:29:15.020289       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
13:29:15.020365      finished calculation of normalization factors for subset 2 in 0.0976562 sec
13:29:15.020459      start calculation of normalization factors for subset 3
13:29:15.035865       calculate segment 0, subset 3 of 1/a sinogram
13:29:15.054063       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
13:29:15.061169      finished calculation of normalization factors for subset 3 in 0.109375 sec
13:29:15.061283      start calculation of normalization factors for subset 4
13:29:15.011256       calculate segment 0, subset 4 of 1/a sinogram
13:29:16.013820       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
13:29:16.014721      finished calculation of normalization factors for subset 4 in 0.101562 sec
13:29:16.014820      start calculation of normalization factors for subset 5
13:29:16.030808       calculate segment 0, subset 5 of 1/a sinogram
13:29:16.048795       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
13:29:16.047659      finished calculation of normalization factors for subset 5 in 0.0976562 sec
13:29:16.047793      start calculation of normalization factors for subset 6
13:29:16.063428       calculate segment 0, subset 6 of 1/a sinogram
13:29:16.017154       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
13:29:16.014665      finished calculation of normalization factors for subset 6 in 0.0976562 sec
13:29:16.014758      start calculation of normalization factors for subset 7
13:29:16.031950       calculate segment 0, subset 7 of 1/a sinogram
13:29:16.051553       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
13:29:16.048292      finished calculation of normalization factors for subset 7 in 0.0976562 sec
13:29:16.048415     finished calculation of normalization factors in 0.839844 sec
13:29:16.048456    divide sinograms
13:29:16.024866    initialize forward-projector
13:29:16.025026     angles of segment 0
13:29:16.025071      plane 0-206: 0 degrees
13:29:16.025321     create mode 1 lookup-table for forward-projector: 126 MByte
13:29:16.045491     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
13:29:16.044562     start reconstruction from 256x288x207 to 128x128x207
13:29:16.044689      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
13:29:16.055883      start iteration 1, subset 0
13:29:17.047368      finished iteration 1, subset 0 in 0.269531 sec
13:29:17.047471      start iteration 1, subset 4
13:29:17.021422      finished iteration 1, subset 4 in 0.304688 sec
13:29:17.021523      start iteration 1, subset 2
13:29:17.030702      finished iteration 1, subset 2 in 0.269531 sec
13:29:17.030807      start iteration 1, subset 6
13:29:18.012099      finished iteration 1, subset 6 in 0.261719 sec
13:29:18.012204      start iteration 1, subset 1
13:29:18.012399      finished iteration 1, subset 1 in 0.328125 sec
13:29:18.012512      start iteration 1, subset 5
13:29:18.018931      finished iteration 1, subset 5 in 0.269531 sec
13:29:18.019111      start iteration 1, subset 3
13:29:19.016173      finished iteration 1, subset 3 in 0.339844 sec
13:29:19.016277      start iteration 1, subset 7
13:29:19.043253      finished iteration 1, subset 7 in 0.222656 sec
13:29:19.043377      start iteration 2, subset 0
13:29:19.035716      finished iteration 2, subset 0 in 0.257812 sec
13:29:19.035819      start iteration 2, subset 4
13:29:19.007310      finished iteration 2, subset 4 in 0.230469 sec
13:29:19.007430      start iteration 2, subset 2
13:29:20.014272      finished iteration 2, subset 2 in 0.289062 sec
13:29:20.014374      start iteration 2, subset 6
13:29:20.020091      finished iteration 2, subset 6 in 0.265625 sec
13:29:20.020212      start iteration 2, subset 1
13:29:20.009668      finished iteration 2, subset 1 in 0.316406 sec
13:29:20.009780      start iteration 2, subset 5
13:29:20.050997      finished iteration 2, subset 5 in 0.300781 sec
13:29:20.051100      start iteration 2, subset 3
13:29:21.020737      finished iteration 2, subset 3 in 0.25 sec
13:29:21.020839      start iteration 2, subset 7
13:29:21.005167      finished iteration 2, subset 7 in 0.3125 sec
13:29:21.005275      start iteration 3, subset 0
13:29:21.026721      finished iteration 3, subset 0 in 0.414062 sec
13:29:21.026835      start iteration 3, subset 4
13:29:22.052277      finished iteration 3, subset 4 in 0.238281 sec
13:29:22.052382      start iteration 3, subset 2
13:29:22.029566      finished iteration 3, subset 2 in 0.238281 sec
13:29:22.029692      start iteration 3, subset 6
13:29:22.046274      finished iteration 3, subset 6 in 0.214844 sec
13:29:22.046380      start iteration 3, subset 1
13:29:22.004132      finished iteration 3, subset 1 in 0.21875 sec
13:29:22.004238      start iteration 3, subset 5
13:29:23.037021      finished iteration 3, subset 5 in 0.246094 sec
13:29:23.037125      start iteration 3, subset 3
13:29:23.018113      finished iteration 3, subset 3 in 0.304688 sec
13:29:23.018215      start iteration 3, subset 7
13:29:23.024652      finished iteration 3, subset 7 in 0.265625 sec
13:29:23.024786      mask 207 planes of image
13:29:23.039178      scale image with 1.21875
13:29:23.046095      scale image with 4
13:29:23.053244     finished reconstruction in 6.68359 sec
13:29:23.053337     forward projector: 3.35938 sec
13:29:23.053379     backprojector: 2.30859 sec
13:29:23.063119   finished reconstruction of emission in 8.22656 sec
13:29:23.063205   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
13:29:23.064863   scale image by 4.10256
13:29:23.015798   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:29:23.015925   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:29:23.015996   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:29:23.016057   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:29:23.016095   start scatter estimation
13:29:23.016148    calculate matrix for beta-spline interpolation
13:29:23.025521    start scatter simulation
13:29:23.025601     effective detector ring radius=234.5mm (234.5mm+0mm)
13:29:23.025644     DeltaXY=2.4375mm
13:29:23.025686     DeltaZ=1.21875mm
13:29:23.025738     LLD=400 keV
13:29:23.025781     ULD=650 keV
13:29:23.035315     search bounds of object in u-map
13:29:23.060922     x bounds (-x,+x)=-93.8413mm,84.0913mm
13:29:23.061033     y bounds (-y,+y)=-106.029mm,135.279mm
13:29:23.061081     z bounds (-z,+z)=-55.4519mm,126.139mm
13:29:23.061131     length of axial scatter fov=363.178mm (max. 363.178mm)
13:29:23.061180     scatter samples (x,y,z)=8,11,16
13:29:23.061232     image size (x,y,z)=177.933mm,241.308mm,363.178mm
13:29:23.061284     scatter_grid size (x,y,z)=22.2416mm,21.9371mm,22.6986mm
13:29:23.043037     start simulation of scatter sinogram (19x34x10)
13:29:23.043274      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
13:29:23.043354      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
13:29:23.043494      thread 2: 404 samples in plane 1 inside of object (plane 29 of full sinogram)
13:29:23.043576      thread 1: 328 samples in plane 0 inside of object (plane 8 of full sinogram)
13:29:23.046760      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
13:29:23.046928      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
13:29:23.047175      thread 6: 509 samples in plane 5 inside of object (plane 113 of full sinogram)
13:29:23.047258      thread 4: 515 samples in plane 3 inside of object (plane 71 of full sinogram)
13:29:23.050522      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
13:29:23.050864      thread 7: 506 samples in plane 6 inside of object (plane 134 of full sinogram)
13:29:23.061640      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
13:29:23.061957      thread 8: 512 samples in plane 8 inside of object (plane 176 of full sinogram)
13:29:23.063759      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
13:29:23.064025      thread 3: 491 samples in plane 2 inside of object (plane 50 of full sinogram)
13:29:23.031089      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
13:29:23.031298      thread 5: 513 samples in plane 4 inside of object (plane 92 of full sinogram)
13:29:23.056291      thread 7: 513 samples in plane 7 inside of object (plane 155 of full sinogram)
13:29:23.063907      thread 8: 505 samples in plane 9 inside of object (plane 197 of full sinogram)
13:29:24.041487     finished simulation of scatter sinogram
13:29:24.053127    finished scatter simulation in 0.242188 sec
13:29:24.053238    calculate beta-spline interpolation from 17x34x10 to 256x288x207
13:29:25.012698   finished scatter estimation in 1.47266 sec
13:29:25.012786   convert 2d scatter sinogram into 3d sinogram
13:29:25.012830   calculate axial scatter scale factors (smoothed with boxcar 17)
13:29:25.012895    acf threshold=1.03
13:29:25.044033    calculate scale factors for segment 0
13:29:25.044136    scatter size 256x288x207
13:29:25.044732     apply lower and upper thresholds 0.25 and 2
13:29:25.044848    calculate scale factors for segment +1
13:29:25.044904    scatter size 256x288x197
13:29:25.003118     apply lower and upper thresholds 0.25 and 2
13:29:25.003227    calculate scale factors for segment -1
13:29:25.003282    scatter size 256x288x197
13:29:26.004382     apply lower and upper thresholds 0.25 and 2
13:29:26.004496    calculate scale factors for segment +2
13:29:26.004553    scatter size 256x288x179
13:29:26.010440     apply lower and upper thresholds 0.25 and 2
13:29:26.010543    calculate scale factors for segment -2
13:29:26.010598    scatter size 256x288x179
13:29:26.014540     apply lower and upper thresholds 0.25 and 2
13:29:26.014646    calculate scale factors for segment +3
13:29:26.014701    scatter size 256x288x161
13:29:26.005782     apply lower and upper thresholds 0.25 and 2
13:29:26.005885    calculate scale factors for segment -3
13:29:26.005951    scatter size 256x288x161
13:29:26.059939     apply lower and upper thresholds 0.25 and 2
13:29:26.060046    calculate scale factors for segment +4
13:29:26.060101    scatter size 256x288x143
13:29:26.019680     apply lower and upper thresholds 0.25 and 2
13:29:26.019796    calculate scale factors for segment -4
13:29:26.019860    scatter size 256x288x143
13:29:26.000381     apply lower and upper thresholds 0.25 and 2
13:29:26.000490    calculate scale factors for segment +5
13:29:26.000547    scatter size 256x288x125
13:29:26.031315     apply lower and upper thresholds 0.25 and 2
13:29:26.031418    calculate scale factors for segment -5
13:29:26.031473    scatter size 256x288x125
13:29:27.041891     apply lower and upper thresholds 0.25 and 2
13:29:27.042007    calculate scale factors for segment +6
13:29:27.042072    scatter size 256x288x107
13:29:27.053971     apply lower and upper thresholds 0.25 and 2
13:29:27.054073    calculate scale factors for segment -6
13:29:27.054128    scatter size 256x288x107
13:29:27.061922     apply lower and upper thresholds 0.25 and 2
13:29:27.062025    calculate scale factors for segment +7
13:29:27.062080    scatter size 256x288x89
13:29:27.060675     apply lower and upper thresholds 0.25 and 2
13:29:27.060776    calculate scale factors for segment -7
13:29:27.060840    scatter size 256x288x89
13:29:27.053914     apply lower and upper thresholds 0.25 and 2
13:29:34.012248   scatter fraction at first pass=42.911%
13:29:35.037753  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_sc_ATX.s
13:29:35.037881   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_sc_ATX.s (matrix 0)
13:29:35.057869   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_sc_ATX.h33 (matrix 0)
13:29:35.058214  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_sc_ATX.s
13:29:35.003075  
13:29:35.003177 gantry model values that may have been used:
13:29:35.003237  model number=328
13:29:35.003284  defaultElements()=256
13:29:35.003341  binSize()=0.121875cm
13:29:35.003387  defaultAngles()=288
13:29:35.003439  planeSep()=0.121875cm
13:29:35.003487  crystalRadius()=23.45cm
13:29:35.003533  sinogramDepthOfInteraction()=0cm
13:29:35.003581  sinogramIntrinsicTilt()=0 degrees
13:29:35.003621  isRingArch()=false
13:29:35.003661  isPETOnlyArch()=true
13:29:35.003705  defPlaneDefSpan3D()=3
13:29:35.003750  defRingDiffMax()=67
13:29:35.003793  bucketsPerRing()=unknown
13:29:35.003838  bucketRings()=1
13:29:35.003882  axialBlocks()=13
13:29:35.003926  transBlocks()=9
13:29:35.003971  axialCrystals()=8
13:29:35.004015  transCrystals()=8
13:29:35.004060  axialBlockGaps()=0
13:29:35.004103  transBlockGaps()=0
13:29:35.004147  directPlanes()=104
13:29:35.004198  defaultLLD()=400 keV
13:29:35.004245  defaultULD()=650 keV
13:29:35.004290  nCrystalLayers()=2
13:29:35.004338   crystalLayerMaterial(0)=LSO
13:29:35.004410   crystalLayerBackgroundErgRatio(0)=14%
13:29:35.004463   crystalLayerFWHMErgRes(0)=17%
13:29:35.004512   crystalLayerDepth(0)=1cm
13:29:35.004560   crystalLayerMaterial(1)=LYSO
13:29:35.004615   crystalLayerBackgroundErgRatio(1)=14%
13:29:35.004667   crystalLayerFWHMErgRes(1)=17%
13:29:35.004716   crystalLayerDepth(1)=1cm
13:29:35.004763  maxScatterZfOV()=40cm
13:29:35.004803  
13:29:35.043542 processing time 00:00:30.4766 (hh:mm:ss)
13:29:35.043668 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:29:35.043728 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:29:35.043773 memory access pattern: 411 entries
13:29:35.043812  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1698062336
13:29:37	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
13:29:37	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_sc_ATX.s
13:29:37	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9.s
13:29:37	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9.ch
13:29:37	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
13:29:37	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.a
13:29:37	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_3D_ATX.i
13:29:37	  Method               : OPO3D
13:29:37	  Positivity constraint in sinogram space
13:29:37	  Max of sensitivity image      : 1.000000e+04
13:29:37	  Threshold for missing data    : 1.000000e-04
13:29:37	  Threshold for image update    : 1.000000e-10
13:29:37	  Maximum of image      	: 10000000000.000000
13:29:37	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:013:29:37	Model 999 
13:29:37	  Triming 3 planes at segment edges 
13:29:37	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
13:29:37	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_ra_smo.s , scan duration 60
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 19 iterations (44 msec)
1	526 msec   
2	3300 msec   
3	3457 msec   
4	3270 msec   
5	611 msec   
Smooth Delays computed in 11867 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4557 msec.
Total time 16424 msec.
13:29:53	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.a: attenuation file size 651460608
13:29:53	expected file size 256x288x2209(2209)
13:29:53	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr9.a: attenuation file type 0
13:29:53	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
13:29:54	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
13:29:54	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_3D_ATX.i reconstruction started
13:29:54	  Prepare components of update equation from input data ...
13:29:59	  Read normalization and normalize delayed
13:29:59	  Apply normalization mask to prompt sinogram
13:30:03	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
13:30:29	  Iteration 1 in 86.050 sec
13:30:53	  Iteration 2 in 83.610 sec
13:31:19	  Iteration 3 in 83.720 sec
13:31:44	  Iteration 4 in 85.300 sec
13:32:10	  Iteration 5 in 86.170 sec
13:32:35	  Iteration 6 in 86.110 sec
13:33:00	  Iteration 7 in 84.520 sec
13:33:26	  Iteration 8 in 85.050 sec
13:33:51	  Iteration 9 in 84.520 sec
13:34:17	  Iteration 10 in 84.770 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_3D_ATX.i' complete
13:34:18	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame9_3D_ATX.i reconstruction done in 280 sec
13:34:19.001441 unknown (0x)    memory: 0 MByte
13:34:19.001542 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:34:19.001592 Revision: 275.1
13:34:19.001649 current date and time (GMT): Sat Dec  4 18:34:19 2010
13:34:19.001705 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:34:19.001793 free memory in memory controller: 9541.25 MByte
13:34:19.001935 memory access pattern found
13:34:19.001989 free memory in memory controller: 9541.25 MByte
13:34:19.012682 calculate acf for 1 matrix
13:34:19.012740  span=9
13:34:19.012786  maximum ring difference=67
13:34:19.012859  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.i
13:34:19.012913   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.i'
13:34:19.012960    matrix number=0
13:34:19.004121    XYSamples=128
13:34:19.004245    DeltaXY=2.4375mm
13:34:19.004291    ZSamples=207
13:34:19.004337    DeltaZ=1.21875mm
13:34:19.004378    corrections applied=
13:34:19.004418    u-map data=yes
13:34:19.004463    bed position=0mm
13:34:19.004509    scan start time=0 sec
13:34:19.004560    scan frame duration=0 sec (0 min)
13:34:19.004610    scan gate duration=0 sec (0 min)
13:34:19.004655    isotope halflife=0 sec
13:34:19.004700    lld=0 KeV
13:34:19.004752    uld=0 KeV
13:34:19.011251  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:34:19.011378  XYSamples=128
13:34:19.011436  DeltaXY=2.4375mm
13:34:19.011481  RhoSamples=256
13:34:19.011525  BinSizeRho=1.21875mm
13:34:19.011568  ThetaSamples=288
13:34:19.011613  plane separation=1.21875mm
13:34:19.011663  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:34:19.011708  subsets=1
13:34:19.011804  axes=1
13:34:19.011857  axis table=207 {207}
13:34:19.011898  algorithm=UW-OSEM
13:34:19.011939  use LUT=no
13:34:19.012125  time of flight bins=1
13:34:19.012173  initialize forward-projector
13:34:19.012218   angles of segment 0
13:34:19.012290    plane 0-206: 0 degrees
13:34:19.012553  start forward projection
13:34:19.040840   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:34:19.040960    project segment 0
13:34:21.035664   finished forward projection of subset 0 in 2.38672 sec
13:34:21.053711   scale 207 planes of sinogram by 0.410256
13:34:21.019735  finished forward projection in 2.53125 sec
13:34:21.019849  convert emission into transmission data
13:34:22.036352  span=9
13:34:22.036472  maximum ring difference=67
13:34:22.036539  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:34:22.036719   replace values below 1 by 1
13:34:22.058045   copy 207 planes of segment 0
13:34:22.010433   create 360 degrees sinogram (512x576x207)
13:34:23.038629   calculate 3d fourier transform of sinogram
13:34:26.064807   calculate 394 planes of axis 1
13:34:27.028267    calculate fourier projection of axis 1
13:34:30.038042    calculate inverse fourier transform of axis 1
13:34:34.010269    split axis 1 into 2 segments
13:34:34.045321    calculate weighting of axis 1
13:34:35.017347   finished with axis 1
13:34:35.017478   calculate 358 planes of axis 2
13:34:35.042703    calculate fourier projection of axis 2
13:34:39.064873    calculate inverse fourier transform of axis 2
13:34:42.048475    split axis 2 into 2 segments
13:34:42.001533    calculate weighting of axis 2
13:34:43.055893   finished with axis 2
13:34:43.056020   calculate 322 planes of axis 3
13:34:43.008398    calculate fourier projection of axis 3
13:34:47.008999    calculate inverse fourier transform of axis 3
13:34:50.027110    split axis 3 into 2 segments
13:34:50.035396    calculate weighting of axis 3
13:34:51.047456   finished with axis 3
13:34:51.047583   calculate 286 planes of axis 4
13:34:51.053065    calculate fourier projection of axis 4
13:34:54.031743    calculate inverse fourier transform of axis 4
13:34:58.036296    split axis 4 into 2 segments
13:34:58.045432    calculate weighting of axis 4
13:34:59.038279   finished with axis 4
13:34:59.038408   calculate 250 planes of axis 5
13:34:59.036377    calculate fourier projection of axis 5
13:35:02.060143    calculate inverse fourier transform of axis 5
13:35:05.054736    split axis 5 into 2 segments
13:35:05.040165    calculate weighting of axis 5
13:35:06.037085   finished with axis 5
13:35:06.037215   calculate 214 planes of axis 6
13:35:06.020670    calculate fourier projection of axis 6
13:35:09.059194    calculate inverse fourier transform of axis 6
13:35:12.025000    split axis 6 into 2 segments
13:35:12.001230    calculate weighting of axis 6
13:35:13.018879   finished with axis 6
13:35:13.019011   calculate 178 planes of axis 7
13:35:14.040542    calculate fourier projection of axis 7
13:35:16.050907    calculate inverse fourier transform of axis 7
13:35:19.007607    split axis 7 into 2 segments
13:35:19.039601    calculate weighting of axis 7
13:35:19.058392   finished with axis 7
13:35:19.047369  axes=8
13:35:19.047494  axis table=2209 {207,394,358,322,286,250,214,178}
13:35:19.047561  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.a
13:35:19.047628   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.a (matrix 0)
13:35:20.030551   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.h33 (matrix 0)
13:35:20.011721  
13:35:20.011844 gantry model values that may have been used:
13:35:20.011891  model number=328
13:35:20.011937  defaultElements()=256
13:35:20.011997  binSize()=0.121875cm
13:35:20.012042  defaultAngles()=288
13:35:20.012087  planeSep()=0.121875cm
13:35:20.012135  crystalRadius()=23.45cm
13:35:20.012181  sinogramDepthOfInteraction()=0cm
13:35:20.012229  sinogramIntrinsicTilt()=0 degrees
13:35:20.012269  isRingArch()=false
13:35:20.012308  isPETOnlyArch()=true
13:35:20.012352  defPlaneDefSpan3D()=3
13:35:20.012397  defRingDiffMax()=67
13:35:20.012439  bucketsPerRing()=unknown
13:35:20.012484  bucketRings()=1
13:35:20.012528  axialBlocks()=13
13:35:20.012572  transBlocks()=9
13:35:20.012624  axialCrystals()=8
13:35:20.012691  transCrystals()=8
13:35:20.012734  axialBlockGaps()=0
13:35:20.012777  transBlockGaps()=0
13:35:20.012819  directPlanes()=104
13:35:20.012863  defaultLLD()=400 keV
13:35:20.012906  defaultULD()=650 keV
13:35:20.012949  nCrystalLayers()=2
13:35:20.012995   crystalLayerMaterial(0)=LSO
13:35:20.013067   crystalLayerBackgroundErgRatio(0)=12%
13:35:20.013118   crystalLayerFWHMErgRes(0)=17%
13:35:20.013166   crystalLayerDepth(0)=1cm
13:35:20.013212   crystalLayerMaterial(1)=LYSO
13:35:20.013269   crystalLayerBackgroundErgRatio(1)=12%
13:35:20.013319   crystalLayerFWHMErgRes(1)=17%
13:35:20.013367   crystalLayerDepth(1)=1cm
13:35:20.013413  maxScatterZfOV()=40cm
13:35:20.013451  
13:35:20.013509 processing time 00:01:01.92969 (hh:mm:ss)
13:35:20.013575 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:35:20.013636 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:35:20.013680 memory access pattern: 36 entries
13:35:20.013719  
13:35:22.006044 unknown (0x)    memory: 0 MByte
13:35:22.006151 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:35:22.006203 Revision: 275.1
13:35:22.006262 current date and time (GMT): Sat Dec  4 18:35:22 2010
13:35:22.006327 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
13:35:22.006458 free memory in memory controller: 9541.25 MByte
13:35:22.006623 memory access pattern found
13:35:22.006679 free memory in memory controller: 9541.25 MByte
13:35:22.006744 Default crystalLayerBackgroundErgRatio: 12,12
13:35:22.006805 Specified crystalLayerBackgroundErgRatio: 14,14
13:35:22.012638 calculate sinogram for 1 matrix
13:35:22.015179  loading the 3d emission scan (matrix 0)
13:35:22.015250   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10.tr.s'
13:35:22.015299    matrix number=0
13:35:25.031819    RhoSamples=256
13:35:25.031957    BinSizeRho=1.21875mm
13:35:25.032006    ThetaSamples=288
13:35:25.032053    mash factor=0
13:35:25.032102    plane separation=1.21875mm
13:35:25.032150    axes=8
13:35:25.032224    axis table=2209 {207,394,358,322,286,250,214,178}
13:35:25.032275    span=9
13:35:25.032322    maximum ring difference=67
13:35:25.032371    intrinsic tilt=0 degrees
13:35:25.032419    bed position=0mm
13:35:25.032468    scan start time=0 sec
13:35:25.032522    scan frame duration=0 sec (0 min)
13:35:25.032575    scan gate duration=0 sec (0 min)
13:35:25.032624    isotope halflife=0 sec
13:35:25.032671    lld=400 KeV
13:35:25.032717    uld=650 KeV
13:35:25.032759    corrections applied=
13:35:25.032824  calculating the 3d normalisation scan (matrix 0)
13:35:25.032882   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
13:35:25.042828    matrix number=0
13:35:25.042936    RhoSamples=256
13:35:25.042991    BinSizeRho=1.21875mm
13:35:25.043032    ThetaSamples=288
13:35:25.043071    mash factor=0
13:35:25.043112    plane separation=1.21875mm
13:35:25.043152    axes=8
13:35:25.043209    axis table=2209 {207,394,358,322,286,250,214,178}
13:35:25.043250    span=9
13:35:25.043289    maximum ring difference=67
13:35:25.043330    intrinsic tilt=0 degrees
13:35:25.043372    bed position=0mm
13:35:25.043413    scan start time=0 sec
13:35:25.043459    scan frame duration=0 sec (0 min)
13:35:25.043504    scan gate duration=0 sec (0 min)
13:35:25.043546    isotope halflife=0 sec
13:35:25.043586    lld=400 KeV
13:35:25.043626    uld=650 KeV
13:35:25.043662    corrections applied=
13:35:25.043707  normalize 3d emission
13:35:25.043746   multiply sinograms
13:35:27.058270  normalization based gap filling
13:35:27.059071    fill 207 planes 8 threads
13:35:27.059364    fill 394 planes 8 threads
13:35:27.064703    fill 358 planes 8 threads
13:35:28.038441    fill 322 planes 8 threads
13:35:28.056056    fill 286 planes 8 threads
13:35:28.018625    fill 250 planes 8 threads
13:35:28.042186    fill 214 planes 8 threads
13:35:28.029966    fill 178 planes 8 threads
13:35:29.008765   bed position in emission=0mm
13:35:29.008945   bed position in u-map=0mm
13:35:29.009038   bed position in acf=0mm
13:35:29.009100  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.i
13:35:29.009156   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.i'
13:35:29.009204    matrix number=0
13:35:29.027087    XYSamples=128
13:35:29.027213    DeltaXY=2.4375mm
13:35:29.027258    ZSamples=207
13:35:29.027305    DeltaZ=1.21875mm
13:35:29.027346    corrections applied=
13:35:29.027385    u-map data=yes
13:35:29.027429    bed position=0mm
13:35:29.027474    scan start time=0 sec
13:35:29.027524    scan frame duration=0 sec (0 min)
13:35:29.027573    scan gate duration=0 sec (0 min)
13:35:29.027626    isotope halflife=0 sec
13:35:29.027669    lld=0 KeV
13:35:29.027712    uld=0 KeV
13:35:29.027755  loading the acf (matrix 0)
13:35:29.027808   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.a'
13:35:29.027854    matrix number=0
13:35:29.037034    RhoSamples=256
13:35:29.037175    BinSizeRho=1.21875mm
13:35:29.037223    ThetaSamples=288
13:35:29.037267    mash factor=0
13:35:29.037312    plane separation=1.21875mm
13:35:29.037382    axes=8
13:35:29.037445    axis table=2209 {207,394,358,322,286,250,214,178}
13:35:29.037487    span=9
13:35:29.037529    maximum ring difference=67
13:35:29.037572    intrinsic tilt=0 degrees
13:35:29.037616    bed position=0mm
13:35:29.037659    scan start time=0 sec
13:35:29.037720    scan frame duration=0 sec (0 min)
13:35:29.037769    scan gate duration=0 sec (0 min)
13:35:29.037811    isotope halflife=0 sec
13:35:29.037850    lld=400 KeV
13:35:29.037889    uld=650 KeV
13:35:29.037925    corrections applied=
13:35:29.037983  replace values below 1 by 1
13:35:30.041154  estimate scatter sinogram
13:35:30.054946   counts in image: min=0  max=0.155565  total=53496.8
13:35:30.055108   start single-slice rebinning from 256x288x2209 to 256x288x207
13:35:30.055148   initialize SSR
13:35:30.055189    RhoSamples=256
13:35:30.055229    ThetaSamples=288
13:35:30.055268    axes=8
13:35:30.055327    axis table=2209 {207,394,358,322,286,250,214,178}
13:35:30.058377    skip 2 planes at each side of a segment
13:35:30.058501    calculate e*n*a of axis 0 (skip 2 border planes)
13:35:30.058549     calculate axis 0 of corrected sinogram
13:35:30.061210    calculate single-slice rebinning of axis 0
13:35:30.008657    ssr 203 planes
13:35:30.065236    calculate e*n*a of axis 1 (skip 2 border planes)
13:35:30.065346     calculate axis 1 of corrected sinogram
13:35:30.045159    calculate single-slice rebinning of axis 1
13:35:30.045282    ssr 193 planes
13:35:30.063535    calculate e*n*a of axis 2 (skip 2 border planes)
13:35:30.063641     calculate axis 2 of corrected sinogram
13:35:30.013593    calculate single-slice rebinning of axis 2
13:35:30.013736    ssr 175 planes
13:35:30.024253    calculate e*n*a of axis 3 (skip 2 border planes)
13:35:30.024358     calculate axis 3 of corrected sinogram
13:35:31.001813    calculate single-slice rebinning of axis 3
13:35:31.001937    ssr 157 planes
13:35:31.005309    calculate e*n*a of axis 4 (skip 2 border planes)
13:35:31.005412     calculate axis 4 of corrected sinogram
13:35:31.044813    calculate single-slice rebinning of axis 4
13:35:31.044958    ssr 139 planes
13:35:31.040823    calculate e*n*a of axis 5 (skip 2 border planes)
13:35:31.040928     calculate axis 5 of corrected sinogram
13:35:31.058257    calculate single-slice rebinning of axis 5
13:35:31.058395    ssr 121 planes
13:35:31.046685    calculate e*n*a of axis 6 (skip 2 border planes)
13:35:31.046804     calculate axis 6 of corrected sinogram
13:35:31.042712    calculate single-slice rebinning of axis 6
13:35:31.042833    ssr 103 planes
13:35:31.023672    calculate e*n*a of axis 7 (skip 2 border planes)
13:35:31.023780     calculate axis 7 of corrected sinogram
13:35:31.063963    calculate single-slice rebinning of axis 7
13:35:31.064084    ssr 85 planes
13:35:31.036972    normalize sinogram
13:35:32.004875   finished single-slice rebinning in 2.01562 sec
13:35:32.004995   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
13:35:32.005064    XYSamples=128
13:35:32.005110    DeltaXY=2.4375mm
13:35:32.005151    RhoSamples=256
13:35:32.005192    BinSizeRho=1.21875mm
13:35:32.005240    ThetaSamples=288
13:35:32.005282    plane separation=1.21875mm
13:35:32.005328    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:35:32.005370    subsets=8
13:35:32.005410    axes=1
13:35:32.005454    axis table=207 {207}
13:35:32.005492    algorithm=AW-OSEM
13:35:32.005530    use LUT=small
13:35:32.005700    initialize backprojector
13:35:32.005773     angle of segment 0: 0 degrees
13:35:32.006009     create mode 1 lookup-table for backprojector: 63 MByte
13:35:32.063596     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
13:35:32.047167     start calculation of normalization factors for AW-OSEM
13:35:32.047362      allocate 103.5 MByte for normalization factors
13:35:32.047418      start calculation of normalization factors for subset 0
13:35:32.062199       calculate segment 0, subset 0 of 1/a sinogram
13:35:32.020658       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
13:35:32.027469      finished calculation of normalization factors for subset 0 in 0.109375 sec
13:35:32.027614      start calculation of normalization factors for subset 1
13:35:32.042120       calculate segment 0, subset 1 of 1/a sinogram
13:35:32.059807       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
13:35:32.009672      finished calculation of normalization factors for subset 1 in 0.113281 sec
13:35:32.009782      start calculation of normalization factors for subset 2
13:35:32.024615       calculate segment 0, subset 2 of 1/a sinogram
13:35:32.042672       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
13:35:32.061055      finished calculation of normalization factors for subset 2 in 0.117188 sec
13:35:32.061149      start calculation of normalization factors for subset 3
13:35:32.010139       calculate segment 0, subset 3 of 1/a sinogram
13:35:32.037286       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
13:35:32.026055      finished calculation of normalization factors for subset 3 in 0.160156 sec
13:35:32.026161      start calculation of normalization factors for subset 4
13:35:32.041614       calculate segment 0, subset 4 of 1/a sinogram
13:35:32.059585       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
13:35:32.010181      finished calculation of normalization factors for subset 4 in 0.117188 sec
13:35:32.010274      start calculation of normalization factors for subset 5
13:35:32.027242       calculate segment 0, subset 5 of 1/a sinogram
13:35:32.044880       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
13:35:32.011974      finished calculation of normalization factors for subset 5 in 0.132812 sec
13:35:32.012068      start calculation of normalization factors for subset 6
13:35:32.029085       calculate segment 0, subset 6 of 1/a sinogram
13:35:32.052784       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
13:35:33.017857      finished calculation of normalization factors for subset 6 in 0.152344 sec
13:35:33.017969      start calculation of normalization factors for subset 7
13:35:33.034815       calculate segment 0, subset 7 of 1/a sinogram
13:35:33.052787       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
13:35:33.003242      finished calculation of normalization factors for subset 7 in 0.117188 sec
13:35:33.003363     finished calculation of normalization factors in 1.01953 sec
13:35:33.003403    divide sinograms
13:35:33.043126    initialize forward-projector
13:35:33.043250     angles of segment 0
13:35:33.043293      plane 0-206: 0 degrees
13:35:33.043553     create mode 1 lookup-table for forward-projector: 126 MByte
13:35:33.064442     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
13:35:33.065477     start reconstruction from 256x288x207 to 128x128x207
13:35:33.000067      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
13:35:33.011242      start iteration 1, subset 0
13:35:34.016629      finished iteration 1, subset 0 in 0.21875 sec
13:35:34.016734      start iteration 1, subset 4
13:35:34.041605      finished iteration 1, subset 4 in 0.222656 sec
13:35:34.041725      start iteration 1, subset 2
13:35:34.008504      finished iteration 1, subset 2 in 0.292969 sec
13:35:34.008620      start iteration 1, subset 6
13:35:34.058186      finished iteration 1, subset 6 in 0.246094 sec
13:35:34.058295      start iteration 1, subset 1
13:35:35.022235      finished iteration 1, subset 1 in 0.308594 sec
13:35:35.022342      start iteration 1, subset 5
13:35:35.027601      finished iteration 1, subset 5 in 0.265625 sec
13:35:35.027750      start iteration 1, subset 3
13:35:35.051075      finished iteration 1, subset 3 in 0.351562 sec
13:35:35.051180      start iteration 1, subset 7
13:35:35.060679      finished iteration 1, subset 7 in 0.269531 sec
13:35:35.060794      start iteration 2, subset 0
13:35:36.041247      finished iteration 2, subset 0 in 0.261719 sec
13:35:36.041368      start iteration 2, subset 4
13:35:36.025630      finished iteration 2, subset 4 in 0.378906 sec
13:35:36.025732      start iteration 2, subset 2
13:35:36.005918      finished iteration 2, subset 2 in 0.304688 sec
13:35:36.006075      start iteration 2, subset 6
13:35:37.029877      finished iteration 2, subset 6 in 0.371094 sec
13:35:37.029994      start iteration 2, subset 1
13:35:37.056904      finished iteration 2, subset 1 in 0.289062 sec
13:35:37.057019      start iteration 2, subset 5
13:35:37.013849      finished iteration 2, subset 5 in 0.21875 sec
13:35:37.013976      start iteration 2, subset 3
13:35:38.053707      finished iteration 2, subset 3 in 0.320312 sec
13:35:38.053822      start iteration 2, subset 7
13:35:38.006696      finished iteration 2, subset 7 in 0.277344 sec
13:35:38.006813      start iteration 3, subset 0
13:35:38.051946      finished iteration 3, subset 0 in 0.308594 sec
13:35:38.052076      start iteration 3, subset 4
13:35:38.006212      finished iteration 3, subset 4 in 0.28125 sec
13:35:38.006342      start iteration 3, subset 2
13:35:39.044168      finished iteration 3, subset 2 in 0.253906 sec
13:35:39.044272      start iteration 3, subset 6
13:35:39.051094      finished iteration 3, subset 6 in 0.398438 sec
13:35:39.051199      start iteration 3, subset 1
13:35:39.042456      finished iteration 3, subset 1 in 0.320312 sec
13:35:39.042562      start iteration 3, subset 5
13:35:40.025460      finished iteration 3, subset 5 in 0.261719 sec
13:35:40.025563      start iteration 3, subset 3
13:35:40.063386      finished iteration 3, subset 3 in 0.234375 sec
13:35:40.063538      start iteration 3, subset 7
13:35:40.051497      finished iteration 3, subset 7 in 0.238281 sec
13:35:40.051633      mask 207 planes of image
13:35:40.000238      scale image with 1.21875
13:35:40.006742      scale image with 4
13:35:40.013495     finished reconstruction in 6.94922 sec
13:35:40.013587     forward projector: 3.39453 sec
13:35:40.013629     backprojector: 2.53125 sec
13:35:40.035465   finished reconstruction of emission in 8.6875 sec
13:35:40.035560   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
13:35:40.034316   scale image by 4.10256
13:35:40.053551   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:35:40.053702   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:35:40.053774   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:35:40.053835   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:35:40.053871   start scatter estimation
13:35:40.053924    calculate matrix for beta-spline interpolation
13:35:40.063269    start scatter simulation
13:35:40.063342     effective detector ring radius=234.5mm (234.5mm+0mm)
13:35:40.063385     DeltaXY=2.4375mm
13:35:40.063427     DeltaZ=1.21875mm
13:35:40.063479     LLD=400 keV
13:35:40.063521     ULD=650 keV
13:35:40.007843     search bounds of object in u-map
13:35:40.034247     x bounds (-x,+x)=-93.8413mm,84.0913mm
13:35:40.034363     y bounds (-y,+y)=-106.029mm,135.279mm
13:35:40.034411     z bounds (-z,+z)=-55.4519mm,126.139mm
13:35:40.034462     length of axial scatter fov=363.178mm (max. 363.178mm)
13:35:40.034511     scatter samples (x,y,z)=8,11,16
13:35:40.034564     image size (x,y,z)=177.933mm,241.308mm,363.178mm
13:35:40.034617     scatter_grid size (x,y,z)=22.2416mm,21.9371mm,22.6986mm
13:35:40.015474     start simulation of scatter sinogram (19x34x10)
13:35:40.015719      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
13:35:40.015783      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
13:35:40.015875      thread 2: 405 samples in plane 1 inside of object (plane 29 of full sinogram)
13:35:40.015933      thread 1: 330 samples in plane 0 inside of object (plane 8 of full sinogram)
13:35:41.011566      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
13:35:41.011731      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
13:35:41.011883      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
13:35:41.011981      thread 4: 514 samples in plane 3 inside of object (plane 71 of full sinogram)
13:35:41.012051      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
13:35:41.012143      thread 3: 491 samples in plane 2 inside of object (plane 50 of full sinogram)
13:35:41.012232      thread 5: 512 samples in plane 4 inside of object (plane 92 of full sinogram)
13:35:41.030387      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
13:35:41.030615      thread 6: 509 samples in plane 5 inside of object (plane 113 of full sinogram)
13:35:41.032659      thread 8: 512 samples in plane 8 inside of object (plane 176 of full sinogram)
13:35:41.024317      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
13:35:41.024517      thread 7: 506 samples in plane 6 inside of object (plane 134 of full sinogram)
13:35:41.036938      thread 8: 506 samples in plane 9 inside of object (plane 197 of full sinogram)
13:35:41.020321      thread 7: 513 samples in plane 7 inside of object (plane 155 of full sinogram)
13:35:41.013080     finished simulation of scatter sinogram
13:35:41.025901    finished scatter simulation in 0.308594 sec
13:35:41.026021    calculate beta-spline interpolation from 17x34x10 to 256x288x207
13:35:42.014082   finished scatter estimation in 1.56641 sec
13:35:42.014166   convert 2d scatter sinogram into 3d sinogram
13:35:42.014210   calculate axial scatter scale factors (smoothed with boxcar 17)
13:35:42.014282    acf threshold=1.03
13:35:42.046931    calculate scale factors for segment 0
13:35:42.047036    scatter size 256x288x207
13:35:43.019977     apply lower and upper thresholds 0.25 and 2
13:35:43.020094    calculate scale factors for segment +1
13:35:43.020149    scatter size 256x288x197
13:35:43.042534     apply lower and upper thresholds 0.25 and 2
13:35:43.042638    calculate scale factors for segment -1
13:35:43.042693    scatter size 256x288x197
13:35:43.059725     apply lower and upper thresholds 0.25 and 2
13:35:43.059835    calculate scale factors for segment +2
13:35:43.059891    scatter size 256x288x179
13:35:43.064821     apply lower and upper thresholds 0.25 and 2
13:35:43.064922    calculate scale factors for segment -2
13:35:43.064979    scatter size 256x288x179
13:35:43.002073     apply lower and upper thresholds 0.25 and 2
13:35:43.002187    calculate scale factors for segment +3
13:35:43.002242    scatter size 256x288x161
13:35:43.056757     apply lower and upper thresholds 0.25 and 2
13:35:43.056862    calculate scale factors for segment -3
13:35:43.056918    scatter size 256x288x161
13:35:43.043190     apply lower and upper thresholds 0.25 and 2
13:35:43.043292    calculate scale factors for segment +4
13:35:43.043347    scatter size 256x288x143
13:35:44.000375     apply lower and upper thresholds 0.25 and 2
13:35:44.000484    calculate scale factors for segment -4
13:35:44.000541    scatter size 256x288x143
13:35:44.038588     apply lower and upper thresholds 0.25 and 2
13:35:44.038692    calculate scale factors for segment +5
13:35:44.038748    scatter size 256x288x125
13:35:44.063388     apply lower and upper thresholds 0.25 and 2
13:35:44.063488    calculate scale factors for segment -5
13:35:44.063542    scatter size 256x288x125
13:35:44.020486     apply lower and upper thresholds 0.25 and 2
13:35:44.020587    calculate scale factors for segment +6
13:35:44.020641    scatter size 256x288x107
13:35:44.034126     apply lower and upper thresholds 0.25 and 2
13:35:44.034228    calculate scale factors for segment -6
13:35:44.034284    scatter size 256x288x107
13:35:44.041396     apply lower and upper thresholds 0.25 and 2
13:35:44.041494    calculate scale factors for segment +7
13:35:44.041548    scatter size 256x288x89
13:35:44.036465     apply lower and upper thresholds 0.25 and 2
13:35:44.036563    calculate scale factors for segment -7
13:35:44.036619    scatter size 256x288x89
13:35:44.030144     apply lower and upper thresholds 0.25 and 2
13:35:51.017789   scatter fraction at first pass=42.3392%
13:35:52.047138  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_sc_ATX.s
13:35:52.047282   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_sc_ATX.s (matrix 0)
13:35:52.001711   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_sc_ATX.h33 (matrix 0)
13:35:52.002060  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_sc_ATX.s
13:35:52.014866  
13:35:52.014967 gantry model values that may have been used:
13:35:52.015010  model number=328
13:35:52.015053  defaultElements()=256
13:35:52.015107  binSize()=0.121875cm
13:35:52.015150  defaultAngles()=288
13:35:52.015213  planeSep()=0.121875cm
13:35:52.015260  crystalRadius()=23.45cm
13:35:52.015303  sinogramDepthOfInteraction()=0cm
13:35:52.015348  sinogramIntrinsicTilt()=0 degrees
13:35:52.015385  isRingArch()=false
13:35:52.015422  isPETOnlyArch()=true
13:35:52.015463  defPlaneDefSpan3D()=3
13:35:52.015505  defRingDiffMax()=67
13:35:52.015546  bucketsPerRing()=unknown
13:35:52.015588  bucketRings()=1
13:35:52.015629  axialBlocks()=13
13:35:52.015670  transBlocks()=9
13:35:52.015711  axialCrystals()=8
13:35:52.015752  transCrystals()=8
13:35:52.015793  axialBlockGaps()=0
13:35:52.015835  transBlockGaps()=0
13:35:52.015875  directPlanes()=104
13:35:52.015917  defaultLLD()=400 keV
13:35:52.015958  defaultULD()=650 keV
13:35:52.016000  nCrystalLayers()=2
13:35:52.016044   crystalLayerMaterial(0)=LSO
13:35:52.016113   crystalLayerBackgroundErgRatio(0)=14%
13:35:52.016162   crystalLayerFWHMErgRes(0)=17%
13:35:52.016214   crystalLayerDepth(0)=1cm
13:35:52.016260   crystalLayerMaterial(1)=LYSO
13:35:52.016312   crystalLayerBackgroundErgRatio(1)=14%
13:35:52.016361   crystalLayerFWHMErgRes(1)=17%
13:35:52.016406   crystalLayerDepth(1)=1cm
13:35:52.016451  maxScatterZfOV()=40cm
13:35:52.016487  
13:35:52.053741 processing time 00:00:30.375 (hh:mm:ss)
13:35:52.053856 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:35:52.053911 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:35:52.053953 memory access pattern: 411 entries
13:35:52.053990  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1693503488
13:35:54	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
13:35:54	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_sc_ATX.s
13:35:54	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10.s
13:35:54	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10.ch
13:35:54	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
13:35:54	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.a
13:35:54	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_3D_ATX.i
13:35:54	  Method               : OPO3D
13:35:54	  Positivity constraint in sinogram space
13:35:54	  Max of sensitivity image      : 1.000000e+04
13:35:54	  Threshold for missing data    : 1.000000e-04
13:35:54	  Threshold for image update    : 1.000000e-10
13:35:54	  Maximum of image      	: 10000000000.000000
13:35:54	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:013:35:54	Model 999 
13:35:54	  Triming 3 planes at segment edges 
13:35:54	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
13:35:54	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_ra_smo.s , scan duration 60
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 19 iterations (46 msec)
1	644 msec   
2	3255 msec   
3	3610 msec   
4	3341 msec   
5	568 msec   
Smooth Delays computed in 12119 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4691 msec.
Total time 16810 msec.
13:36:10	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.a: attenuation file size 651460608
13:36:10	expected file size 256x288x2209(2209)
13:36:10	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr10.a: attenuation file type 0
13:36:10	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
13:36:11	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
13:36:11	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_3D_ATX.i reconstruction started
13:36:11	  Prepare components of update equation from input data ...
13:36:16	  Read normalization and normalize delayed
13:36:16	  Apply normalization mask to prompt sinogram
13:36:19	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
13:36:44	  Iteration 1 in 84.990 sec
13:37:10	  Iteration 2 in 85.720 sec
13:37:35	  Iteration 3 in 85.170 sec
13:38:01	  Iteration 4 in 83.950 sec
13:38:26	  Iteration 5 in 84.460 sec
13:38:52	  Iteration 6 in 85.300 sec
13:39:18	  Iteration 7 in 84.920 sec
13:39:43	  Iteration 8 in 84.600 sec
13:40:09	  Iteration 9 in 85.370 sec
13:40:34	  Iteration 10 in 85.000 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_3D_ATX.i' complete
13:40:35	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame10_3D_ATX.i reconstruction done in 280 sec
13:40:35.057810 unknown (0x)    memory: 0 MByte
13:40:35.057912 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:40:35.057964 Revision: 275.1
13:40:35.058021 current date and time (GMT): Sat Dec  4 18:40:35 2010
13:40:35.058076 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:40:35.058156 free memory in memory controller: 9541.25 MByte
13:40:35.058307 memory access pattern found
13:40:35.058370 free memory in memory controller: 9541.25 MByte
13:40:35.002207 calculate acf for 1 matrix
13:40:35.002265  span=9
13:40:35.002312  maximum ring difference=67
13:40:35.002376  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.i
13:40:35.002431   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.i'
13:40:35.002479    matrix number=0
13:40:36.030865    XYSamples=128
13:40:36.030993    DeltaXY=2.4375mm
13:40:36.031039    ZSamples=207
13:40:36.031085    DeltaZ=1.21875mm
13:40:36.031125    corrections applied=
13:40:36.031165    u-map data=yes
13:40:36.031211    bed position=0mm
13:40:36.031256    scan start time=0 sec
13:40:36.031318    scan frame duration=0 sec (0 min)
13:40:36.031368    scan gate duration=0 sec (0 min)
13:40:36.031428    isotope halflife=0 sec
13:40:36.031472    lld=0 KeV
13:40:36.031515    uld=0 KeV
13:40:36.037898  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:40:36.038026  XYSamples=128
13:40:36.038085  DeltaXY=2.4375mm
13:40:36.038128  RhoSamples=256
13:40:36.038173  BinSizeRho=1.21875mm
13:40:36.038217  ThetaSamples=288
13:40:36.038261  plane separation=1.21875mm
13:40:36.038333  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:40:36.038379  subsets=1
13:40:36.038422  axes=1
13:40:36.038475  axis table=207 {207}
13:40:36.038515  algorithm=UW-OSEM
13:40:36.038556  use LUT=no
13:40:36.038743  time of flight bins=1
13:40:36.038791  initialize forward-projector
13:40:36.038836   angles of segment 0
13:40:36.038880    plane 0-206: 0 degrees
13:40:36.039143  start forward projection
13:40:36.003078   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:40:36.003214    project segment 0
13:40:38.057503   finished forward projection of subset 0 in 2.51562 sec
13:40:38.009790   scale 207 planes of sinogram by 0.410256
13:40:38.041812  finished forward projection in 2.65625 sec
13:40:38.041920  convert emission into transmission data
13:40:39.056236  span=9
13:40:39.056355  maximum ring difference=67
13:40:39.056423  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:40:39.056603   replace values below 1 by 1
13:40:39.011979   copy 207 planes of segment 0
13:40:39.025096   create 360 degrees sinogram (512x576x207)
13:40:40.050508   calculate 3d fourier transform of sinogram
13:40:43.020503   calculate 394 planes of axis 1
13:40:44.051071    calculate fourier projection of axis 1
13:40:47.008587    calculate inverse fourier transform of axis 1
13:40:50.031140    split axis 1 into 2 segments
13:40:50.060320    calculate weighting of axis 1
13:40:51.034087   finished with axis 1
13:40:51.034223   calculate 358 planes of axis 2
13:40:52.044258    calculate fourier projection of axis 2
13:40:55.002391    calculate inverse fourier transform of axis 2
13:40:58.059394    split axis 2 into 2 segments
13:40:58.012243    calculate weighting of axis 2
13:40:59.030029   finished with axis 2
13:40:59.030154   calculate 322 planes of axis 3
13:41:00.028287    calculate fourier projection of axis 3
13:41:03.028154    calculate inverse fourier transform of axis 3
13:41:07.010064    split axis 3 into 2 segments
13:41:07.017004    calculate weighting of axis 3
13:41:08.025917   finished with axis 3
13:41:08.026035   calculate 286 planes of axis 4
13:41:08.026600    calculate fourier projection of axis 4
13:41:11.060646    calculate inverse fourier transform of axis 4
13:41:15.048424    split axis 4 into 2 segments
13:41:15.043245    calculate weighting of axis 4
13:41:16.016959   finished with axis 4
13:41:16.017091   calculate 250 planes of axis 5
13:41:16.009668    calculate fourier projection of axis 5
13:41:19.020734    calculate inverse fourier transform of axis 5
13:41:23.053593    split axis 5 into 2 segments
13:41:23.037251    calculate weighting of axis 5
13:41:23.050241   finished with axis 5
13:41:23.050375   calculate 214 planes of axis 6
13:41:24.018756    calculate fourier projection of axis 6
13:41:26.013502    calculate inverse fourier transform of axis 6
13:41:30.043239    split axis 6 into 2 segments
13:41:30.019420    calculate weighting of axis 6
13:41:30.004093   finished with axis 6
13:41:30.004218   calculate 178 planes of axis 7
13:41:31.026439    calculate fourier projection of axis 7
13:41:33.036621    calculate inverse fourier transform of axis 7
13:41:36.024101    split axis 7 into 2 segments
13:41:36.056929    calculate weighting of axis 7
13:41:37.060168   finished with axis 7
13:41:37.050394  axes=8
13:41:37.050516  axis table=2209 {207,394,358,322,286,250,214,178}
13:41:37.050582  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.a
13:41:37.050646   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.a (matrix 0)
13:41:38.041648   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.h33 (matrix 0)
13:41:38.021849  
13:41:38.021971 gantry model values that may have been used:
13:41:38.022015  model number=328
13:41:38.022059  defaultElements()=256
13:41:38.022116  binSize()=0.121875cm
13:41:38.022159  defaultAngles()=288
13:41:38.022201  planeSep()=0.121875cm
13:41:38.022246  crystalRadius()=23.45cm
13:41:38.022289  sinogramDepthOfInteraction()=0cm
13:41:38.022334  sinogramIntrinsicTilt()=0 degrees
13:41:38.022372  isRingArch()=false
13:41:38.022408  isPETOnlyArch()=true
13:41:38.022456  defPlaneDefSpan3D()=3
13:41:38.022500  defRingDiffMax()=67
13:41:38.022541  bucketsPerRing()=unknown
13:41:38.022583  bucketRings()=1
13:41:38.022625  axialBlocks()=13
13:41:38.022667  transBlocks()=9
13:41:38.022708  axialCrystals()=8
13:41:38.022749  transCrystals()=8
13:41:38.022791  axialBlockGaps()=0
13:41:38.022832  transBlockGaps()=0
13:41:38.022873  directPlanes()=104
13:41:38.022915  defaultLLD()=400 keV
13:41:38.022956  defaultULD()=650 keV
13:41:38.022997  nCrystalLayers()=2
13:41:38.023042   crystalLayerMaterial(0)=LSO
13:41:38.023112   crystalLayerBackgroundErgRatio(0)=12%
13:41:38.023161   crystalLayerFWHMErgRes(0)=17%
13:41:38.023208   crystalLayerDepth(0)=1cm
13:41:38.023252   crystalLayerMaterial(1)=LYSO
13:41:38.023304   crystalLayerBackgroundErgRatio(1)=12%
13:41:38.023353   crystalLayerFWHMErgRes(1)=17%
13:41:38.023398   crystalLayerDepth(1)=1cm
13:41:38.023442  maxScatterZfOV()=40cm
13:41:38.023486  
13:41:38.023542 processing time 00:01:02.24609 (hh:mm:ss)
13:41:38.023607 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:41:38.023661 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:41:38.023703 memory access pattern: 36 entries
13:41:38.023739  
13:41:39.057882 unknown (0x)    memory: 0 MByte
13:41:39.057988 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:41:39.058039 Revision: 275.1
13:41:39.058101 current date and time (GMT): Sat Dec  4 18:41:39 2010
13:41:39.058166 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
13:41:39.058260 free memory in memory controller: 9541.25 MByte
13:41:39.058421 memory access pattern found
13:41:39.058478 free memory in memory controller: 9541.25 MByte
13:41:39.058549 Default crystalLayerBackgroundErgRatio: 12,12
13:41:39.058615 Specified crystalLayerBackgroundErgRatio: 14,14
13:41:39.045604 calculate sinogram for 1 matrix
13:41:39.045721  loading the 3d emission scan (matrix 0)
13:41:39.045775   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11.tr.s'
13:41:39.045825    matrix number=0
13:41:43.021051    RhoSamples=256
13:41:43.021192    BinSizeRho=1.21875mm
13:41:43.021242    ThetaSamples=288
13:41:43.021289    mash factor=0
13:41:43.021338    plane separation=1.21875mm
13:41:43.021385    axes=8
13:41:43.021453    axis table=2209 {207,394,358,322,286,250,214,178}
13:41:43.021501    span=9
13:41:43.021547    maximum ring difference=67
13:41:43.021595    intrinsic tilt=0 degrees
13:41:43.021645    bed position=0mm
13:41:43.021693    scan start time=0 sec
13:41:43.021761    scan frame duration=0 sec (0 min)
13:41:43.021817    scan gate duration=0 sec (0 min)
13:41:43.021881    isotope halflife=0 sec
13:41:43.021927    lld=400 KeV
13:41:43.021973    uld=650 KeV
13:41:43.022022    corrections applied=
13:41:43.022086  calculating the 3d normalisation scan (matrix 0)
13:41:43.022143   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
13:41:43.042206    matrix number=0
13:41:43.042317    RhoSamples=256
13:41:43.042371    BinSizeRho=1.21875mm
13:41:43.042413    ThetaSamples=288
13:41:43.042453    mash factor=0
13:41:43.042494    plane separation=1.21875mm
13:41:43.042557    axes=8
13:41:43.042611    axis table=2209 {207,394,358,322,286,250,214,178}
13:41:43.042649    span=9
13:41:43.042698    maximum ring difference=67
13:41:43.042737    intrinsic tilt=0 degrees
13:41:43.042776    bed position=0mm
13:41:43.042814    scan start time=0 sec
13:41:43.042856    scan frame duration=0 sec (0 min)
13:41:43.042899    scan gate duration=0 sec (0 min)
13:41:43.042937    isotope halflife=0 sec
13:41:43.042974    lld=400 KeV
13:41:43.043010    uld=650 KeV
13:41:43.043043    corrections applied=
13:41:43.043085  normalize 3d emission
13:41:43.043120   multiply sinograms
13:41:45.016933  normalization based gap filling
13:41:45.017731    fill 207 planes 8 threads
13:41:45.016860    fill 394 planes 8 threads
13:41:45.004378    fill 358 planes 8 threads
13:41:46.056482    fill 322 planes 8 threads
13:41:46.006833    fill 286 planes 8 threads
13:41:46.061076    fill 250 planes 8 threads
13:41:46.035633    fill 214 planes 8 threads
13:41:46.047414    fill 178 planes 8 threads
13:41:47.004330   bed position in emission=0mm
13:41:47.004535   bed position in u-map=0mm
13:41:47.004631   bed position in acf=0mm
13:41:47.004690  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.i
13:41:47.004740   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.i'
13:41:47.004786    matrix number=0
13:41:47.052305    XYSamples=128
13:41:47.052439    DeltaXY=2.4375mm
13:41:47.052489    ZSamples=207
13:41:47.052537    DeltaZ=1.21875mm
13:41:47.052580    corrections applied=
13:41:47.052622    u-map data=yes
13:41:47.052669    bed position=0mm
13:41:47.052716    scan start time=0 sec
13:41:47.052769    scan frame duration=0 sec (0 min)
13:41:47.052822    scan gate duration=0 sec (0 min)
13:41:47.052871    isotope halflife=0 sec
13:41:47.052918    lld=0 KeV
13:41:47.052964    uld=0 KeV
13:41:47.053011  loading the acf (matrix 0)
13:41:47.053067   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.a'
13:41:47.053119    matrix number=0
13:41:47.004171    RhoSamples=256
13:41:47.016327    BinSizeRho=1.21875mm
13:41:47.016378    ThetaSamples=288
13:41:47.016432    mash factor=0
13:41:47.016473    plane separation=1.21875mm
13:41:47.016513    axes=8
13:41:47.016571    axis table=2209 {207,394,358,322,286,250,214,178}
13:41:47.016613    span=9
13:41:47.016653    maximum ring difference=67
13:41:47.016696    intrinsic tilt=0 degrees
13:41:47.016739    bed position=0mm
13:41:47.016781    scan start time=0 sec
13:41:47.016830    scan frame duration=0 sec (0 min)
13:41:47.016877    scan gate duration=0 sec (0 min)
13:41:47.016920    isotope halflife=0 sec
13:41:47.016960    lld=400 KeV
13:41:47.016999    uld=650 KeV
13:41:47.017082    corrections applied=
13:41:47.017150  replace values below 1 by 1
13:41:48.020993  estimate scatter sinogram
13:41:48.034751   counts in image: min=0  max=0.155556  total=53497.5
13:41:48.034913   start single-slice rebinning from 256x288x2209 to 256x288x207
13:41:48.034953   initialize SSR
13:41:48.034994    RhoSamples=256
13:41:48.035033    ThetaSamples=288
13:41:48.035073    axes=8
13:41:48.035131    axis table=2209 {207,394,358,322,286,250,214,178}
13:41:48.038010    skip 2 planes at each side of a segment
13:41:48.038134    calculate e*n*a of axis 0 (skip 2 border planes)
13:41:48.038182     calculate axis 0 of corrected sinogram
13:41:48.039194    calculate single-slice rebinning of axis 0
13:41:48.039319    ssr 203 planes
13:41:48.029442    calculate e*n*a of axis 1 (skip 2 border planes)
13:41:48.029551     calculate axis 1 of corrected sinogram
13:41:48.006941    calculate single-slice rebinning of axis 1
13:41:48.007063    ssr 193 planes
13:41:48.024322    calculate e*n*a of axis 2 (skip 2 border planes)
13:41:48.024432     calculate axis 2 of corrected sinogram
13:41:48.038884    calculate single-slice rebinning of axis 2
13:41:48.039007    ssr 175 planes
13:41:49.031814    calculate e*n*a of axis 3 (skip 2 border planes)
13:41:49.031916     calculate axis 3 of corrected sinogram
13:41:49.026136    calculate single-slice rebinning of axis 3
13:41:49.026283    ssr 157 planes
13:41:49.028354    calculate e*n*a of axis 4 (skip 2 border planes)
13:41:49.028463     calculate axis 4 of corrected sinogram
13:41:49.000753    calculate single-slice rebinning of axis 4
13:41:49.000891    ssr 139 planes
13:41:49.061190    calculate e*n*a of axis 5 (skip 2 border planes)
13:41:49.061296     calculate axis 5 of corrected sinogram
13:41:49.012398    calculate single-slice rebinning of axis 5
13:41:49.012520    ssr 121 planes
13:41:49.000321    calculate e*n*a of axis 6 (skip 2 border planes)
13:41:49.000427     calculate axis 6 of corrected sinogram
13:41:49.061843    calculate single-slice rebinning of axis 6
13:41:49.061969    ssr 103 planes
13:41:49.041830    calculate e*n*a of axis 7 (skip 2 border planes)
13:41:49.041935     calculate axis 7 of corrected sinogram
13:41:49.016047    calculate single-slice rebinning of axis 7
13:41:49.016165    ssr 85 planes
13:41:50.036933    normalize sinogram
13:41:50.021174   finished single-slice rebinning in 1.98828 sec
13:41:50.021293   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
13:41:50.021354    XYSamples=128
13:41:50.021398    DeltaXY=2.4375mm
13:41:50.021440    RhoSamples=256
13:41:50.021494    BinSizeRho=1.21875mm
13:41:50.021534    ThetaSamples=288
13:41:50.021575    plane separation=1.21875mm
13:41:50.021623    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:41:50.021664    subsets=8
13:41:50.021703    axes=1
13:41:50.021748    axis table=207 {207}
13:41:50.021786    algorithm=AW-OSEM
13:41:50.021824    use LUT=small
13:41:50.021993    initialize backprojector
13:41:50.022066     angle of segment 0: 0 degrees
13:41:50.022297     create mode 1 lookup-table for backprojector: 63 MByte
13:41:50.013314     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
13:41:50.061639     start calculation of normalization factors for AW-OSEM
13:41:50.061832      allocate 103.5 MByte for normalization factors
13:41:50.061884      start calculation of normalization factors for subset 0
13:41:50.010941       calculate segment 0, subset 0 of 1/a sinogram
13:41:50.034402       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
13:41:50.052584      finished calculation of normalization factors for subset 0 in 0.121094 sec
13:41:50.052679      start calculation of normalization factors for subset 1
13:41:50.001697       calculate segment 0, subset 1 of 1/a sinogram
13:41:50.019296       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
13:41:50.035444      finished calculation of normalization factors for subset 1 in 0.113281 sec
13:41:50.035537      start calculation of normalization factors for subset 2
13:41:50.050519       calculate segment 0, subset 2 of 1/a sinogram
13:41:50.002928       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
13:41:50.051848      finished calculation of normalization factors for subset 2 in 0.144531 sec
13:41:50.051949      start calculation of normalization factors for subset 3
13:41:50.003408       calculate segment 0, subset 3 of 1/a sinogram
13:41:50.022435       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
13:41:50.057386      finished calculation of normalization factors for subset 3 in 0.136719 sec
13:41:50.057548      start calculation of normalization factors for subset 4
13:41:50.009010       calculate segment 0, subset 4 of 1/a sinogram
13:41:50.037039       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
13:41:50.018265      finished calculation of normalization factors for subset 4 in 0.160156 sec
13:41:50.018358      start calculation of normalization factors for subset 5
13:41:50.033989       calculate segment 0, subset 5 of 1/a sinogram
13:41:50.051891       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
13:41:51.061174      finished calculation of normalization factors for subset 5 in 0.125 sec
13:41:51.061280      start calculation of normalization factors for subset 6
13:41:51.013160       calculate segment 0, subset 6 of 1/a sinogram
13:41:51.031089       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
13:41:51.049159      finished calculation of normalization factors for subset 6 in 0.117188 sec
13:41:51.049252      start calculation of normalization factors for subset 7
13:41:51.000701       calculate segment 0, subset 7 of 1/a sinogram
13:41:51.020371       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
13:41:51.000220      finished calculation of normalization factors for subset 7 in 0.148438 sec
13:41:51.000342     finished calculation of normalization factors in 1.07031 sec
13:41:51.000384    divide sinograms
13:41:51.042038    initialize forward-projector
13:41:51.042178     angles of segment 0
13:41:51.042221      plane 0-206: 0 degrees
13:41:51.042465     create mode 1 lookup-table for forward-projector: 126 MByte
13:41:51.061866     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
13:41:51.056282     start reconstruction from 256x288x207 to 128x128x207
13:41:51.056444      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
13:41:51.002724      start iteration 1, subset 0
13:41:52.016340      finished iteration 1, subset 0 in 0.289062 sec
13:41:52.016443      start iteration 1, subset 4
13:41:52.019329      finished iteration 1, subset 4 in 0.261719 sec
13:41:52.019440      start iteration 1, subset 2
13:41:52.025542      finished iteration 1, subset 2 in 0.203125 sec
13:41:52.025642      start iteration 1, subset 6
13:41:53.018455      finished iteration 1, subset 6 in 0.339844 sec
13:41:53.018612      start iteration 1, subset 1
13:41:53.016975      finished iteration 1, subset 1 in 0.316406 sec
13:41:53.017099      start iteration 1, subset 5
13:41:53.013722      finished iteration 1, subset 5 in 0.324219 sec
13:41:53.013829      start iteration 1, subset 3
13:41:53.047467      finished iteration 1, subset 3 in 0.296875 sec
13:41:53.047571      start iteration 1, subset 7
13:41:54.008709      finished iteration 1, subset 7 in 0.242188 sec
13:41:54.008829      start iteration 2, subset 0
13:41:54.007204      finished iteration 2, subset 0 in 0.257812 sec
13:41:54.007310      start iteration 2, subset 4
13:41:54.036596      finished iteration 2, subset 4 in 0.292969 sec
13:41:54.036703      start iteration 2, subset 2
13:41:55.020771      finished iteration 2, subset 2 in 0.261719 sec
13:41:55.020893      start iteration 2, subset 6
13:41:55.047378      finished iteration 2, subset 6 in 0.222656 sec
13:41:55.047480      start iteration 2, subset 1
13:41:55.010157      finished iteration 2, subset 1 in 0.226562 sec
13:41:55.010261      start iteration 2, subset 5
13:41:55.064434      finished iteration 2, subset 5 in 0.316406 sec
13:41:55.064544      start iteration 2, subset 3
13:41:56.026544      finished iteration 2, subset 3 in 0.242188 sec
13:41:56.026667      start iteration 2, subset 7
13:41:56.041064      finished iteration 2, subset 7 in 0.277344 sec
13:41:56.041168      start iteration 3, subset 0
13:41:56.042221      finished iteration 3, subset 0 in 0.261719 sec
13:41:56.042326      start iteration 3, subset 4
13:41:56.065293      finished iteration 3, subset 4 in 0.21875 sec
13:41:56.065407      start iteration 3, subset 2
13:41:57.050664      finished iteration 3, subset 2 in 0.265625 sec
13:41:57.050770      start iteration 3, subset 6
13:41:57.033641      finished iteration 3, subset 6 in 0.308594 sec
13:41:57.033772      start iteration 3, subset 1
13:41:57.001299      finished iteration 3, subset 1 in 0.292969 sec
13:41:57.001401      start iteration 3, subset 5
13:41:57.009922      finished iteration 3, subset 5 in 0.269531 sec
13:41:57.010027      start iteration 3, subset 3
13:41:58.042890      finished iteration 3, subset 3 in 0.25 sec
13:41:58.043035      start iteration 3, subset 7
13:41:58.034811      finished iteration 3, subset 7 in 0.246094 sec
13:41:58.034945      mask 207 planes of image
13:41:58.049378      scale image with 1.21875
13:41:58.055804      scale image with 4
13:41:58.062428     finished reconstruction in 6.54688 sec
13:41:58.062526     forward projector: 3.34766 sec
13:41:58.062569     backprojector: 2.19141 sec
13:41:58.005624   finished reconstruction of emission in 8.3125 sec
13:41:58.005703   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
13:41:58.004710   scale image by 4.10256
13:41:58.022978   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:41:58.023092   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:41:58.023162   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:41:58.023222   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:41:58.023260   start scatter estimation
13:41:58.023313    calculate matrix for beta-spline interpolation
13:41:58.032649    start scatter simulation
13:41:58.032726     effective detector ring radius=234.5mm (234.5mm+0mm)
13:41:58.032771     DeltaXY=2.4375mm
13:41:58.032813     DeltaZ=1.21875mm
13:41:58.032865     LLD=400 keV
13:41:58.032909     ULD=650 keV
13:41:58.042453     search bounds of object in u-map
13:41:58.002820     x bounds (-x,+x)=-93.8413mm,84.0913mm
13:41:58.002936     y bounds (-y,+y)=-106.029mm,135.279mm
13:41:58.002986     z bounds (-z,+z)=-56.6707mm,126.139mm
13:41:58.003036     length of axial scatter fov=365.615mm (max. 365.615mm)
13:41:58.003086     scatter samples (x,y,z)=8,11,16
13:41:58.003139     image size (x,y,z)=177.933mm,241.308mm,365.615mm
13:41:58.003206     scatter_grid size (x,y,z)=22.2416mm,21.9371mm,22.851mm
13:41:58.049610     start simulation of scatter sinogram (19x34x10)
13:41:58.049863      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
13:41:58.049942      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
13:41:58.050101      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
13:41:58.050257      thread 3: 494 samples in plane 2 inside of object (plane 50 of full sinogram)
13:41:58.050330      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
13:41:58.050398      thread 1: 329 samples in plane 0 inside of object (plane 8 of full sinogram)
13:41:58.050507      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
13:41:58.050664      thread 4: 510 samples in plane 3 inside of object (plane 71 of full sinogram)
13:41:58.050728      thread 2: 406 samples in plane 1 inside of object (plane 29 of full sinogram)
13:41:58.050951      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
13:41:58.051142      thread 6: 507 samples in plane 5 inside of object (plane 113 of full sinogram)
13:41:58.054248      thread 5: 509 samples in plane 4 inside of object (plane 92 of full sinogram)
13:41:58.061177      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
13:41:58.061720      thread 7: 506 samples in plane 6 inside of object (plane 134 of full sinogram)
13:41:58.003239      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
13:41:58.003423      thread 8: 512 samples in plane 8 inside of object (plane 176 of full sinogram)
13:41:58.009004      thread 7: 513 samples in plane 7 inside of object (plane 155 of full sinogram)
13:41:58.062663      thread 8: 500 samples in plane 9 inside of object (plane 197 of full sinogram)
13:41:58.054237     finished simulation of scatter sinogram
13:41:58.000802    finished scatter simulation in 0.296875 sec
13:41:58.000914    calculate beta-spline interpolation from 17x34x10 to 256x288x207
13:42:00.013716   finished scatter estimation in 1.53125 sec
13:42:00.013803   convert 2d scatter sinogram into 3d sinogram
13:42:00.013849   calculate axial scatter scale factors (smoothed with boxcar 17)
13:42:00.013916    acf threshold=1.03
13:42:00.052052    calculate scale factors for segment 0
13:42:00.052157    scatter size 256x288x207
13:42:00.021612     apply lower and upper thresholds 0.25 and 2
13:42:00.021726    calculate scale factors for segment +1
13:42:00.021796    scatter size 256x288x197
13:42:00.048044     apply lower and upper thresholds 0.25 and 2
13:42:00.048160    calculate scale factors for segment -1
13:42:00.048218    scatter size 256x288x197
13:42:00.001733     apply lower and upper thresholds 0.25 and 2
13:42:00.001838    calculate scale factors for segment +2
13:42:00.001894    scatter size 256x288x179
13:42:00.007571     apply lower and upper thresholds 0.25 and 2
13:42:00.007674    calculate scale factors for segment -2
13:42:00.007730    scatter size 256x288x179
13:42:01.060600     apply lower and upper thresholds 0.25 and 2
13:42:01.060706    calculate scale factors for segment +3
13:42:01.060762    scatter size 256x288x161
13:42:01.051193     apply lower and upper thresholds 0.25 and 2
13:42:01.051294    calculate scale factors for segment -3
13:42:01.051350    scatter size 256x288x161
13:42:01.038490     apply lower and upper thresholds 0.25 and 2
13:42:01.038592    calculate scale factors for segment +4
13:42:01.038648    scatter size 256x288x143
13:42:01.013652     apply lower and upper thresholds 0.25 and 2
13:42:01.013760    calculate scale factors for segment -4
13:42:01.013817    scatter size 256x288x143
13:42:01.054842     apply lower and upper thresholds 0.25 and 2
13:42:01.054948    calculate scale factors for segment +5
13:42:01.055004    scatter size 256x288x125
13:42:01.015535     apply lower and upper thresholds 0.25 and 2
13:42:01.015637    calculate scale factors for segment -5
13:42:01.015693    scatter size 256x288x125
13:42:01.038905     apply lower and upper thresholds 0.25 and 2
13:42:01.039005    calculate scale factors for segment +6
13:42:01.039061    scatter size 256x288x107
13:42:01.049810     apply lower and upper thresholds 0.25 and 2
13:42:01.049911    calculate scale factors for segment -6
13:42:01.049967    scatter size 256x288x107
13:42:01.057619     apply lower and upper thresholds 0.25 and 2
13:42:01.057716    calculate scale factors for segment +7
13:42:01.057771    scatter size 256x288x89
13:42:01.053455     apply lower and upper thresholds 0.25 and 2
13:42:01.053551    calculate scale factors for segment -7
13:42:01.053606    scatter size 256x288x89
13:42:02.030732     apply lower and upper thresholds 0.25 and 2
13:42:09.061695   scatter fraction at first pass=41.5055%
13:42:10.036434  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_sc_ATX.s
13:42:10.036563   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_sc_ATX.s (matrix 0)
13:42:10.056583   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_sc_ATX.h33 (matrix 0)
13:42:10.056932  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_sc_ATX.s
13:42:10.003239  
13:42:10.003342 gantry model values that may have been used:
13:42:10.003388  model number=328
13:42:10.003435  defaultElements()=256
13:42:10.003493  binSize()=0.121875cm
13:42:10.003539  defaultAngles()=288
13:42:10.003606  planeSep()=0.121875cm
13:42:10.003656  crystalRadius()=23.45cm
13:42:10.003702  sinogramDepthOfInteraction()=0cm
13:42:10.003750  sinogramIntrinsicTilt()=0 degrees
13:42:10.003790  isRingArch()=false
13:42:10.003830  isPETOnlyArch()=true
13:42:10.003874  defPlaneDefSpan3D()=3
13:42:10.003919  defRingDiffMax()=67
13:42:10.003962  bucketsPerRing()=unknown
13:42:10.004007  bucketRings()=1
13:42:10.004052  axialBlocks()=13
13:42:10.004095  transBlocks()=9
13:42:10.004139  axialCrystals()=8
13:42:10.004183  transCrystals()=8
13:42:10.004226  axialBlockGaps()=0
13:42:10.004288  transBlockGaps()=0
13:42:10.004331  directPlanes()=104
13:42:10.004375  defaultLLD()=400 keV
13:42:10.004418  defaultULD()=650 keV
13:42:10.004461  nCrystalLayers()=2
13:42:10.004508   crystalLayerMaterial(0)=LSO
13:42:10.004584   crystalLayerBackgroundErgRatio(0)=14%
13:42:10.004637   crystalLayerFWHMErgRes(0)=17%
13:42:10.004685   crystalLayerDepth(0)=1cm
13:42:10.004731   crystalLayerMaterial(1)=LYSO
13:42:10.004785   crystalLayerBackgroundErgRatio(1)=14%
13:42:10.004836   crystalLayerFWHMErgRes(1)=17%
13:42:10.004894   crystalLayerDepth(1)=1cm
13:42:10.004938  maxScatterZfOV()=40cm
13:42:10.004973  
13:42:10.043542 processing time 00:00:31.1133 (hh:mm:ss)
13:42:10.043655 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:42:10.043709 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:42:10.043751 memory access pattern: 411 entries
13:42:10.043787  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1692860416
13:42:12	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
13:42:12	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_sc_ATX.s
13:42:12	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11.s
13:42:12	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11.ch
13:42:12	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
13:42:12	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.a
13:42:12	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_3D_ATX.i
13:42:12	  Method               : OPO3D
13:42:12	  Positivity constraint in sinogram space
13:42:12	  Max of sensitivity image      : 1.000000e+04
13:42:12	  Threshold for missing data    : 1.000000e-04
13:42:12	  Threshold for image update    : 1.000000e-10
13:42:12	  Maximum of image      	: 10000000000.000000
13:42:12	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:013:42:12	Model 999 
13:42:12	  Triming 3 planes at segment edges 
13:42:12	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
13:42:12	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_ra_smo.s , scan duration 120
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 21 iterations (48 msec)
1	611 msec   
2	3244 msec   
3	3406 msec   
4	3175 msec   
5	593 msec   
Smooth Delays computed in 11729 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4626 msec.
Total time 16355 msec.
13:42:28	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.a: attenuation file size 651460608
13:42:28	expected file size 256x288x2209(2209)
13:42:28	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr11.a: attenuation file type 0
13:42:28	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
13:42:29	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
13:42:29	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_3D_ATX.i reconstruction started
13:42:29	  Prepare components of update equation from input data ...
13:42:34	  Read normalization and normalize delayed
13:42:34	  Apply normalization mask to prompt sinogram
13:42:37	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
13:43:04	  Iteration 1 in 85.670 sec
13:43:28	  Iteration 2 in 85.300 sec
13:43:55	  Iteration 3 in 84.600 sec
13:44:20	  Iteration 4 in 85.510 sec
13:44:46	  Iteration 5 in 85.370 sec
13:45:11	  Iteration 6 in 84.780 sec
13:45:36	  Iteration 7 in 84.370 sec
13:46:02	  Iteration 8 in 85.370 sec
13:46:28	  Iteration 9 in 85.010 sec
13:46:53	  Iteration 10 in 85.960 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_3D_ATX.i' complete
13:46:54	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame11_3D_ATX.i reconstruction done in 281 sec
13:46:55.047174 unknown (0x)    memory: 0 MByte
13:46:55.047276 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:46:55.047344 Revision: 275.1
13:46:55.047400 current date and time (GMT): Sat Dec  4 18:46:55 2010
13:46:55.047455 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:46:55.047532 free memory in memory controller: 9541.25 MByte
13:46:55.047672 memory access pattern found
13:46:55.047725 free memory in memory controller: 9541.25 MByte
13:46:55.062956 calculate acf for 1 matrix
13:46:55.063013  span=9
13:46:55.063058  maximum ring difference=67
13:46:55.063142  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.i
13:46:55.063198   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.i'
13:46:55.063245    matrix number=0
13:46:55.051014    XYSamples=128
13:46:55.051171    DeltaXY=2.4375mm
13:46:55.051216    ZSamples=207
13:46:55.051261    DeltaZ=1.21875mm
13:46:55.051300    corrections applied=
13:46:55.051339    u-map data=yes
13:46:55.051382    bed position=0mm
13:46:55.051427    scan start time=0 sec
13:46:55.051476    scan frame duration=0 sec (0 min)
13:46:55.051524    scan gate duration=0 sec (0 min)
13:46:55.051569    isotope halflife=0 sec
13:46:55.051612    lld=0 KeV
13:46:55.051654    uld=0 KeV
13:46:55.058135  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:46:55.058260  XYSamples=128
13:46:55.058317  DeltaXY=2.4375mm
13:46:55.058360  RhoSamples=256
13:46:55.058403  BinSizeRho=1.21875mm
13:46:55.058445  ThetaSamples=288
13:46:55.058489  plane separation=1.21875mm
13:46:55.058538  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:46:55.058582  subsets=1
13:46:55.058623  axes=1
13:46:55.058674  axis table=207 {207}
13:46:55.058713  algorithm=UW-OSEM
13:46:55.058752  use LUT=no
13:46:55.058937  time of flight bins=1
13:46:55.058984  initialize forward-projector
13:46:55.059028   angles of segment 0
13:46:55.059091    plane 0-206: 0 degrees
13:46:55.059352  start forward projection
13:46:55.019890   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:46:55.020027    project segment 0
13:46:58.057058   finished forward projection of subset 0 in 2.44531 sec
13:46:58.008604   scale 207 planes of sinogram by 0.410256
13:46:58.041042  finished forward projection in 2.58984 sec
13:46:58.041148  convert emission into transmission data
13:46:58.009042  span=9
13:46:58.009194  maximum ring difference=67
13:46:58.009270  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:46:58.009448   replace values below 1 by 1
13:46:58.030436   copy 207 planes of segment 0
13:46:59.026474   create 360 degrees sinogram (512x576x207)
13:46:59.000579   calculate 3d fourier transform of sinogram
13:47:03.050078   calculate 394 planes of axis 1
13:47:03.030412    calculate fourier projection of axis 1
13:47:07.043457    calculate inverse fourier transform of axis 1
13:47:10.030449    split axis 1 into 2 segments
13:47:10.059220    calculate weighting of axis 1
13:47:12.049577   finished with axis 1
13:47:12.049700   calculate 358 planes of axis 2
13:47:12.012533    calculate fourier projection of axis 2
13:47:15.039601    calculate inverse fourier transform of axis 2
13:47:19.065495    split axis 2 into 2 segments
13:47:19.021648    calculate weighting of axis 2
13:47:20.054375   finished with axis 2
13:47:20.054499   calculate 322 planes of axis 3
13:47:20.003361    calculate fourier projection of axis 3
13:47:23.054909    calculate inverse fourier transform of axis 3
13:47:27.007445    split axis 3 into 2 segments
13:47:27.014017    calculate weighting of axis 3
13:47:28.004575   finished with axis 3
13:47:28.004700   calculate 286 planes of axis 4
13:47:29.057231    calculate fourier projection of axis 4
13:47:31.051654    calculate inverse fourier transform of axis 4
13:47:35.000123    split axis 4 into 2 segments
13:47:35.060228    calculate weighting of axis 4
13:47:36.013487   finished with axis 4
13:47:36.013613   calculate 250 planes of axis 5
13:47:37.056282    calculate fourier projection of axis 5
13:47:39.045092    calculate inverse fourier transform of axis 5
13:47:43.057905    split axis 5 into 2 segments
13:47:43.043277    calculate weighting of axis 5
13:47:44.024794   finished with axis 5
13:47:44.024920   calculate 214 planes of axis 6
13:47:44.020761    calculate fourier projection of axis 6
13:47:47.064697    calculate inverse fourier transform of axis 6
13:47:51.047858    split axis 6 into 2 segments
13:47:51.025562    calculate weighting of axis 6
13:47:51.061910   finished with axis 6
13:47:51.062038   calculate 178 planes of axis 7
13:47:52.021919    calculate fourier projection of axis 7
13:47:54.038945    calculate inverse fourier transform of axis 7
13:47:57.023348    split axis 7 into 2 segments
13:47:57.057751    calculate weighting of axis 7
13:47:58.047013   finished with axis 7
13:47:58.033448  axes=8
13:47:58.033569  axis table=2209 {207,394,358,322,286,250,214,178}
13:47:58.033636  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.a
13:47:58.033699   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.a (matrix 0)
13:47:59.027598   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.h33 (matrix 0)
13:47:59.007212  
13:47:59.007342 gantry model values that may have been used:
13:47:59.007388  model number=328
13:47:59.007435  defaultElements()=256
13:47:59.007495  binSize()=0.121875cm
13:47:59.007540  defaultAngles()=288
13:47:59.007585  planeSep()=0.121875cm
13:47:59.007633  crystalRadius()=23.45cm
13:47:59.007679  sinogramDepthOfInteraction()=0cm
13:47:59.007727  sinogramIntrinsicTilt()=0 degrees
13:47:59.007767  isRingArch()=false
13:47:59.007806  isPETOnlyArch()=true
13:47:59.007850  defPlaneDefSpan3D()=3
13:47:59.007894  defRingDiffMax()=67
13:47:59.007937  bucketsPerRing()=unknown
13:47:59.007982  bucketRings()=1
13:47:59.008026  axialBlocks()=13
13:47:59.008080  transBlocks()=9
13:47:59.008124  axialCrystals()=8
13:47:59.008168  transCrystals()=8
13:47:59.008212  axialBlockGaps()=0
13:47:59.008256  transBlockGaps()=0
13:47:59.008299  directPlanes()=104
13:47:59.008343  defaultLLD()=400 keV
13:47:59.008387  defaultULD()=650 keV
13:47:59.008431  nCrystalLayers()=2
13:47:59.008478   crystalLayerMaterial(0)=LSO
13:47:59.008550   crystalLayerBackgroundErgRatio(0)=12%
13:47:59.008602   crystalLayerFWHMErgRes(0)=17%
13:47:59.008651   crystalLayerDepth(0)=1cm
13:47:59.008698   crystalLayerMaterial(1)=LYSO
13:47:59.008767   crystalLayerBackgroundErgRatio(1)=12%
13:47:59.008819   crystalLayerFWHMErgRes(1)=17%
13:47:59.008867   crystalLayerDepth(1)=1cm
13:47:59.008914  maxScatterZfOV()=40cm
13:47:59.008954  
13:47:59.009013 processing time 00:01:03.76562 (hh:mm:ss)
13:47:59.009085 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:47:59.009143 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:47:59.009204 memory access pattern: 36 entries
13:47:59.009240  
13:48:00.018566 unknown (0x)    memory: 0 MByte
13:48:00.018673 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:48:00.018728 Revision: 275.1
13:48:00.018787 current date and time (GMT): Sat Dec  4 18:48:00 2010
13:48:00.018863 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
13:48:00.018953 free memory in memory controller: 9541.25 MByte
13:48:00.019116 memory access pattern found
13:48:00.019173 free memory in memory controller: 9541.25 MByte
13:48:00.019242 Default crystalLayerBackgroundErgRatio: 12,12
13:48:00.019306 Specified crystalLayerBackgroundErgRatio: 14,14
13:48:00.048406 calculate sinogram for 1 matrix
13:48:00.048511  loading the 3d emission scan (matrix 0)
13:48:00.048566   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12.tr.s'
13:48:00.048615    matrix number=0
13:48:02.037435    RhoSamples=256
13:48:02.042080    BinSizeRho=1.21875mm
13:48:02.042146    ThetaSamples=288
13:48:02.042194    mash factor=0
13:48:02.042244    plane separation=1.21875mm
13:48:02.042292    axes=8
13:48:02.042359    axis table=2209 {207,394,358,322,286,250,214,178}
13:48:02.042407    span=9
13:48:02.042455    maximum ring difference=67
13:48:02.042503    intrinsic tilt=0 degrees
13:48:02.042552    bed position=0mm
13:48:02.042601    scan start time=0 sec
13:48:02.042655    scan frame duration=0 sec (0 min)
13:48:02.042709    scan gate duration=0 sec (0 min)
13:48:02.042759    isotope halflife=0 sec
13:48:02.042806    lld=400 KeV
13:48:02.042853    uld=650 KeV
13:48:02.042896    corrections applied=
13:48:02.042964  calculating the 3d normalisation scan (matrix 0)
13:48:02.043034   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
13:48:03.052430    matrix number=0
13:48:03.052543    RhoSamples=256
13:48:03.052608    BinSizeRho=1.21875mm
13:48:03.052652    ThetaSamples=288
13:48:03.052693    mash factor=0
13:48:03.052734    plane separation=1.21875mm
13:48:03.052775    axes=8
13:48:03.052832    axis table=2209 {207,394,358,322,286,250,214,178}
13:48:03.052873    span=9
13:48:03.052913    maximum ring difference=67
13:48:03.052955    intrinsic tilt=0 degrees
13:48:03.052997    bed position=0mm
13:48:03.053038    scan start time=0 sec
13:48:03.053084    scan frame duration=0 sec (0 min)
13:48:03.053130    scan gate duration=0 sec (0 min)
13:48:03.053173    isotope halflife=0 sec
13:48:03.053213    lld=400 KeV
13:48:03.053252    uld=650 KeV
13:48:03.053289    corrections applied=
13:48:03.053334  normalize 3d emission
13:48:03.053373   multiply sinograms
13:48:04.030425  normalization based gap filling
13:48:04.031235    fill 207 planes 8 threads
13:48:05.002834    fill 394 planes 8 threads
13:48:05.043163    fill 358 planes 8 threads
13:48:05.010984    fill 322 planes 8 threads
13:48:05.026541    fill 286 planes 8 threads
13:48:06.062369    fill 250 planes 8 threads
13:48:06.042194    fill 214 planes 8 threads
13:48:06.019667    fill 178 planes 8 threads
13:48:06.009389   bed position in emission=0mm
13:48:06.009562   bed position in u-map=0mm
13:48:06.009657   bed position in acf=0mm
13:48:06.009720  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.i
13:48:06.009774   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.i'
13:48:06.009821    matrix number=0
13:48:06.027926    XYSamples=128
13:48:06.028052    DeltaXY=2.4375mm
13:48:06.028109    ZSamples=207
13:48:06.028154    DeltaZ=1.21875mm
13:48:06.028194    corrections applied=
13:48:06.028233    u-map data=yes
13:48:06.028276    bed position=0mm
13:48:06.028343    scan start time=0 sec
13:48:06.028390    scan frame duration=0 sec (0 min)
13:48:06.028435    scan gate duration=0 sec (0 min)
13:48:06.028476    isotope halflife=0 sec
13:48:06.028516    lld=0 KeV
13:48:06.028555    uld=0 KeV
13:48:06.028595  loading the acf (matrix 0)
13:48:06.028644   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.a'
13:48:06.028688    matrix number=0
13:48:07.025217    RhoSamples=256
13:48:07.025338    BinSizeRho=1.21875mm
13:48:07.025380    ThetaSamples=288
13:48:07.025420    mash factor=0
13:48:07.025461    plane separation=1.21875mm
13:48:07.025501    axes=8
13:48:07.025560    axis table=2209 {207,394,358,322,286,250,214,178}
13:48:07.025604    span=9
13:48:07.025644    maximum ring difference=67
13:48:07.025685    intrinsic tilt=0 degrees
13:48:07.025739    bed position=0mm
13:48:07.025781    scan start time=0 sec
13:48:07.025827    scan frame duration=0 sec (0 min)
13:48:07.025872    scan gate duration=0 sec (0 min)
13:48:07.025914    isotope halflife=0 sec
13:48:07.025954    lld=400 KeV
13:48:07.025993    uld=650 KeV
13:48:07.026029    corrections applied=
13:48:07.026088  replace values below 1 by 1
13:48:07.046757  estimate scatter sinogram
13:48:07.060547   counts in image: min=0  max=0.155432  total=53499.9
13:48:07.004615   start single-slice rebinning from 256x288x2209 to 256x288x207
13:48:07.004665   initialize SSR
13:48:07.004714    RhoSamples=256
13:48:07.004763    ThetaSamples=288
13:48:07.004810    axes=8
13:48:07.004880    axis table=2209 {207,394,358,322,286,250,214,178}
13:48:07.009797    skip 2 planes at each side of a segment
13:48:07.009920    calculate e*n*a of axis 0 (skip 2 border planes)
13:48:07.009968     calculate axis 0 of corrected sinogram
13:48:08.058795    calculate single-slice rebinning of axis 0
13:48:08.058918    ssr 203 planes
13:48:08.049851    calculate e*n*a of axis 1 (skip 2 border planes)
13:48:08.049956     calculate axis 1 of corrected sinogram
13:48:08.028676    calculate single-slice rebinning of axis 1
13:48:08.028801    ssr 193 planes
13:48:08.046692    calculate e*n*a of axis 2 (skip 2 border planes)
13:48:08.046799     calculate axis 2 of corrected sinogram
13:48:08.061960    calculate single-slice rebinning of axis 2
13:48:08.062079    ssr 175 planes
13:48:08.007009    calculate e*n*a of axis 3 (skip 2 border planes)
13:48:08.007117     calculate axis 3 of corrected sinogram
13:48:08.001258    calculate single-slice rebinning of axis 3
13:48:08.001380    ssr 157 planes
13:48:08.004353    calculate e*n*a of axis 4 (skip 2 border planes)
13:48:08.004460     calculate axis 4 of corrected sinogram
13:48:09.026302    calculate single-slice rebinning of axis 4
13:48:09.026424    ssr 139 planes
13:48:09.022994    calculate e*n*a of axis 5 (skip 2 border planes)
13:48:09.023105     calculate axis 5 of corrected sinogram
13:48:09.040553    calculate single-slice rebinning of axis 5
13:48:09.040676    ssr 121 planes
13:48:09.029052    calculate e*n*a of axis 6 (skip 2 border planes)
13:48:09.029158     calculate axis 6 of corrected sinogram
13:48:09.025100    calculate single-slice rebinning of axis 6
13:48:09.025221    ssr 103 planes
13:48:09.005728    calculate e*n*a of axis 7 (skip 2 border planes)
13:48:09.005842     calculate axis 7 of corrected sinogram
13:48:09.046252    calculate single-slice rebinning of axis 7
13:48:09.046396    ssr 85 planes
13:48:09.018996    normalize sinogram
13:48:09.004275   finished single-slice rebinning in 2 sec
13:48:09.004397   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
13:48:09.004461    XYSamples=128
13:48:09.004505    DeltaXY=2.4375mm
13:48:09.004547    RhoSamples=256
13:48:09.004603    BinSizeRho=1.21875mm
13:48:09.004644    ThetaSamples=288
13:48:09.004686    plane separation=1.21875mm
13:48:09.004733    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:48:09.004777    subsets=8
13:48:09.004817    axes=1
13:48:09.004862    axis table=207 {207}
13:48:09.004902    algorithm=AW-OSEM
13:48:09.004941    use LUT=small
13:48:09.005127    initialize backprojector
13:48:09.005201     angle of segment 0: 0 degrees
13:48:09.005433     create mode 1 lookup-table for backprojector: 63 MByte
13:48:09.062697     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
13:48:09.046079     start calculation of normalization factors for AW-OSEM
13:48:09.046272      allocate 103.5 MByte for normalization factors
13:48:09.046325      start calculation of normalization factors for subset 0
13:48:09.060830       calculate segment 0, subset 0 of 1/a sinogram
13:48:10.002055       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
13:48:10.052171      finished calculation of normalization factors for subset 0 in 0.152344 sec
13:48:10.052275      start calculation of normalization factors for subset 1
13:48:10.001727       calculate segment 0, subset 1 of 1/a sinogram
13:48:10.019602       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
13:48:10.012615      finished calculation of normalization factors for subset 1 in 0.15625 sec
13:48:10.012711      start calculation of normalization factors for subset 2
13:48:10.027715       calculate segment 0, subset 2 of 1/a sinogram
13:48:10.045598       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
13:48:10.015844      finished calculation of normalization factors for subset 2 in 0.136719 sec
13:48:10.015945      start calculation of normalization factors for subset 3
13:48:10.033292       calculate segment 0, subset 3 of 1/a sinogram
13:48:10.051287       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
13:48:10.025238      finished calculation of normalization factors for subset 3 in 0.140625 sec
13:48:10.025362      start calculation of normalization factors for subset 4
13:48:10.041482       calculate segment 0, subset 4 of 1/a sinogram
13:48:10.059725       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
13:48:10.047543      finished calculation of normalization factors for subset 4 in 0.152344 sec
13:48:10.047647      start calculation of normalization factors for subset 5
13:48:10.064147       calculate segment 0, subset 5 of 1/a sinogram
13:48:10.017246       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
13:48:10.000621      finished calculation of normalization factors for subset 5 in 0.148438 sec
13:48:10.000733      start calculation of normalization factors for subset 6
13:48:10.015750       calculate segment 0, subset 6 of 1/a sinogram
13:48:10.033333       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
13:48:11.003080      finished calculation of normalization factors for subset 6 in 0.152344 sec
13:48:11.003180      start calculation of normalization factors for subset 7
13:48:11.020926       calculate segment 0, subset 7 of 1/a sinogram
13:48:11.039580       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
13:48:11.063175      finished calculation of normalization factors for subset 7 in 0.125 sec
13:48:11.063300     finished calculation of normalization factors in 1.16406 sec
13:48:11.063347    divide sinograms
13:48:11.041759    initialize forward-projector
13:48:11.041883     angles of segment 0
13:48:11.041927      plane 0-206: 0 degrees
13:48:11.042191     create mode 1 lookup-table for forward-projector: 126 MByte
13:48:11.063612     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
13:48:11.060942     start reconstruction from 256x288x207 to 128x128x207
13:48:11.061067      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
13:48:11.006668      start iteration 1, subset 0
13:48:12.043640      finished iteration 1, subset 0 in 0.316406 sec
13:48:12.043744      start iteration 1, subset 4
13:48:12.028287      finished iteration 1, subset 4 in 0.3125 sec
13:48:12.028392      start iteration 1, subset 2
13:48:12.046812      finished iteration 1, subset 2 in 0.28125 sec
13:48:12.046917      start iteration 1, subset 6
13:48:12.033206      finished iteration 1, subset 6 in 0.25 sec
13:48:12.040355      start iteration 1, subset 1
13:48:13.039708      finished iteration 1, subset 1 in 0.28125 sec
13:48:13.039814      start iteration 1, subset 5
13:48:13.037372      finished iteration 1, subset 5 in 0.257812 sec
13:48:13.037474      start iteration 1, subset 3
13:48:13.051295      finished iteration 1, subset 3 in 0.210938 sec
13:48:13.051405      start iteration 1, subset 7
13:48:13.035575      finished iteration 1, subset 7 in 0.3125 sec
13:48:13.035698      start iteration 2, subset 0
13:48:14.034814      finished iteration 2, subset 0 in 0.277344 sec
13:48:14.034941      start iteration 2, subset 4
13:48:14.056156      finished iteration 2, subset 4 in 0.21875 sec
13:48:14.056271      start iteration 2, subset 2
13:48:14.049251      finished iteration 2, subset 2 in 0.320312 sec
13:48:14.049354      start iteration 2, subset 6
13:48:15.063966      finished iteration 2, subset 6 in 0.425781 sec
13:48:15.064082      start iteration 2, subset 1
13:48:15.061696      finished iteration 2, subset 1 in 0.324219 sec
13:48:15.061829      start iteration 2, subset 5
13:48:15.008686      finished iteration 2, subset 5 in 0.339844 sec
13:48:15.008793      start iteration 2, subset 3
13:48:16.052608      finished iteration 2, subset 3 in 0.324219 sec
13:48:16.052712      start iteration 2, subset 7
13:48:16.022262      finished iteration 2, subset 7 in 0.296875 sec
13:48:16.022369      start iteration 3, subset 0
13:48:16.026889      finished iteration 3, subset 0 in 0.265625 sec
13:48:16.026993      start iteration 3, subset 4
13:48:16.047888      finished iteration 3, subset 4 in 0.21875 sec
13:48:16.047991      start iteration 3, subset 2
13:48:17.010310      finished iteration 3, subset 2 in 0.242188 sec
13:48:17.010413      start iteration 3, subset 6
13:48:17.063696      finished iteration 3, subset 6 in 0.25 sec
13:48:17.063798      start iteration 3, subset 1
13:48:17.039624      finished iteration 3, subset 1 in 0.238281 sec
13:48:17.039730      start iteration 3, subset 5
13:48:18.047834      finished iteration 3, subset 5 in 0.351562 sec
13:48:18.047981      start iteration 3, subset 3
13:48:18.000579      finished iteration 3, subset 3 in 0.207031 sec
13:48:18.000683      start iteration 3, subset 7
13:48:18.015577      finished iteration 3, subset 7 in 0.277344 sec
13:48:18.015712      mask 207 planes of image
13:48:18.029637      scale image with 1.21875
13:48:18.036000      scale image with 4
13:48:18.042596     finished reconstruction in 6.85156 sec
13:48:18.042688     forward projector: 3.45703 sec
13:48:18.042731     backprojector: 2.36719 sec
13:48:18.052433   finished reconstruction of emission in 8.72266 sec
13:48:18.052520   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
13:48:18.006083   scale image by 4.10256
13:48:18.024891   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:48:18.025011   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:48:18.025080   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:48:18.025141   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:48:18.025178   start scatter estimation
13:48:18.025231    calculate matrix for beta-spline interpolation
13:48:18.035148    start scatter simulation
13:48:18.035247     effective detector ring radius=234.5mm (234.5mm+0mm)
13:48:18.035291     DeltaXY=2.4375mm
13:48:18.035333     DeltaZ=1.21875mm
13:48:18.035391     LLD=400 keV
13:48:18.035436     ULD=650 keV
13:48:18.044934     search bounds of object in u-map
13:48:18.013342     x bounds (-x,+x)=-93.8413mm,84.0913mm
13:48:18.013462     y bounds (-y,+y)=-103.591mm,135.279mm
13:48:18.013512     z bounds (-z,+z)=-56.6707mm,126.139mm
13:48:18.013562     length of axial scatter fov=365.615mm (max. 365.615mm)
13:48:18.013610     scatter samples (x,y,z)=8,11,16
13:48:18.013664     image size (x,y,z)=177.933mm,238.87mm,365.615mm
13:48:18.013717     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.851mm
13:48:18.060059     start simulation of scatter sinogram (19x34x10)
13:48:18.060341      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
13:48:18.060417      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
13:48:18.060572      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
13:48:18.060833      thread 3: 498 samples in plane 2 inside of object (plane 50 of full sinogram)
13:48:18.060921      thread 2: 404 samples in plane 1 inside of object (plane 29 of full sinogram)
13:48:18.061010      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
13:48:18.061090      thread 1: 327 samples in plane 0 inside of object (plane 8 of full sinogram)
13:48:18.063031      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
13:48:18.063183      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
13:48:18.063412      thread 7: 507 samples in plane 6 inside of object (plane 134 of full sinogram)
13:48:18.063529      thread 5: 513 samples in plane 4 inside of object (plane 92 of full sinogram)
13:48:18.063964      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
13:48:18.064223      thread 4: 504 samples in plane 3 inside of object (plane 71 of full sinogram)
13:48:18.031794      thread 6: 508 samples in plane 5 inside of object (plane 113 of full sinogram)
13:48:18.008953      thread 7: 515 samples in plane 7 inside of object (plane 155 of full sinogram)
13:48:18.011152      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
13:48:18.011375      thread 8: 508 samples in plane 8 inside of object (plane 176 of full sinogram)
13:48:19.008039      thread 8: 505 samples in plane 9 inside of object (plane 197 of full sinogram)
13:48:19.000380     finished simulation of scatter sinogram
13:48:19.012665    finished scatter simulation in 0.320312 sec
13:48:19.012781    calculate beta-spline interpolation from 17x34x10 to 256x288x207
13:48:20.043184   finished scatter estimation in 1.55859 sec
13:48:20.043272   convert 2d scatter sinogram into 3d sinogram
13:48:20.043331   calculate axial scatter scale factors (smoothed with boxcar 17)
13:48:20.043402    acf threshold=1.03
13:48:20.013045    calculate scale factors for segment 0
13:48:20.013155    scatter size 256x288x207
13:48:20.047385     apply lower and upper thresholds 0.25 and 2
13:48:20.047497    calculate scale factors for segment +1
13:48:20.047554    scatter size 256x288x197
13:48:20.004054     apply lower and upper thresholds 0.25 and 2
13:48:20.004159    calculate scale factors for segment -1
13:48:20.004215    scatter size 256x288x197
13:48:21.006129     apply lower and upper thresholds 0.25 and 2
13:48:21.006231    calculate scale factors for segment +2
13:48:21.006286    scatter size 256x288x179
13:48:21.013646     apply lower and upper thresholds 0.25 and 2
13:48:21.013752    calculate scale factors for segment -2
13:48:21.013807    scatter size 256x288x179
13:48:21.016974     apply lower and upper thresholds 0.25 and 2
13:48:21.017078    calculate scale factors for segment +3
13:48:21.017134    scatter size 256x288x161
13:48:21.007279     apply lower and upper thresholds 0.25 and 2
13:48:21.007381    calculate scale factors for segment -3
13:48:21.007437    scatter size 256x288x161
13:48:21.061120     apply lower and upper thresholds 0.25 and 2
13:48:21.061225    calculate scale factors for segment +4
13:48:21.061282    scatter size 256x288x143
13:48:21.036385     apply lower and upper thresholds 0.25 and 2
13:48:21.036490    calculate scale factors for segment -4
13:48:21.036546    scatter size 256x288x143
13:48:21.008535     apply lower and upper thresholds 0.25 and 2
13:48:21.008643    calculate scale factors for segment +5
13:48:21.008698    scatter size 256x288x125
13:48:21.034541     apply lower and upper thresholds 0.25 and 2
13:48:21.034642    calculate scale factors for segment -5
13:48:21.034698    scatter size 256x288x125
13:48:21.057203     apply lower and upper thresholds 0.25 and 2
13:48:21.057302    calculate scale factors for segment +6
13:48:21.057371    scatter size 256x288x107
13:48:21.001836     apply lower and upper thresholds 0.25 and 2
13:48:21.001943    calculate scale factors for segment -6
13:48:21.001999    scatter size 256x288x107
13:48:22.058095     apply lower and upper thresholds 0.25 and 2
13:48:22.058193    calculate scale factors for segment +7
13:48:22.058248    scatter size 256x288x89
13:48:22.054009     apply lower and upper thresholds 0.25 and 2
13:48:22.054111    calculate scale factors for segment -7
13:48:22.054166    scatter size 256x288x89
13:48:22.047820     apply lower and upper thresholds 0.25 and 2
13:48:29.040121   scatter fraction at first pass=42.0195%
13:48:29.026021  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_sc_ATX.s
13:48:29.026151   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_sc_ATX.s (matrix 0)
13:48:29.046699   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_sc_ATX.h33 (matrix 0)
13:48:29.047051  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_sc_ATX.s
13:48:29.060035  
13:48:29.060140 gantry model values that may have been used:
13:48:29.060186  model number=328
13:48:29.060232  defaultElements()=256
13:48:29.060288  binSize()=0.121875cm
13:48:29.060333  defaultAngles()=288
13:48:29.060385  planeSep()=0.121875cm
13:48:29.060432  crystalRadius()=23.45cm
13:48:29.060478  sinogramDepthOfInteraction()=0cm
13:48:29.060526  sinogramIntrinsicTilt()=0 degrees
13:48:29.060565  isRingArch()=false
13:48:29.060604  isPETOnlyArch()=true
13:48:29.060648  defPlaneDefSpan3D()=3
13:48:29.060692  defRingDiffMax()=67
13:48:29.060736  bucketsPerRing()=unknown
13:48:29.060796  bucketRings()=1
13:48:29.060839  axialBlocks()=13
13:48:29.060883  transBlocks()=9
13:48:29.060927  axialCrystals()=8
13:48:29.060970  transCrystals()=8
13:48:29.061013  axialBlockGaps()=0
13:48:29.061057  transBlockGaps()=0
13:48:29.061100  directPlanes()=104
13:48:29.061144  defaultLLD()=400 keV
13:48:29.061187  defaultULD()=650 keV
13:48:29.061231  nCrystalLayers()=2
13:48:29.061279   crystalLayerMaterial(0)=LSO
13:48:29.061350   crystalLayerBackgroundErgRatio(0)=14%
13:48:29.061402   crystalLayerFWHMErgRes(0)=17%
13:48:29.061452   crystalLayerDepth(0)=1cm
13:48:29.061499   crystalLayerMaterial(1)=LYSO
13:48:29.061553   crystalLayerBackgroundErgRatio(1)=14%
13:48:29.061605   crystalLayerFWHMErgRes(1)=17%
13:48:29.061653   crystalLayerDepth(1)=1cm
13:48:29.061700  maxScatterZfOV()=40cm
13:48:29.061739  
13:48:29.032470 processing time 00:00:29.668 (hh:mm:ss)
13:48:29.032589 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:48:29.032647 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:48:29.032706 memory access pattern: 411 entries
13:48:29.032748  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1689673728
13:48:31	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
13:48:31	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_sc_ATX.s
13:48:31	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12.s
13:48:31	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12.ch
13:48:31	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
13:48:31	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.a
13:48:31	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_3D_ATX.i
13:48:31	  Method               : OPO3D
13:48:31	  Positivity constraint in sinogram space
13:48:31	  Max of sensitivity image      : 1.000000e+04
13:48:31	  Threshold for missing data    : 1.000000e-04
13:48:31	  Threshold for image update    : 1.000000e-10
13:48:31	  Maximum of image      	: 10000000000.000000
13:48:31	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:013:48:31	Model 999 
13:48:31	  Triming 3 planes at segment edges 
13:48:31	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
13:48:31	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_ra_smo.s , scan duration 120
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 20 iterations (46 msec)
1	593 msec   
2	3169 msec   
3	3539 msec   
4	3191 msec   
5	562 msec   
Smooth Delays computed in 11754 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4612 msec.
Total time 16366 msec.
13:48:48	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.a: attenuation file size 651460608
13:48:48	expected file size 256x288x2209(2209)
13:48:48	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr12.a: attenuation file type 0
13:48:48	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
13:48:48	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
13:48:48	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_3D_ATX.i reconstruction started
13:48:48	  Prepare components of update equation from input data ...
13:48:53	  Read normalization and normalize delayed
13:48:53	  Apply normalization mask to prompt sinogram
13:48:56	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
13:49:22	  Iteration 1 in 85.430 sec
13:49:48	  Iteration 2 in 84.600 sec
13:50:14	  Iteration 3 in 85.550 sec
13:50:39	  Iteration 4 in 85.200 sec
13:51:05	  Iteration 5 in 85.200 sec
13:51:30	  Iteration 6 in 84.480 sec
13:51:55	  Iteration 7 in 85.380 sec
13:52:21	  Iteration 8 in 84.110 sec
13:52:46	  Iteration 9 in 84.840 sec
13:53:11	  Iteration 10 in 84.670 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_3D_ATX.i' complete
13:53:12	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame12_3D_ATX.i reconstruction done in 280 sec
13:53:13.017534 unknown (0x)    memory: 0 MByte
13:53:13.017644 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:53:13.017699 Revision: 275.1
13:53:13.017788 current date and time (GMT): Sat Dec  4 18:53:13 2010
13:53:13.017848 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:53:13.017949 free memory in memory controller: 9541.25 MByte
13:53:13.018090 memory access pattern found
13:53:13.018143 free memory in memory controller: 9541.25 MByte
13:53:13.025403 calculate acf for 1 matrix
13:53:13.025487  span=9
13:53:13.025533  maximum ring difference=67
13:53:13.025605  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.i
13:53:13.025663   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.i'
13:53:13.025712    matrix number=0
13:53:13.026985    XYSamples=128
13:53:13.027114    DeltaXY=2.4375mm
13:53:13.027160    ZSamples=207
13:53:13.027206    DeltaZ=1.21875mm
13:53:13.027247    corrections applied=
13:53:13.027305    u-map data=yes
13:53:13.027350    bed position=0mm
13:53:13.027395    scan start time=0 sec
13:53:13.027443    scan frame duration=0 sec (0 min)
13:53:13.027491    scan gate duration=0 sec (0 min)
13:53:13.027536    isotope halflife=0 sec
13:53:13.027586    lld=0 KeV
13:53:13.027631    uld=0 KeV
13:53:13.034061  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:53:13.034186  XYSamples=128
13:53:13.034244  DeltaXY=2.4375mm
13:53:13.034287  RhoSamples=256
13:53:13.034331  BinSizeRho=1.21875mm
13:53:13.034373  ThetaSamples=288
13:53:13.034417  plane separation=1.21875mm
13:53:13.034466  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:53:13.034510  subsets=1
13:53:13.034551  axes=1
13:53:13.034622  axis table=207 {207}
13:53:13.034662  algorithm=UW-OSEM
13:53:13.034702  use LUT=no
13:53:13.034888  time of flight bins=1
13:53:13.034935  initialize forward-projector
13:53:13.034979   angles of segment 0
13:53:13.035022    plane 0-206: 0 degrees
13:53:13.035283  start forward projection
13:53:13.062582   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:53:13.062700    project segment 0
13:53:15.061208   finished forward projection of subset 0 in 2.32812 sec
13:53:15.013546   scale 207 planes of sinogram by 0.410256
13:53:15.046066  finished forward projection in 2.47266 sec
13:53:15.046180  convert emission into transmission data
13:53:16.063463  span=9
13:53:16.063584  maximum ring difference=67
13:53:16.063650  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:53:16.063826   replace values below 1 by 1
13:53:16.019375   copy 207 planes of segment 0
13:53:17.019130   create 360 degrees sinogram (512x576x207)
13:53:17.002504   calculate 3d fourier transform of sinogram
13:53:21.031138   calculate 394 planes of axis 1
13:53:21.030298    calculate fourier projection of axis 1
13:53:25.042772    calculate inverse fourier transform of axis 1
13:53:28.049070    split axis 1 into 2 segments
13:53:28.021154    calculate weighting of axis 1
13:53:29.034395   finished with axis 1
13:53:29.034532   calculate 358 planes of axis 2
13:53:29.057993    calculate fourier projection of axis 2
13:53:33.019277    calculate inverse fourier transform of axis 2
13:53:36.058374    split axis 2 into 2 segments
13:53:36.035104    calculate weighting of axis 2
13:53:37.042143   finished with axis 2
13:53:37.042269   calculate 322 planes of axis 3
13:53:37.056212    calculate fourier projection of axis 3
13:53:40.009740    calculate inverse fourier transform of axis 3
13:53:43.033735    split axis 3 into 2 segments
13:53:44.024501    calculate weighting of axis 3
13:53:44.037409   finished with axis 3
13:53:44.037541   calculate 286 planes of axis 4
13:53:45.025433    calculate fourier projection of axis 4
13:53:48.021784    calculate inverse fourier transform of axis 4
13:53:51.058333    split axis 4 into 2 segments
13:53:51.055463    calculate weighting of axis 4
13:53:52.013193   finished with axis 4
13:53:52.013322   calculate 250 planes of axis 5
13:53:53.055137    calculate fourier projection of axis 5
13:53:55.040929    calculate inverse fourier transform of axis 5
13:53:59.014120    split axis 5 into 2 segments
13:53:59.000915    calculate weighting of axis 5
13:53:59.001139   finished with axis 5
13:53:59.001277   calculate 214 planes of axis 6
13:54:00.039482    calculate fourier projection of axis 6
13:54:02.001736    calculate inverse fourier transform of axis 6
13:54:05.006048    split axis 6 into 2 segments
13:54:05.049451    calculate weighting of axis 6
13:54:06.010057   finished with axis 6
13:54:06.010176   calculate 178 planes of axis 7
13:54:06.050722    calculate fourier projection of axis 7
13:54:08.002303    calculate inverse fourier transform of axis 7
13:54:11.008174    split axis 7 into 2 segments
13:54:11.043127    calculate weighting of axis 7
13:54:11.051967   finished with axis 7
13:54:11.044114  axes=8
13:54:11.044234  axis table=2209 {207,394,358,322,286,250,214,178}
13:54:11.044298  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.a
13:54:11.044383   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.a (matrix 0)
13:54:12.053060   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.h33 (matrix 0)
13:54:12.036756  
13:54:12.036884 gantry model values that may have been used:
13:54:12.036931  model number=328
13:54:12.036978  defaultElements()=256
13:54:12.037038  binSize()=0.121875cm
13:54:12.037083  defaultAngles()=288
13:54:12.037138  planeSep()=0.121875cm
13:54:12.037184  crystalRadius()=23.45cm
13:54:12.037230  sinogramDepthOfInteraction()=0cm
13:54:12.037278  sinogramIntrinsicTilt()=0 degrees
13:54:12.037318  isRingArch()=false
13:54:12.037357  isPETOnlyArch()=true
13:54:12.037401  defPlaneDefSpan3D()=3
13:54:12.037445  defRingDiffMax()=67
13:54:12.037488  bucketsPerRing()=unknown
13:54:12.037533  bucketRings()=1
13:54:12.037576  axialBlocks()=13
13:54:12.037621  transBlocks()=9
13:54:12.037664  axialCrystals()=8
13:54:12.037708  transCrystals()=8
13:54:12.037752  axialBlockGaps()=0
13:54:12.037796  transBlockGaps()=0
13:54:12.037839  directPlanes()=104
13:54:12.037884  defaultLLD()=400 keV
13:54:12.037928  defaultULD()=650 keV
13:54:12.037972  nCrystalLayers()=2
13:54:12.038019   crystalLayerMaterial(0)=LSO
13:54:12.038099   crystalLayerBackgroundErgRatio(0)=12%
13:54:12.038150   crystalLayerFWHMErgRes(0)=17%
13:54:12.038199   crystalLayerDepth(0)=1cm
13:54:12.038247   crystalLayerMaterial(1)=LYSO
13:54:12.038302   crystalLayerBackgroundErgRatio(1)=12%
13:54:12.038352   crystalLayerFWHMErgRes(1)=17%
13:54:12.038401   crystalLayerDepth(1)=1cm
13:54:12.038448  maxScatterZfOV()=40cm
13:54:12.038487  
13:54:12.038546 processing time 00:00:59.4766 (hh:mm:ss)
13:54:12.038612 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:54:12.038669 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:54:12.038714 memory access pattern: 36 entries
13:54:12.038753  
13:54:13.047956 unknown (0x)    memory: 0 MByte
13:54:13.048059 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:54:13.048113 Revision: 275.1
13:54:13.048186 current date and time (GMT): Sat Dec  4 18:54:13 2010
13:54:13.048253 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
13:54:13.048354 free memory in memory controller: 9541.25 MByte
13:54:13.048514 memory access pattern found
13:54:13.048569 free memory in memory controller: 9541.25 MByte
13:54:13.048637 Default crystalLayerBackgroundErgRatio: 12,12
13:54:13.048701 Specified crystalLayerBackgroundErgRatio: 14,14
13:54:14.047952 calculate sinogram for 1 matrix
13:54:14.047197  loading the 3d emission scan (matrix 0)
13:54:14.047285   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13.tr.s'
13:54:14.047337    matrix number=0
13:54:17.046466    RhoSamples=256
13:54:17.046601    BinSizeRho=1.21875mm
13:54:17.046651    ThetaSamples=288
13:54:17.046698    mash factor=0
13:54:17.046746    plane separation=1.21875mm
13:54:17.046794    axes=8
13:54:17.046861    axis table=2209 {207,394,358,322,286,250,214,178}
13:54:17.046924    span=9
13:54:17.046968    maximum ring difference=67
13:54:17.047014    intrinsic tilt=0 degrees
13:54:17.047060    bed position=0mm
13:54:17.047106    scan start time=0 sec
13:54:17.047157    scan frame duration=0 sec (0 min)
13:54:17.047208    scan gate duration=0 sec (0 min)
13:54:17.047254    isotope halflife=0 sec
13:54:17.047297    lld=400 KeV
13:54:17.047340    uld=650 KeV
13:54:17.047380    corrections applied=
13:54:17.047441  calculating the 3d normalisation scan (matrix 0)
13:54:17.047505   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
13:54:18.042079    matrix number=0
13:54:18.042185    RhoSamples=256
13:54:18.042238    BinSizeRho=1.21875mm
13:54:18.042276    ThetaSamples=288
13:54:18.042314    mash factor=0
13:54:18.042353    plane separation=1.21875mm
13:54:18.042391    axes=8
13:54:18.042446    axis table=2209 {207,394,358,322,286,250,214,178}
13:54:18.042485    span=9
13:54:18.042522    maximum ring difference=67
13:54:18.042561    intrinsic tilt=0 degrees
13:54:18.042600    bed position=0mm
13:54:18.042639    scan start time=0 sec
13:54:18.042683    scan frame duration=0 sec (0 min)
13:54:18.042726    scan gate duration=0 sec (0 min)
13:54:18.042766    isotope halflife=0 sec
13:54:18.042804    lld=400 KeV
13:54:18.042841    uld=650 KeV
13:54:18.042876    corrections applied=
13:54:18.042919  normalize 3d emission
13:54:18.042954   multiply sinograms
13:54:19.043722  normalization based gap filling
13:54:19.044535    fill 207 planes 8 threads
13:54:19.002234    fill 394 planes 8 threads
13:54:20.034760    fill 358 planes 8 threads
13:54:20.024088    fill 322 planes 8 threads
13:54:20.006059    fill 286 planes 8 threads
13:54:20.016706    fill 250 planes 8 threads
13:54:21.013575    fill 214 planes 8 threads
13:54:21.005480    fill 178 planes 8 threads
13:54:21.044014   bed position in emission=0mm
13:54:21.044227   bed position in u-map=0mm
13:54:21.044333   bed position in acf=0mm
13:54:21.044402  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.i
13:54:21.044460   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.i'
13:54:21.044514    matrix number=0
13:54:21.063834    XYSamples=128
13:54:21.063965    DeltaXY=2.4375mm
13:54:21.064014    ZSamples=207
13:54:21.064067    DeltaZ=1.21875mm
13:54:21.064111    corrections applied=
13:54:21.064154    u-map data=yes
13:54:21.064202    bed position=0mm
13:54:21.064252    scan start time=0 sec
13:54:21.064307    scan frame duration=0 sec (0 min)
13:54:21.064361    scan gate duration=0 sec (0 min)
13:54:21.064410    isotope halflife=0 sec
13:54:21.064458    lld=0 KeV
13:54:21.064503    uld=0 KeV
13:54:21.064551  loading the acf (matrix 0)
13:54:21.064607   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.a'
13:54:21.064660    matrix number=0
13:54:22.004117    RhoSamples=256
13:54:22.004241    BinSizeRho=1.21875mm
13:54:22.004284    ThetaSamples=288
13:54:22.004324    mash factor=0
13:54:22.004367    plane separation=1.21875mm
13:54:22.004408    axes=8
13:54:22.004469    axis table=2209 {207,394,358,322,286,250,214,178}
13:54:22.004535    span=9
13:54:22.004575    maximum ring difference=67
13:54:22.004618    intrinsic tilt=0 degrees
13:54:22.004660    bed position=0mm
13:54:22.004702    scan start time=0 sec
13:54:22.004748    scan frame duration=0 sec (0 min)
13:54:22.004803    scan gate duration=0 sec (0 min)
13:54:22.004846    isotope halflife=0 sec
13:54:22.004887    lld=400 KeV
13:54:22.004927    uld=650 KeV
13:54:22.004962    corrections applied=
13:54:22.005021  replace values below 1 by 1
13:54:22.025613  estimate scatter sinogram
13:54:22.039399   counts in image: min=0  max=0.155513  total=53502.3
13:54:22.039562   start single-slice rebinning from 256x288x2209 to 256x288x207
13:54:22.039602   initialize SSR
13:54:22.039642    RhoSamples=256
13:54:22.039681    ThetaSamples=288
13:54:22.039720    axes=8
13:54:22.039778    axis table=2209 {207,394,358,322,286,250,214,178}
13:54:22.040064    skip 2 planes at each side of a segment
13:54:22.040188    calculate e*n*a of axis 0 (skip 2 border planes)
13:54:22.040253     calculate axis 0 of corrected sinogram
13:54:22.034798    calculate single-slice rebinning of axis 0
13:54:22.034922    ssr 203 planes
13:54:22.024652    calculate e*n*a of axis 1 (skip 2 border planes)
13:54:22.024757     calculate axis 1 of corrected sinogram
13:54:23.045629    calculate single-slice rebinning of axis 1
13:54:23.045756    ssr 193 planes
13:54:23.063059    calculate e*n*a of axis 2 (skip 2 border planes)
13:54:23.063167     calculate axis 2 of corrected sinogram
13:54:23.012257    calculate single-slice rebinning of axis 2
13:54:23.012381    ssr 175 planes
13:54:23.021992    calculate e*n*a of axis 3 (skip 2 border planes)
13:54:23.022098     calculate axis 3 of corrected sinogram
13:54:23.016570    calculate single-slice rebinning of axis 3
13:54:23.016709    ssr 157 planes
13:54:23.019504    calculate e*n*a of axis 4 (skip 2 border planes)
13:54:23.019613     calculate axis 4 of corrected sinogram
13:54:23.058440    calculate single-slice rebinning of axis 4
13:54:23.058558    ssr 139 planes
13:54:23.052969    calculate e*n*a of axis 5 (skip 2 border planes)
13:54:23.053074     calculate axis 5 of corrected sinogram
13:54:24.053490    calculate single-slice rebinning of axis 5
13:54:24.053614    ssr 121 planes
13:54:24.040401    calculate e*n*a of axis 6 (skip 2 border planes)
13:54:24.040508     calculate axis 6 of corrected sinogram
13:54:24.036683    calculate single-slice rebinning of axis 6
13:54:24.036809    ssr 103 planes
13:54:24.016510    calculate e*n*a of axis 7 (skip 2 border planes)
13:54:24.016615     calculate axis 7 of corrected sinogram
13:54:24.056306    calculate single-slice rebinning of axis 7
13:54:24.056425    ssr 85 planes
13:54:24.028124    normalize sinogram
13:54:24.012985   finished single-slice rebinning in 1.97656 sec
13:54:24.013105   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
13:54:24.013180    XYSamples=128
13:54:24.013225    DeltaXY=2.4375mm
13:54:24.013264    RhoSamples=256
13:54:24.013305    BinSizeRho=1.21875mm
13:54:24.013345    ThetaSamples=288
13:54:24.013386    plane separation=1.21875mm
13:54:24.013433    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:54:24.013477    subsets=8
13:54:24.013516    axes=1
13:54:24.013561    axis table=207 {207}
13:54:24.013600    algorithm=AW-OSEM
13:54:24.013639    use LUT=small
13:54:24.013809    initialize backprojector
13:54:24.013882     angle of segment 0: 0 degrees
13:54:24.014117     create mode 1 lookup-table for backprojector: 63 MByte
13:54:24.005261     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
13:54:24.055505     start calculation of normalization factors for AW-OSEM
13:54:24.055711      allocate 103.5 MByte for normalization factors
13:54:24.055767      start calculation of normalization factors for subset 0
13:54:24.004811       calculate segment 0, subset 0 of 1/a sinogram
13:54:24.028306       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
13:54:24.050961      finished calculation of normalization factors for subset 0 in 0.128906 sec
13:54:24.051096      start calculation of normalization factors for subset 1
13:54:24.016011       calculate segment 0, subset 1 of 1/a sinogram
13:54:24.036114       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
13:54:24.053915      finished calculation of normalization factors for subset 1 in 0.117188 sec
13:54:24.054019      start calculation of normalization factors for subset 2
13:54:24.003308       calculate segment 0, subset 2 of 1/a sinogram
13:54:24.021384       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
13:54:25.057045      finished calculation of normalization factors for subset 2 in 0.152344 sec
13:54:25.057150      start calculation of normalization factors for subset 3
13:54:25.006704       calculate segment 0, subset 3 of 1/a sinogram
13:54:25.025002       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
13:54:25.022236      finished calculation of normalization factors for subset 3 in 0.09375 sec
13:54:25.022331      start calculation of normalization factors for subset 4
13:54:25.037785       calculate segment 0, subset 4 of 1/a sinogram
13:54:25.055424       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
13:54:25.031197      finished calculation of normalization factors for subset 4 in 0.140625 sec
13:54:25.031303      start calculation of normalization factors for subset 5
13:54:25.047920       calculate segment 0, subset 5 of 1/a sinogram
13:54:25.000023       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
13:54:25.026371      finished calculation of normalization factors for subset 5 in 0.125 sec
13:54:25.026500      start calculation of normalization factors for subset 6
13:54:25.049376       calculate segment 0, subset 6 of 1/a sinogram
13:54:25.001925       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
13:54:25.059135      finished calculation of normalization factors for subset 6 in 0.101562 sec
13:54:25.059228      start calculation of normalization factors for subset 7
13:54:25.010677       calculate segment 0, subset 7 of 1/a sinogram
13:54:25.028773       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
13:54:25.000533      finished calculation of normalization factors for subset 7 in 0.136719 sec
13:54:25.000661     finished calculation of normalization factors in 1.01172 sec
13:54:25.000707    divide sinograms
13:54:25.051839    initialize forward-projector
13:54:25.051970     angles of segment 0
13:54:25.052015      plane 0-206: 0 degrees
13:54:25.052255     create mode 1 lookup-table for forward-projector: 126 MByte
13:54:26.058539     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
13:54:26.063465     start reconstruction from 256x288x207 to 128x128x207
13:54:26.063589      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
13:54:26.009299      start iteration 1, subset 0
13:54:26.052922      finished iteration 1, subset 0 in 0.304688 sec
13:54:26.053029      start iteration 1, subset 4
13:54:26.018985      finished iteration 1, subset 4 in 0.226562 sec
13:54:26.019093      start iteration 1, subset 2
13:54:27.001149      finished iteration 1, subset 2 in 0.261719 sec
13:54:27.001263      start iteration 1, subset 6
13:54:27.046633      finished iteration 1, subset 6 in 0.308594 sec
13:54:27.046747      start iteration 1, subset 1
13:54:27.062841      finished iteration 1, subset 1 in 0.210938 sec
13:54:27.062948      start iteration 1, subset 5
13:54:27.020483      finished iteration 1, subset 5 in 0.222656 sec
13:54:27.020587      start iteration 1, subset 3
13:54:28.022872      finished iteration 1, subset 3 in 0.214844 sec
13:54:28.022986      start iteration 1, subset 7
13:54:28.016968      finished iteration 1, subset 7 in 0.386719 sec
13:54:28.017110      start iteration 2, subset 0
13:54:28.049278      finished iteration 2, subset 0 in 0.359375 sec
13:54:28.049399      start iteration 2, subset 4
13:54:29.018730      finished iteration 2, subset 4 in 0.25 sec
13:54:29.018834      start iteration 2, subset 2
13:54:29.041669      finished iteration 2, subset 2 in 0.285156 sec
13:54:29.041783      start iteration 2, subset 6
13:54:29.038602      finished iteration 2, subset 6 in 0.257812 sec
13:54:29.038706      start iteration 2, subset 1
13:54:29.048663      finished iteration 2, subset 1 in 0.273438 sec
13:54:29.048801      start iteration 2, subset 5
13:54:30.043827      finished iteration 2, subset 5 in 0.265625 sec
13:54:30.043946      start iteration 2, subset 3
13:54:30.013287      finished iteration 2, subset 3 in 0.230469 sec
13:54:30.013392      start iteration 2, subset 7
13:54:30.048227      finished iteration 2, subset 7 in 0.296875 sec
13:54:30.048335      start iteration 3, subset 0
13:54:30.021242      finished iteration 3, subset 0 in 0.300781 sec
13:54:30.021348      start iteration 3, subset 4
13:54:31.011372      finished iteration 3, subset 4 in 0.335938 sec
13:54:31.011485      start iteration 3, subset 2
13:54:31.059248      finished iteration 3, subset 2 in 0.308594 sec
13:54:31.059352      start iteration 3, subset 6
13:54:31.041459      finished iteration 3, subset 6 in 0.3125 sec
13:54:31.041568      start iteration 3, subset 1
13:54:32.019720      finished iteration 3, subset 1 in 0.257812 sec
13:54:32.019828      start iteration 3, subset 5
13:54:32.019277      finished iteration 3, subset 5 in 0.261719 sec
13:54:32.019398      start iteration 3, subset 3
13:54:32.052094      finished iteration 3, subset 3 in 0.292969 sec
13:54:32.052200      start iteration 3, subset 7
13:54:33.023247      finished iteration 3, subset 7 in 0.316406 sec
13:54:33.023382      mask 207 planes of image
13:54:33.037444      scale image with 1.21875
13:54:33.044103      scale image with 4
13:54:33.051156     finished reconstruction in 6.78906 sec
13:54:33.051249     forward projector: 3.48438 sec
13:54:33.051292     backprojector: 2.29688 sec
13:54:33.062227   finished reconstruction of emission in 8.52344 sec
13:54:33.062318   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
13:54:33.061998   scale image by 4.10256
13:54:33.014252   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:54:33.014368   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:54:33.014438   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:54:33.014499   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
13:54:33.014535   start scatter estimation
13:54:33.014587    calculate matrix for beta-spline interpolation
13:54:33.023936    start scatter simulation
13:54:33.024007     effective detector ring radius=234.5mm (234.5mm+0mm)
13:54:33.024051     DeltaXY=2.4375mm
13:54:33.024093     DeltaZ=1.21875mm
13:54:33.024146     LLD=400 keV
13:54:33.024188     ULD=650 keV
13:54:33.033815     search bounds of object in u-map
13:54:33.059970     x bounds (-x,+x)=-93.8413mm,84.0913mm
13:54:33.060079     y bounds (-y,+y)=-103.591mm,135.279mm
13:54:33.060127     z bounds (-z,+z)=-56.6707mm,126.139mm
13:54:33.060177     length of axial scatter fov=365.615mm (max. 365.615mm)
13:54:33.060228     scatter samples (x,y,z)=8,11,16
13:54:33.060280     image size (x,y,z)=177.933mm,238.87mm,365.615mm
13:54:33.060333     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.851mm
13:54:33.042056     start simulation of scatter sinogram (19x34x10)
13:54:33.042281      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
13:54:33.042358      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
13:54:33.042494      thread 2: 400 samples in plane 1 inside of object (plane 29 of full sinogram)
13:54:33.042575      thread 1: 328 samples in plane 0 inside of object (plane 8 of full sinogram)
13:54:33.044309      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
13:54:33.044462      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
13:54:33.044603      thread 4: 509 samples in plane 3 inside of object (plane 71 of full sinogram)
13:54:33.044713      thread 6: 510 samples in plane 5 inside of object (plane 113 of full sinogram)
13:54:33.048341      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
13:54:33.048682      thread 3: 492 samples in plane 2 inside of object (plane 50 of full sinogram)
13:54:33.049554      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
13:54:33.049801      thread 8: 506 samples in plane 8 inside of object (plane 176 of full sinogram)
13:54:33.020668      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
13:54:33.020887      thread 5: 514 samples in plane 4 inside of object (plane 92 of full sinogram)
13:54:33.029644      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
13:54:33.029941      thread 7: 507 samples in plane 6 inside of object (plane 134 of full sinogram)
13:54:33.054126      thread 8: 503 samples in plane 9 inside of object (plane 197 of full sinogram)
13:54:33.025844      thread 7: 520 samples in plane 7 inside of object (plane 155 of full sinogram)
13:54:33.020721     finished simulation of scatter sinogram
13:54:33.033105    finished scatter simulation in 0.273438 sec
13:54:33.033227    calculate beta-spline interpolation from 17x34x10 to 256x288x207
13:54:34.024437   finished scatter estimation in 1.53516 sec
13:54:34.024524   convert 2d scatter sinogram into 3d sinogram
13:54:34.024569   calculate axial scatter scale factors (smoothed with boxcar 17)
13:54:34.024650    acf threshold=1.03
13:54:34.065199    calculate scale factors for segment 0
13:54:34.008028    scatter size 256x288x207
13:54:35.048210     apply lower and upper thresholds 0.25 and 2
13:54:35.048327    calculate scale factors for segment +1
13:54:35.048384    scatter size 256x288x197
13:54:35.005970     apply lower and upper thresholds 0.25 and 2
13:54:35.006076    calculate scale factors for segment -1
13:54:35.006132    scatter size 256x288x197
13:54:35.032733     apply lower and upper thresholds 0.25 and 2
13:54:35.032846    calculate scale factors for segment +2
13:54:35.032905    scatter size 256x288x179
13:54:35.042695     apply lower and upper thresholds 0.25 and 2
13:54:35.042809    calculate scale factors for segment -2
13:54:35.042867    scatter size 256x288x179
13:54:35.048557     apply lower and upper thresholds 0.25 and 2
13:54:35.048678    calculate scale factors for segment +3
13:54:35.048742    scatter size 256x288x161
13:54:35.044090     apply lower and upper thresholds 0.25 and 2
13:54:35.044196    calculate scale factors for segment -3
13:54:35.044252    scatter size 256x288x161
13:54:36.016272     apply lower and upper thresholds 0.25 and 2
13:54:36.016374    calculate scale factors for segment +4
13:54:36.016430    scatter size 256x288x143
13:54:36.058399     apply lower and upper thresholds 0.25 and 2
13:54:36.058501    calculate scale factors for segment -4
13:54:36.058558    scatter size 256x288x143
13:54:36.032650     apply lower and upper thresholds 0.25 and 2
13:54:36.032751    calculate scale factors for segment +5
13:54:36.032807    scatter size 256x288x125
13:54:36.059072     apply lower and upper thresholds 0.25 and 2
13:54:36.059172    calculate scale factors for segment -5
13:54:36.059228    scatter size 256x288x125
13:54:36.017041     apply lower and upper thresholds 0.25 and 2
13:54:36.017139    calculate scale factors for segment +6
13:54:36.017195    scatter size 256x288x107
13:54:36.028135     apply lower and upper thresholds 0.25 and 2
13:54:36.028235    calculate scale factors for segment -6
13:54:36.028290    scatter size 256x288x107
13:54:36.036959     apply lower and upper thresholds 0.25 and 2
13:54:36.037060    calculate scale factors for segment +7
13:54:36.037115    scatter size 256x288x89
13:54:36.032696     apply lower and upper thresholds 0.25 and 2
13:54:36.032803    calculate scale factors for segment -7
13:54:36.032860    scatter size 256x288x89
13:54:36.027469     apply lower and upper thresholds 0.25 and 2
13:54:44.020538   scatter fraction at first pass=41.7695%
13:54:44.014967  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_sc_ATX.s
13:54:44.015097   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_sc_ATX.s (matrix 0)
13:54:44.035917   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_sc_ATX.h33 (matrix 0)
13:54:44.036265  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_sc_ATX.s
13:54:44.049214  
13:54:44.049317 gantry model values that may have been used:
13:54:44.049363  model number=328
13:54:44.049411  defaultElements()=256
13:54:44.049469  binSize()=0.121875cm
13:54:44.049515  defaultAngles()=288
13:54:44.049572  planeSep()=0.121875cm
13:54:44.049620  crystalRadius()=23.45cm
13:54:44.049666  sinogramDepthOfInteraction()=0cm
13:54:44.049714  sinogramIntrinsicTilt()=0 degrees
13:54:44.049755  isRingArch()=false
13:54:44.049812  isPETOnlyArch()=true
13:54:44.049876  defPlaneDefSpan3D()=3
13:54:44.049919  defRingDiffMax()=67
13:54:44.049960  bucketsPerRing()=unknown
13:54:44.050002  bucketRings()=1
13:54:44.050044  axialBlocks()=13
13:54:44.050085  transBlocks()=9
13:54:44.050127  axialCrystals()=8
13:54:44.050169  transCrystals()=8
13:54:44.050210  axialBlockGaps()=0
13:54:44.050252  transBlockGaps()=0
13:54:44.050293  directPlanes()=104
13:54:44.050335  defaultLLD()=400 keV
13:54:44.050377  defaultULD()=650 keV
13:54:44.050419  nCrystalLayers()=2
13:54:44.050464   crystalLayerMaterial(0)=LSO
13:54:44.050534   crystalLayerBackgroundErgRatio(0)=14%
13:54:44.050583   crystalLayerFWHMErgRes(0)=17%
13:54:44.050630   crystalLayerDepth(0)=1cm
13:54:44.050678   crystalLayerMaterial(1)=LYSO
13:54:44.050730   crystalLayerBackgroundErgRatio(1)=14%
13:54:44.050817   crystalLayerFWHMErgRes(1)=17%
13:54:44.050865   crystalLayerDepth(1)=1cm
13:54:44.050910  maxScatterZfOV()=40cm
13:54:44.050947  
13:54:45.007390 processing time 00:00:31.2383 (hh:mm:ss)
13:54:45.020535 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
13:54:45.020594 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
13:54:45.020637 memory access pattern: 411 entries
13:54:45.020675  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1695596544
13:54:46	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
13:54:46	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_sc_ATX.s
13:54:46	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13.s
13:54:46	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13.ch
13:54:46	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
13:54:46	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.a
13:54:46	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_3D_ATX.i
13:54:46	  Method               : OPO3D
13:54:46	  Positivity constraint in sinogram space
13:54:46	  Max of sensitivity image      : 1.000000e+04
13:54:46	  Threshold for missing data    : 1.000000e-04
13:54:46	  Threshold for image update    : 1.000000e-10
13:54:46	  Maximum of image      	: 10000000000.000000
13:54:46	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:013:54:46	Model 999 
13:54:46	  Triming 3 planes at segment edges 
13:54:46	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
13:54:46	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_ra_smo.s , scan duration 240
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 22 iterations (49 msec)
1	595 msec   
2	3243 msec   
3	3363 msec   
4	3591 msec   
5	709 msec   
Smooth Delays computed in 12200 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4964 msec.
Total time 17164 msec.
13:55:04	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.a: attenuation file size 651460608
13:55:04	expected file size 256x288x2209(2209)
13:55:04	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr13.a: attenuation file type 0
13:55:04	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
13:55:04	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
13:55:04	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_3D_ATX.i reconstruction started
13:55:04	  Prepare components of update equation from input data ...
13:55:09	  Read normalization and normalize delayed
13:55:09	  Apply normalization mask to prompt sinogram
13:55:12	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
13:55:38	  Iteration 1 in 84.970 sec
13:56:03	  Iteration 2 in 84.950 sec
13:56:29	  Iteration 3 in 84.420 sec
13:56:54	  Iteration 4 in 84.550 sec
13:57:20	  Iteration 5 in 86.820 sec
13:57:46	  Iteration 6 in 85.780 sec
13:58:12	  Iteration 7 in 85.230 sec
13:58:38	  Iteration 8 in 85.880 sec
13:59:03	  Iteration 9 in 86.290 sec
13:59:28	  Iteration 10 in 85.730 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_3D_ATX.i' complete
13:59:29	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame13_3D_ATX.i reconstruction done in 282 sec
13:59:30.061148 unknown (0x)    memory: 0 MByte
13:59:30.061238 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
13:59:30.061283 Revision: 275.1
13:59:30.061332 current date and time (GMT): Sat Dec  4 18:59:30 2010
13:59:30.061381 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
13:59:30.061451 free memory in memory controller: 9541.25 MByte
13:59:30.061575 memory access pattern found
13:59:30.061622 free memory in memory controller: 9541.25 MByte
13:59:30.003397 calculate acf for 1 matrix
13:59:30.003458  span=9
13:59:30.003498  maximum ring difference=67
13:59:30.003559  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.i
13:59:30.003607   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.i'
13:59:30.003648    matrix number=0
13:59:30.056560    XYSamples=128
13:59:30.056685    DeltaXY=2.4375mm
13:59:30.056731    ZSamples=207
13:59:30.056777    DeltaZ=1.21875mm
13:59:30.056818    corrections applied=
13:59:30.056858    u-map data=yes
13:59:30.056902    bed position=0mm
13:59:30.056948    scan start time=0 sec
13:59:30.057008    scan frame duration=0 sec (0 min)
13:59:30.057060    scan gate duration=0 sec (0 min)
13:59:30.057105    isotope halflife=0 sec
13:59:30.057149    lld=0 KeV
13:59:30.057192    uld=0 KeV
13:59:30.063580  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
13:59:30.063708  XYSamples=128
13:59:30.063766  DeltaXY=2.4375mm
13:59:30.063810  RhoSamples=256
13:59:30.063854  BinSizeRho=1.21875mm
13:59:30.063897  ThetaSamples=288
13:59:30.063941  plane separation=1.21875mm
13:59:30.064044  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
13:59:30.064094  subsets=1
13:59:30.064137  axes=1
13:59:30.064189  axis table=207 {207}
13:59:30.064230  algorithm=UW-OSEM
13:59:30.064271  use LUT=no
13:59:30.064457  time of flight bins=1
13:59:30.064505  initialize forward-projector
13:59:30.064571   angles of segment 0
13:59:30.064615    plane 0-206: 0 degrees
13:59:30.064894  start forward projection
13:59:30.027440   start forward projection of subset 0 from 128x128x207 to 256x288x207
13:59:30.027558    project segment 0
13:59:32.008875   finished forward projection of subset 0 in 2.30859 sec
13:59:33.009832   scale 207 planes of sinogram by 0.410256
13:59:33.043876  finished forward projection in 2.45312 sec
13:59:33.043983  convert emission into transmission data
13:59:33.005967  span=9
13:59:33.006099  maximum ring difference=67
13:59:33.006166  iFORE sinogram 1 from 256x288x207 to 256x288x2209
13:59:33.006343   replace values below 1 by 1
13:59:33.027239   copy 207 planes of segment 0
13:59:34.023971   create 360 degrees sinogram (512x576x207)
13:59:34.064457   calculate 3d fourier transform of sinogram
13:59:38.002343   calculate 394 planes of axis 1
13:59:38.043157    calculate fourier projection of axis 1
13:59:42.041537    calculate inverse fourier transform of axis 1
13:59:45.003597    split axis 1 into 2 segments
13:59:45.032324    calculate weighting of axis 1
13:59:47.020313   finished with axis 1
13:59:47.020427   calculate 358 planes of axis 2
13:59:47.051744    calculate fourier projection of axis 2
13:59:50.044807    calculate inverse fourier transform of axis 2
13:59:54.004248    split axis 2 into 2 segments
13:59:54.022833    calculate weighting of axis 2
13:59:55.052917   finished with axis 2
13:59:55.053042   calculate 322 planes of axis 3
13:59:55.003216    calculate fourier projection of axis 3
13:59:59.003344    calculate inverse fourier transform of axis 3
14:00:02.032657    split axis 3 into 2 segments
14:00:02.041184    calculate weighting of axis 3
14:00:03.031473   finished with axis 3
14:00:03.031601   calculate 286 planes of axis 4
14:00:03.044622    calculate fourier projection of axis 4
14:00:06.019464    calculate inverse fourier transform of axis 4
14:00:10.060585    split axis 4 into 2 segments
14:00:10.065046    calculate weighting of axis 4
14:00:10.039490   finished with axis 4
14:00:10.039619   calculate 250 planes of axis 5
14:00:11.020092    calculate fourier projection of axis 5
14:00:14.009390    calculate inverse fourier transform of axis 5
14:00:17.051764    split axis 5 into 2 segments
14:00:18.020503    calculate weighting of axis 5
14:00:18.015337   finished with axis 5
14:00:18.015460   calculate 214 planes of axis 6
14:00:19.046989    calculate fourier projection of axis 6
14:00:21.052817    calculate inverse fourier transform of axis 6
14:00:24.041652    split axis 6 into 2 segments
14:00:25.000761    calculate weighting of axis 6
14:00:25.036673   finished with axis 6
14:00:25.036815   calculate 178 planes of axis 7
14:00:25.010509    calculate fourier projection of axis 7
14:00:28.059033    calculate inverse fourier transform of axis 7
14:00:31.022929    split axis 7 into 2 segments
14:00:31.000005    calculate weighting of axis 7
14:00:32.015996   finished with axis 7
14:00:32.005581  axes=8
14:00:32.005708  axis table=2209 {207,394,358,322,286,250,214,178}
14:00:32.005776  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.a
14:00:32.005843   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.a (matrix 0)
14:00:33.064868   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.h33 (matrix 0)
14:00:33.047103  
14:00:33.047227 gantry model values that may have been used:
14:00:33.047274  model number=328
14:00:33.047321  defaultElements()=256
14:00:33.047381  binSize()=0.121875cm
14:00:33.047427  defaultAngles()=288
14:00:33.047472  planeSep()=0.121875cm
14:00:33.047519  crystalRadius()=23.45cm
14:00:33.047565  sinogramDepthOfInteraction()=0cm
14:00:33.047613  sinogramIntrinsicTilt()=0 degrees
14:00:33.047653  isRingArch()=false
14:00:33.047692  isPETOnlyArch()=true
14:00:33.047736  defPlaneDefSpan3D()=3
14:00:33.047781  defRingDiffMax()=67
14:00:33.047833  bucketsPerRing()=unknown
14:00:33.047878  bucketRings()=1
14:00:33.047923  axialBlocks()=13
14:00:33.047968  transBlocks()=9
14:00:33.048012  axialCrystals()=8
14:00:33.048075  transCrystals()=8
14:00:33.048128  axialBlockGaps()=0
14:00:33.048169  transBlockGaps()=0
14:00:33.048208  directPlanes()=104
14:00:33.048250  defaultLLD()=400 keV
14:00:33.048290  defaultULD()=650 keV
14:00:33.048331  nCrystalLayers()=2
14:00:33.048376   crystalLayerMaterial(0)=LSO
14:00:33.048445   crystalLayerBackgroundErgRatio(0)=12%
14:00:33.048493   crystalLayerFWHMErgRes(0)=17%
14:00:33.048539   crystalLayerDepth(0)=1cm
14:00:33.048583   crystalLayerMaterial(1)=LYSO
14:00:33.048634   crystalLayerBackgroundErgRatio(1)=12%
14:00:33.048683   crystalLayerFWHMErgRes(1)=17%
14:00:33.048728   crystalLayerDepth(1)=1cm
14:00:33.048772  maxScatterZfOV()=40cm
14:00:33.048815  
14:00:33.048870 processing time 00:01:02.79297 (hh:mm:ss)
14:00:33.048932 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:00:33.048986 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:00:33.049027 memory access pattern: 36 entries
14:00:33.049063  
14:00:34.027268 unknown (0x)    memory: 0 MByte
14:00:34.027377 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:00:34.027429 Revision: 275.1
14:00:34.027489 current date and time (GMT): Sat Dec  4 19:00:34 2010
14:00:34.027556 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:00:34.027645 free memory in memory controller: 9541.25 MByte
14:00:34.027806 memory access pattern found
14:00:34.027864 free memory in memory controller: 9541.25 MByte
14:00:34.027933 Default crystalLayerBackgroundErgRatio: 12,12
14:00:34.028004 Specified crystalLayerBackgroundErgRatio: 14,14
14:00:34.022545 calculate sinogram for 1 matrix
14:00:34.022633  loading the 3d emission scan (matrix 0)
14:00:34.022686   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14.tr.s'
14:00:34.022736    matrix number=0
14:00:37.038143    RhoSamples=256
14:00:37.038302    BinSizeRho=1.21875mm
14:00:37.038362    ThetaSamples=288
14:00:37.038410    mash factor=0
14:00:37.038460    plane separation=1.21875mm
14:00:37.038508    axes=8
14:00:37.038576    axis table=2209 {207,394,358,322,286,250,214,178}
14:00:37.038626    span=9
14:00:37.038682    maximum ring difference=67
14:00:37.038733    intrinsic tilt=0 degrees
14:00:37.038783    bed position=0mm
14:00:37.038833    scan start time=0 sec
14:00:37.038887    scan frame duration=0 sec (0 min)
14:00:37.038942    scan gate duration=0 sec (0 min)
14:00:37.038992    isotope halflife=0 sec
14:00:37.039055    lld=400 KeV
14:00:37.039102    uld=650 KeV
14:00:37.039144    corrections applied=
14:00:37.039208  calculating the 3d normalisation scan (matrix 0)
14:00:37.039267   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:00:38.007735    matrix number=0
14:00:38.007851    RhoSamples=256
14:00:38.007906    BinSizeRho=1.21875mm
14:00:38.007948    ThetaSamples=288
14:00:38.007987    mash factor=0
14:00:38.008029    plane separation=1.21875mm
14:00:38.008083    axes=8
14:00:38.008139    axis table=2209 {207,394,358,322,286,250,214,178}
14:00:38.008180    span=9
14:00:38.008219    maximum ring difference=67
14:00:38.008261    intrinsic tilt=0 degrees
14:00:38.008303    bed position=0mm
14:00:38.008344    scan start time=0 sec
14:00:38.008390    scan frame duration=0 sec (0 min)
14:00:38.008436    scan gate duration=0 sec (0 min)
14:00:38.008478    isotope halflife=0 sec
14:00:38.008518    lld=400 KeV
14:00:38.008557    uld=650 KeV
14:00:38.008593    corrections applied=
14:00:38.008639  normalize 3d emission
14:00:38.008677   multiply sinograms
14:00:39.043674  normalization based gap filling
14:00:39.044480    fill 207 planes 8 threads
14:00:39.015149    fill 394 planes 8 threads
14:00:39.008685    fill 358 planes 8 threads
14:00:40.021766    fill 322 planes 8 threads
14:00:40.014920    fill 286 planes 8 threads
14:00:40.041138    fill 250 planes 8 threads
14:00:40.043282    fill 214 planes 8 threads
14:00:41.025704    fill 178 planes 8 threads
14:00:41.043770   bed position in emission=0mm
14:00:41.043947   bed position in u-map=0mm
14:00:41.044038   bed position in acf=0mm
14:00:41.044098  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.i
14:00:41.044148   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.i'
14:00:41.044194    matrix number=0
14:00:41.061995    XYSamples=128
14:00:41.062118    DeltaXY=2.4375mm
14:00:41.062160    ZSamples=207
14:00:41.062201    DeltaZ=1.21875mm
14:00:41.062237    corrections applied=
14:00:41.062273    u-map data=yes
14:00:41.062314    bed position=0mm
14:00:41.062369    scan start time=0 sec
14:00:41.062415    scan frame duration=0 sec (0 min)
14:00:41.062461    scan gate duration=0 sec (0 min)
14:00:41.062503    isotope halflife=0 sec
14:00:41.062544    lld=0 KeV
14:00:41.062583    uld=0 KeV
14:00:41.062623  loading the acf (matrix 0)
14:00:41.062672   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.a'
14:00:41.062717    matrix number=0
14:00:42.004810    RhoSamples=256
14:00:42.004933    BinSizeRho=1.21875mm
14:00:42.004975    ThetaSamples=288
14:00:42.005015    mash factor=0
14:00:42.005057    plane separation=1.21875mm
14:00:42.005098    axes=8
14:00:42.005157    axis table=2209 {207,394,358,322,286,250,214,178}
14:00:42.005204    span=9
14:00:42.005245    maximum ring difference=67
14:00:42.005287    intrinsic tilt=0 degrees
14:00:42.005329    bed position=0mm
14:00:42.005371    scan start time=0 sec
14:00:42.005417    scan frame duration=0 sec (0 min)
14:00:42.005466    scan gate duration=0 sec (0 min)
14:00:42.005510    isotope halflife=0 sec
14:00:42.005563    lld=400 KeV
14:00:42.005604    uld=650 KeV
14:00:42.005641    corrections applied=
14:00:42.005700  replace values below 1 by 1
14:00:42.027841  estimate scatter sinogram
14:00:42.041628   counts in image: min=0  max=0.155932  total=53504.1
14:00:42.041787   start single-slice rebinning from 256x288x2209 to 256x288x207
14:00:42.041828   initialize SSR
14:00:42.041869    RhoSamples=256
14:00:42.041925    ThetaSamples=288
14:00:42.041968    axes=8
14:00:42.042027    axis table=2209 {207,394,358,322,286,250,214,178}
14:00:42.047300    skip 2 planes at each side of a segment
14:00:42.047465    calculate e*n*a of axis 0 (skip 2 border planes)
14:00:42.047515     calculate axis 0 of corrected sinogram
14:00:42.049755    calculate single-slice rebinning of axis 0
14:00:42.049923    ssr 203 planes
14:00:42.040635    calculate e*n*a of axis 1 (skip 2 border planes)
14:00:42.040756     calculate axis 1 of corrected sinogram
14:00:42.014568    calculate single-slice rebinning of axis 1
14:00:42.014714    ssr 193 planes
14:00:42.032401    calculate e*n*a of axis 2 (skip 2 border planes)
14:00:42.032510     calculate axis 2 of corrected sinogram
14:00:43.030481    calculate single-slice rebinning of axis 2
14:00:43.030606    ssr 175 planes
14:00:43.040663    calculate e*n*a of axis 3 (skip 2 border planes)
14:00:43.040772     calculate axis 3 of corrected sinogram
14:00:43.049579    calculate single-slice rebinning of axis 3
14:00:43.049707    ssr 157 planes
14:00:43.051743    calculate e*n*a of axis 4 (skip 2 border planes)
14:00:43.051855     calculate axis 4 of corrected sinogram
14:00:43.025421    calculate single-slice rebinning of axis 4
14:00:43.025545    ssr 139 planes
14:00:43.020747    calculate e*n*a of axis 5 (skip 2 border planes)
14:00:43.020853     calculate axis 5 of corrected sinogram
14:00:43.037769    calculate single-slice rebinning of axis 5
14:00:43.037896    ssr 121 planes
14:00:43.025078    calculate e*n*a of axis 6 (skip 2 border planes)
14:00:43.025184     calculate axis 6 of corrected sinogram
14:00:43.021825    calculate single-slice rebinning of axis 6
14:00:43.021976    ssr 103 planes
14:00:43.002285    calculate e*n*a of axis 7 (skip 2 border planes)
14:00:43.002425     calculate axis 7 of corrected sinogram
14:00:44.025962    calculate single-slice rebinning of axis 7
14:00:44.026088    ssr 85 planes
14:00:44.064436    normalize sinogram
14:00:44.050133   finished single-slice rebinning in 2.00781 sec
14:00:44.050254   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:00:44.050315    XYSamples=128
14:00:44.050360    DeltaXY=2.4375mm
14:00:44.050400    RhoSamples=256
14:00:44.050441    BinSizeRho=1.21875mm
14:00:44.050482    ThetaSamples=288
14:00:44.050523    plane separation=1.21875mm
14:00:44.050570    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:00:44.050613    subsets=8
14:00:44.050652    axes=1
14:00:44.050698    axis table=207 {207}
14:00:44.050736    algorithm=AW-OSEM
14:00:44.050803    use LUT=small
14:00:44.050977    initialize backprojector
14:00:44.051052     angle of segment 0: 0 degrees
14:00:44.051286     create mode 1 lookup-table for backprojector: 63 MByte
14:00:44.044888     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:00:44.030209     start calculation of normalization factors for AW-OSEM
14:00:44.030404      allocate 103.5 MByte for normalization factors
14:00:44.030461      start calculation of normalization factors for subset 0
14:00:44.045496       calculate segment 0, subset 0 of 1/a sinogram
14:00:44.003798       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:00:44.029900      finished calculation of normalization factors for subset 0 in 0.128906 sec
14:00:44.030032      start calculation of normalization factors for subset 1
14:00:44.047507       calculate segment 0, subset 1 of 1/a sinogram
14:00:44.006458       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:00:44.036129      finished calculation of normalization factors for subset 1 in 0.136719 sec
14:00:44.036224      start calculation of normalization factors for subset 2
14:00:44.053930       calculate segment 0, subset 2 of 1/a sinogram
14:00:44.007018       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:00:44.027063      finished calculation of normalization factors for subset 2 in 0.121094 sec
14:00:44.027178      start calculation of normalization factors for subset 3
14:00:44.042685       calculate segment 0, subset 3 of 1/a sinogram
14:00:44.061242       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:00:44.045380      finished calculation of normalization factors for subset 3 in 0.148438 sec
14:00:44.045479      start calculation of normalization factors for subset 4
14:00:44.061124       calculate segment 0, subset 4 of 1/a sinogram
14:00:44.013521       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:00:45.028775      finished calculation of normalization factors for subset 4 in 0.128906 sec
14:00:45.028916      start calculation of normalization factors for subset 5
14:00:45.045540       calculate segment 0, subset 5 of 1/a sinogram
14:00:45.063395       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:00:45.039746      finished calculation of normalization factors for subset 5 in 0.144531 sec
14:00:45.039856      start calculation of normalization factors for subset 6
14:00:45.059500       calculate segment 0, subset 6 of 1/a sinogram
14:00:45.011650       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:00:45.040194      finished calculation of normalization factors for subset 6 in 0.128906 sec
14:00:45.040303      start calculation of normalization factors for subset 7
14:00:45.058571       calculate segment 0, subset 7 of 1/a sinogram
14:00:45.013370       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:00:45.013603      finished calculation of normalization factors for subset 7 in 0.105469 sec
14:00:45.013731     finished calculation of normalization factors in 1.04688 sec
14:00:45.013775    divide sinograms
14:00:45.001128    initialize forward-projector
14:00:45.001291     angles of segment 0
14:00:45.001336      plane 0-206: 0 degrees
14:00:45.001578     create mode 1 lookup-table for forward-projector: 126 MByte
14:00:45.040250     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:00:46.022736     start reconstruction from 256x288x207 to 128x128x207
14:00:46.022862      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:00:46.034041      start iteration 1, subset 0
14:00:46.012031      finished iteration 1, subset 0 in 0.304688 sec
14:00:46.012136      start iteration 1, subset 4
14:00:46.013340      finished iteration 1, subset 4 in 0.328125 sec
14:00:46.013451      start iteration 1, subset 2
14:00:46.016908      finished iteration 1, subset 2 in 0.332031 sec
14:00:47.000052      start iteration 1, subset 6
14:00:47.028937      finished iteration 1, subset 6 in 0.226562 sec
14:00:47.029041      start iteration 1, subset 1
14:00:47.017969      finished iteration 1, subset 1 in 0.316406 sec
14:00:47.018103      start iteration 1, subset 5
14:00:47.051130      finished iteration 1, subset 5 in 0.359375 sec
14:00:47.051244      start iteration 1, subset 3
14:00:48.021257      finished iteration 1, subset 3 in 0.25 sec
14:00:48.021365      start iteration 1, subset 7
14:00:48.019278      finished iteration 1, subset 7 in 0.261719 sec
14:00:48.019398      start iteration 2, subset 0
14:00:48.065508      finished iteration 2, subset 0 in 0.242188 sec
14:00:48.000093      start iteration 2, subset 4
14:00:48.027231      finished iteration 2, subset 4 in 0.289062 sec
14:00:48.027348      start iteration 2, subset 2
14:00:49.022492      finished iteration 2, subset 2 in 0.273438 sec
14:00:49.022608      start iteration 2, subset 6
14:00:49.060669      finished iteration 2, subset 6 in 0.433594 sec
14:00:49.060778      start iteration 2, subset 1
14:00:49.009709      finished iteration 2, subset 1 in 0.273438 sec
14:00:49.009821      start iteration 2, subset 5
14:00:50.033250      finished iteration 2, subset 5 in 0.304688 sec
14:00:50.033357      start iteration 2, subset 3
14:00:50.006696      finished iteration 2, subset 3 in 0.300781 sec
14:00:50.006803      start iteration 2, subset 7
14:00:50.048688      finished iteration 2, subset 7 in 0.238281 sec
14:00:50.048800      start iteration 3, subset 0
14:00:51.020263      finished iteration 3, subset 0 in 0.25 sec
14:00:51.020382      start iteration 3, subset 4
14:00:51.061417      finished iteration 3, subset 4 in 0.304688 sec
14:00:51.061535      start iteration 3, subset 2
14:00:51.012008      finished iteration 3, subset 2 in 0.277344 sec
14:00:51.012116      start iteration 3, subset 6
14:00:51.034370      finished iteration 3, subset 6 in 0.285156 sec
14:00:51.034476      start iteration 3, subset 1
14:00:52.043139      finished iteration 3, subset 1 in 0.351562 sec
14:00:52.043279      start iteration 3, subset 5
14:00:52.007112      finished iteration 3, subset 5 in 0.226562 sec
14:00:52.007219      start iteration 3, subset 3
14:00:52.062440      finished iteration 3, subset 3 in 0.382812 sec
14:00:52.062602      start iteration 3, subset 7
14:00:53.041104      finished iteration 3, subset 7 in 0.324219 sec
14:00:53.041252      mask 207 planes of image
14:00:53.055836      scale image with 1.21875
14:00:53.062176      scale image with 4
14:00:53.007277     finished reconstruction in 7.17969 sec
14:00:53.007383     forward projector: 3.63281 sec
14:00:53.007436     backprojector: 2.52734 sec
14:00:53.017471   finished reconstruction of emission in 8.96875 sec
14:00:53.017570   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:00:53.019540   scale image by 4.10256
14:00:53.037420   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:00:53.037542   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:00:53.037615   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:00:53.037679   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:00:53.037720   start scatter estimation
14:00:53.037774    calculate matrix for beta-spline interpolation
14:00:53.047220    start scatter simulation
14:00:53.047293     effective detector ring radius=234.5mm (234.5mm+0mm)
14:00:53.047337     DeltaXY=2.4375mm
14:00:53.047379     DeltaZ=1.21875mm
14:00:53.047431     LLD=400 keV
14:00:53.047474     ULD=650 keV
14:00:53.057057     search bounds of object in u-map
14:00:53.017356     x bounds (-x,+x)=-93.8413mm,84.0913mm
14:00:53.017471     y bounds (-y,+y)=-103.591mm,135.279mm
14:00:53.017519     z bounds (-z,+z)=-56.6707mm,126.139mm
14:00:53.017569     length of axial scatter fov=365.615mm (max. 365.615mm)
14:00:53.017619     scatter samples (x,y,z)=8,11,16
14:00:53.017671     image size (x,y,z)=177.933mm,238.87mm,365.615mm
14:00:53.017724     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.851mm
14:00:53.064134     start simulation of scatter sinogram (19x34x10)
14:00:53.064344      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:00:53.064486      thread 1: 328 samples in plane 0 inside of object (plane 8 of full sinogram)
14:00:53.007702      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:00:53.007926      thread 2: 405 samples in plane 1 inside of object (plane 29 of full sinogram)
14:00:53.044685      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:00:53.044886      thread 3: 493 samples in plane 2 inside of object (plane 50 of full sinogram)
14:00:53.052751      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:00:53.052891      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:00:53.053001      thread 5: 510 samples in plane 4 inside of object (plane 92 of full sinogram)
14:00:53.053071      thread 4: 508 samples in plane 3 inside of object (plane 71 of full sinogram)
14:00:53.042252      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:00:53.042415      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:00:53.042490      thread 6: 511 samples in plane 5 inside of object (plane 113 of full sinogram)
14:00:53.042550      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:00:53.042613      thread 7: 507 samples in plane 6 inside of object (plane 134 of full sinogram)
14:00:53.018815      thread 8: 507 samples in plane 8 inside of object (plane 176 of full sinogram)
14:00:53.059928      thread 7: 515 samples in plane 7 inside of object (plane 155 of full sinogram)
14:00:53.065149      thread 8: 501 samples in plane 9 inside of object (plane 197 of full sinogram)
14:00:53.059139     finished simulation of scatter sinogram
14:00:53.006078    finished scatter simulation in 0.417969 sec
14:00:53.006190    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:00:55.022616   finished scatter estimation in 1.65625 sec
14:00:55.022717   convert 2d scatter sinogram into 3d sinogram
14:00:55.022763   calculate axial scatter scale factors (smoothed with boxcar 17)
14:00:55.022830    acf threshold=1.03
14:00:55.062441    calculate scale factors for segment 0
14:00:55.062545    scatter size 256x288x207
14:00:55.032241     apply lower and upper thresholds 0.25 and 2
14:00:55.032362    calculate scale factors for segment +1
14:00:55.032420    scatter size 256x288x197
14:00:55.056184     apply lower and upper thresholds 0.25 and 2
14:00:55.056295    calculate scale factors for segment -1
14:00:55.056352    scatter size 256x288x197
14:00:55.011436     apply lower and upper thresholds 0.25 and 2
14:00:55.011541    calculate scale factors for segment +2
14:00:55.011597    scatter size 256x288x179
14:00:55.025586     apply lower and upper thresholds 0.25 and 2
14:00:55.025694    calculate scale factors for segment -2
14:00:55.025750    scatter size 256x288x179
14:00:56.015231     apply lower and upper thresholds 0.25 and 2
14:00:56.015337    calculate scale factors for segment +3
14:00:56.015392    scatter size 256x288x161
14:00:56.006273     apply lower and upper thresholds 0.25 and 2
14:00:56.006389    calculate scale factors for segment -3
14:00:56.006442    scatter size 256x288x161
14:00:56.060459     apply lower and upper thresholds 0.25 and 2
14:00:56.060564    calculate scale factors for segment +4
14:00:56.060619    scatter size 256x288x143
14:00:56.037700     apply lower and upper thresholds 0.25 and 2
14:00:56.037804    calculate scale factors for segment -4
14:00:56.037868    scatter size 256x288x143
14:00:56.012100     apply lower and upper thresholds 0.25 and 2
14:00:56.012206    calculate scale factors for segment +5
14:00:56.012262    scatter size 256x288x125
14:00:56.038909     apply lower and upper thresholds 0.25 and 2
14:00:56.039009    calculate scale factors for segment -5
14:00:56.039063    scatter size 256x288x125
14:00:56.062714     apply lower and upper thresholds 0.25 and 2
14:00:56.062816    calculate scale factors for segment +6
14:00:56.062871    scatter size 256x288x107
14:00:56.009192     apply lower and upper thresholds 0.25 and 2
14:00:56.009292    calculate scale factors for segment -6
14:00:56.009348    scatter size 256x288x107
14:00:56.019547     apply lower and upper thresholds 0.25 and 2
14:00:56.019651    calculate scale factors for segment +7
14:00:56.019706    scatter size 256x288x89
14:00:56.016496     apply lower and upper thresholds 0.25 and 2
14:00:56.016642    calculate scale factors for segment -7
14:00:56.016707    scatter size 256x288x89
14:00:56.010940     apply lower and upper thresholds 0.25 and 2
14:01:04.056726   scatter fraction at first pass=42.1859%
14:01:05.031332  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_sc_ATX.s
14:01:05.031460   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_sc_ATX.s (matrix 0)
14:01:05.053169   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_sc_ATX.h33 (matrix 0)
14:01:05.053525  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_sc_ATX.s
14:01:05.000878  
14:01:05.000984 gantry model values that may have been used:
14:01:05.001031  model number=328
14:01:05.001078  defaultElements()=256
14:01:05.001137  binSize()=0.121875cm
14:01:05.001184  defaultAngles()=288
14:01:05.001238  planeSep()=0.121875cm
14:01:05.001286  crystalRadius()=23.45cm
14:01:05.001333  sinogramDepthOfInteraction()=0cm
14:01:05.001381  sinogramIntrinsicTilt()=0 degrees
14:01:05.001423  isRingArch()=false
14:01:05.001463  isPETOnlyArch()=true
14:01:05.001507  defPlaneDefSpan3D()=3
14:01:05.001552  defRingDiffMax()=67
14:01:05.001599  bucketsPerRing()=unknown
14:01:05.001658  bucketRings()=1
14:01:05.001706  axialBlocks()=13
14:01:05.001750  transBlocks()=9
14:01:05.001795  axialCrystals()=8
14:01:05.001840  transCrystals()=8
14:01:05.001884  axialBlockGaps()=0
14:01:05.001929  transBlockGaps()=0
14:01:05.001973  directPlanes()=104
14:01:05.002036  defaultLLD()=400 keV
14:01:05.002081  defaultULD()=650 keV
14:01:05.002125  nCrystalLayers()=2
14:01:05.002173   crystalLayerMaterial(0)=LSO
14:01:05.002245   crystalLayerBackgroundErgRatio(0)=14%
14:01:05.002297   crystalLayerFWHMErgRes(0)=17%
14:01:05.002346   crystalLayerDepth(0)=1cm
14:01:05.002393   crystalLayerMaterial(1)=LYSO
14:01:05.002448   crystalLayerBackgroundErgRatio(1)=14%
14:01:05.002499   crystalLayerFWHMErgRes(1)=17%
14:01:05.002547   crystalLayerDepth(1)=1cm
14:01:05.002594  maxScatterZfOV()=40cm
14:01:05.002633  
14:01:05.039316 processing time 00:00:31.0117 (hh:mm:ss)
14:01:05.039436 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:01:05.039495 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:01:05.039539 memory access pattern: 411 entries
14:01:05.039578  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1694961664
14:01:07	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:01:07	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_sc_ATX.s
14:01:07	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14.s
14:01:07	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14.ch
14:01:07	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:01:07	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.a
14:01:07	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_3D_ATX.i
14:01:07	  Method               : OPO3D
14:01:07	  Positivity constraint in sinogram space
14:01:07	  Max of sensitivity image      : 1.000000e+04
14:01:07	  Threshold for missing data    : 1.000000e-04
14:01:07	  Threshold for image update    : 1.000000e-10
14:01:07	  Maximum of image      	: 10000000000.000000
14:01:07	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:01:07	Model 999 
14:01:07	  Triming 3 planes at segment edges 
14:01:07	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:01:07	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_ra_smo.s , scan duration 240
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 22 iterations (50 msec)
1	628 msec   
2	3234 msec   
3	3507 msec   
4	3245 msec   
5	603 msec   
Smooth Delays computed in 11908 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4582 msec.
Total time 16490 msec.
14:01:23	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.a: attenuation file size 651460608
14:01:23	expected file size 256x288x2209(2209)
14:01:23	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr14.a: attenuation file type 0
14:01:23	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:01:24	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:01:24	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_3D_ATX.i reconstruction started
14:01:24	  Prepare components of update equation from input data ...
14:01:29	  Read normalization and normalize delayed
14:01:29	  Apply normalization mask to prompt sinogram
14:01:33	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:01:58	  Iteration 1 in 84.850 sec
14:02:24	  Iteration 2 in 85.030 sec
14:02:50	  Iteration 3 in 85.210 sec
14:03:14	  Iteration 4 in 85.070 sec
14:03:40	  Iteration 5 in 84.470 sec
14:04:05	  Iteration 6 in 85.260 sec
14:04:30	  Iteration 7 in 85.340 sec
14:04:57	  Iteration 8 in 85.280 sec
14:05:22	  Iteration 9 in 85.480 sec
14:05:48	  Iteration 10 in 86.190 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_3D_ATX.i' complete
14:05:49	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame14_3D_ATX.i reconstruction done in 281 sec
14:05:49.052760 unknown (0x)    memory: 0 MByte
14:05:49.052865 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:05:49.052916 Revision: 275.1
14:05:49.052975 current date and time (GMT): Sat Dec  4 19:05:49 2010
14:05:49.053030 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
14:05:49.053110 free memory in memory controller: 9541.25 MByte
14:05:49.053252 memory access pattern found
14:05:49.053306 free memory in memory controller: 9541.25 MByte
14:05:49.064706 calculate acf for 1 matrix
14:05:49.064762  span=9
14:05:49.064808  maximum ring difference=67
14:05:49.064872  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.i
14:05:49.064926   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.i'
14:05:49.064974    matrix number=0
14:05:49.053289    XYSamples=128
14:05:49.053449    DeltaXY=2.4375mm
14:05:49.053495    ZSamples=207
14:05:49.053540    DeltaZ=1.21875mm
14:05:49.053581    corrections applied=
14:05:49.053621    u-map data=yes
14:05:49.053666    bed position=0mm
14:05:49.053712    scan start time=0 sec
14:05:49.053762    scan frame duration=0 sec (0 min)
14:05:49.053813    scan gate duration=0 sec (0 min)
14:05:49.053858    isotope halflife=0 sec
14:05:49.053901    lld=0 KeV
14:05:49.053944    uld=0 KeV
14:05:49.060398  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
14:05:49.060516  XYSamples=128
14:05:49.060569  DeltaXY=2.4375mm
14:05:49.060606  RhoSamples=256
14:05:49.060645  BinSizeRho=1.21875mm
14:05:49.060682  ThetaSamples=288
14:05:49.060720  plane separation=1.21875mm
14:05:49.060763  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:05:49.060801  subsets=1
14:05:49.060838  axes=1
14:05:49.060883  axis table=207 {207}
14:05:49.060918  algorithm=UW-OSEM
14:05:49.060954  use LUT=no
14:05:49.061114  time of flight bins=1
14:05:49.061156  initialize forward-projector
14:05:49.061195   angles of segment 0
14:05:49.061233    plane 0-206: 0 degrees
14:05:49.061476  start forward projection
14:05:50.003880   start forward projection of subset 0 from 128x128x207 to 256x288x207
14:05:50.003997    project segment 0
14:05:52.036870   finished forward projection of subset 0 in 2.88672 sec
14:05:52.054719   scale 207 planes of sinogram by 0.410256
14:05:52.021103  finished forward projection in 3.02344 sec
14:05:52.021219  convert emission into transmission data
14:05:53.035636  span=9
14:05:53.035758  maximum ring difference=67
14:05:53.035827  iFORE sinogram 1 from 256x288x207 to 256x288x2209
14:05:53.036007   replace values below 1 by 1
14:05:53.057050   copy 207 planes of segment 0
14:05:54.053355   create 360 degrees sinogram (512x576x207)
14:05:54.031776   calculate 3d fourier transform of sinogram
14:05:58.053119   calculate 394 planes of axis 1
14:05:58.033414    calculate fourier projection of axis 1
14:06:02.062090    calculate inverse fourier transform of axis 1
14:06:05.015851    split axis 1 into 2 segments
14:06:05.049639    calculate weighting of axis 1
14:06:07.047829   finished with axis 1
14:06:07.047962   calculate 358 planes of axis 2
14:06:07.009200    calculate fourier projection of axis 2
14:06:10.032165    calculate inverse fourier transform of axis 2
14:06:13.034299    split axis 2 into 2 segments
14:06:14.035946    calculate weighting of axis 2
14:06:15.006432   finished with axis 2
14:06:15.006556   calculate 322 planes of axis 3
14:06:15.021897    calculate fourier projection of axis 3
14:06:18.017670    calculate inverse fourier transform of axis 3
14:06:22.013549    split axis 3 into 2 segments
14:06:22.021678    calculate weighting of axis 3
14:06:23.021606   finished with axis 3
14:06:23.021733   calculate 286 planes of axis 4
14:06:23.027494    calculate fourier projection of axis 4
14:06:26.059797    calculate inverse fourier transform of axis 4
14:06:30.017387    split axis 4 into 2 segments
14:06:30.013228    calculate weighting of axis 4
14:06:31.042152   finished with axis 4
14:06:31.042283   calculate 250 planes of axis 5
14:06:31.035695    calculate fourier projection of axis 5
14:06:34.019966    calculate inverse fourier transform of axis 5
14:06:37.018307    split axis 5 into 2 segments
14:06:37.003421    calculate weighting of axis 5
14:06:38.053513   finished with axis 5
14:06:38.053663   calculate 214 planes of axis 6
14:06:39.020617    calculate fourier projection of axis 6
14:06:41.062293    calculate inverse fourier transform of axis 6
14:06:44.016311    split axis 6 into 2 segments
14:06:44.058175    calculate weighting of axis 6
14:06:45.016945   finished with axis 6
14:06:45.017074   calculate 178 planes of axis 7
14:06:45.056512    calculate fourier projection of axis 7
14:06:48.036718    calculate inverse fourier transform of axis 7
14:06:50.040105    split axis 7 into 2 segments
14:06:50.006074    calculate weighting of axis 7
14:06:50.016022   finished with axis 7
14:06:50.005953  axes=8
14:06:50.006074  axis table=2209 {207,394,358,322,286,250,214,178}
14:06:50.006142  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.a
14:06:50.006223   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.a (matrix 0)
14:06:51.062018   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.h33 (matrix 0)
14:06:51.042523  
14:06:51.042649 gantry model values that may have been used:
14:06:51.042696  model number=328
14:06:51.042742  defaultElements()=256
14:06:51.042802  binSize()=0.121875cm
14:06:51.042848  defaultAngles()=288
14:06:51.042893  planeSep()=0.121875cm
14:06:51.042940  crystalRadius()=23.45cm
14:06:51.042986  sinogramDepthOfInteraction()=0cm
14:06:51.043042  sinogramIntrinsicTilt()=0 degrees
14:06:51.043083  isRingArch()=false
14:06:51.043122  isPETOnlyArch()=true
14:06:51.043165  defPlaneDefSpan3D()=3
14:06:51.043209  defRingDiffMax()=67
14:06:51.043252  bucketsPerRing()=unknown
14:06:51.043296  bucketRings()=1
14:06:51.043340  axialBlocks()=13
14:06:51.043384  transBlocks()=9
14:06:51.043428  axialCrystals()=8
14:06:51.043472  transCrystals()=8
14:06:51.043516  axialBlockGaps()=0
14:06:51.043560  transBlockGaps()=0
14:06:51.043603  directPlanes()=104
14:06:51.043647  defaultLLD()=400 keV
14:06:51.043691  defaultULD()=650 keV
14:06:51.043735  nCrystalLayers()=2
14:06:51.043782   crystalLayerMaterial(0)=LSO
14:06:51.043854   crystalLayerBackgroundErgRatio(0)=12%
14:06:51.043907   crystalLayerFWHMErgRes(0)=17%
14:06:51.043955   crystalLayerDepth(0)=1cm
14:06:51.044003   crystalLayerMaterial(1)=LYSO
14:06:51.044065   crystalLayerBackgroundErgRatio(1)=12%
14:06:51.044117   crystalLayerFWHMErgRes(1)=17%
14:06:51.044165   crystalLayerDepth(1)=1cm
14:06:51.044211  maxScatterZfOV()=40cm
14:06:51.044251  
14:06:51.044309 processing time 00:01:02.1875 (hh:mm:ss)
14:06:51.044375 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:06:51.044433 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:06:51.044479 memory access pattern: 36 entries
14:06:51.044519  
14:06:52.053794 unknown (0x)    memory: 0 MByte
14:06:52.053896 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:06:52.053948 Revision: 275.1
14:06:52.054007 current date and time (GMT): Sat Dec  4 19:06:52 2010
14:06:52.054086 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:06:52.054191 free memory in memory controller: 9541.25 MByte
14:06:52.054348 memory access pattern found
14:06:52.054402 free memory in memory controller: 9541.25 MByte
14:06:52.054467 Default crystalLayerBackgroundErgRatio: 12,12
14:06:52.054529 Specified crystalLayerBackgroundErgRatio: 14,14
14:06:53.032190 calculate sinogram for 1 matrix
14:06:53.032318  loading the 3d emission scan (matrix 0)
14:06:53.032370   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15.tr.s'
14:06:53.032417    matrix number=0
14:06:56.034038    RhoSamples=256
14:06:56.034179    BinSizeRho=1.21875mm
14:06:56.034230    ThetaSamples=288
14:06:56.034277    mash factor=0
14:06:56.034335    plane separation=1.21875mm
14:06:56.034385    axes=8
14:06:56.034451    axis table=2209 {207,394,358,322,286,250,214,178}
14:06:56.034500    span=9
14:06:56.034547    maximum ring difference=67
14:06:56.034595    intrinsic tilt=0 degrees
14:06:56.034645    bed position=0mm
14:06:56.034694    scan start time=0 sec
14:06:56.034748    scan frame duration=0 sec (0 min)
14:06:56.034802    scan gate duration=0 sec (0 min)
14:06:56.034851    isotope halflife=0 sec
14:06:56.034899    lld=400 KeV
14:06:56.034945    uld=650 KeV
14:06:56.034988    corrections applied=
14:06:56.035052  calculating the 3d normalisation scan (matrix 0)
14:06:56.035110   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:06:57.053368    matrix number=0
14:06:57.053485    RhoSamples=256
14:06:57.053541    BinSizeRho=1.21875mm
14:06:57.053582    ThetaSamples=288
14:06:57.053622    mash factor=0
14:06:57.053664    plane separation=1.21875mm
14:06:57.053704    axes=8
14:06:57.053761    axis table=2209 {207,394,358,322,286,250,214,178}
14:06:57.053802    span=9
14:06:57.053841    maximum ring difference=67
14:06:57.053883    intrinsic tilt=0 degrees
14:06:57.053935    bed position=0mm
14:06:57.053978    scan start time=0 sec
14:06:57.054024    scan frame duration=0 sec (0 min)
14:06:57.054074    scan gate duration=0 sec (0 min)
14:06:57.054117    isotope halflife=0 sec
14:06:57.054157    lld=400 KeV
14:06:57.054197    uld=650 KeV
14:06:57.054234    corrections applied=
14:06:57.054278  normalize 3d emission
14:06:57.054317   multiply sinograms
14:06:59.019243  normalization based gap filling
14:06:59.020051    fill 207 planes 8 threads
14:06:59.006999    fill 394 planes 8 threads
14:06:59.014908    fill 358 planes 8 threads
14:06:59.005848    fill 322 planes 8 threads
14:06:59.015916    fill 286 planes 8 threads
14:07:00.034684    fill 250 planes 8 threads
14:07:00.047782    fill 214 planes 8 threads
14:07:00.059032    fill 178 planes 8 threads
14:07:00.047140   bed position in emission=0mm
14:07:00.047321   bed position in u-map=0mm
14:07:00.047413   bed position in acf=0mm
14:07:00.047474  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.i
14:07:00.047527   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.i'
14:07:00.047576    matrix number=0
14:07:00.065283    XYSamples=128
14:07:00.065409    DeltaXY=2.4375mm
14:07:00.065453    ZSamples=207
14:07:00.065498    DeltaZ=1.21875mm
14:07:00.000001    corrections applied=
14:07:00.000041    u-map data=yes
14:07:00.000086    bed position=0mm
14:07:00.000132    scan start time=0 sec
14:07:00.000182    scan frame duration=0 sec (0 min)
14:07:00.000231    scan gate duration=0 sec (0 min)
14:07:00.000277    isotope halflife=0 sec
14:07:00.000321    lld=0 KeV
14:07:00.000363    uld=0 KeV
14:07:00.000407  loading the acf (matrix 0)
14:07:00.000470   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.a'
14:07:00.000521    matrix number=0
14:07:01.003625    RhoSamples=256
14:07:01.003753    BinSizeRho=1.21875mm
14:07:01.003798    ThetaSamples=288
14:07:01.003841    mash factor=0
14:07:01.003886    plane separation=1.21875mm
14:07:01.003930    axes=8
14:07:01.004032    axis table=2209 {207,394,358,322,286,250,214,178}
14:07:01.004085    span=9
14:07:01.004129    maximum ring difference=67
14:07:01.004175    intrinsic tilt=0 degrees
14:07:01.004257    bed position=0mm
14:07:01.004301    scan start time=0 sec
14:07:01.004350    scan frame duration=0 sec (0 min)
14:07:01.004399    scan gate duration=0 sec (0 min)
14:07:01.004443    isotope halflife=0 sec
14:07:01.004486    lld=400 KeV
14:07:01.004526    uld=650 KeV
14:07:01.004563    corrections applied=
14:07:01.004622  replace values below 1 by 1
14:07:01.025514  estimate scatter sinogram
14:07:01.039334   counts in image: min=0  max=0.155689  total=53504.2
14:07:01.039510   start single-slice rebinning from 256x288x2209 to 256x288x207
14:07:01.039551   initialize SSR
14:07:01.039592    RhoSamples=256
14:07:01.039635    ThetaSamples=288
14:07:01.039677    axes=8
14:07:01.039741    axis table=2209 {207,394,358,322,286,250,214,178}
14:07:01.053780    skip 2 planes at each side of a segment
14:07:01.053912    calculate e*n*a of axis 0 (skip 2 border planes)
14:07:01.053961     calculate axis 0 of corrected sinogram
14:07:01.059450    calculate single-slice rebinning of axis 0
14:07:01.059610    ssr 203 planes
14:07:02.033989    calculate e*n*a of axis 1 (skip 2 border planes)
14:07:02.034097     calculate axis 1 of corrected sinogram
14:07:02.006422    calculate single-slice rebinning of axis 1
14:07:02.006549    ssr 193 planes
14:07:02.022035    calculate e*n*a of axis 2 (skip 2 border planes)
14:07:02.022142     calculate axis 2 of corrected sinogram
14:07:02.035124    calculate single-slice rebinning of axis 2
14:07:02.035258    ssr 175 planes
14:07:02.044096    calculate e*n*a of axis 3 (skip 2 border planes)
14:07:02.044204     calculate axis 3 of corrected sinogram
14:07:02.035370    calculate single-slice rebinning of axis 3
14:07:02.035497    ssr 157 planes
14:07:02.036057    calculate e*n*a of axis 4 (skip 2 border planes)
14:07:02.036163     calculate axis 4 of corrected sinogram
14:07:03.056209    calculate single-slice rebinning of axis 4
14:07:03.056353    ssr 139 planes
14:07:03.049699    calculate e*n*a of axis 5 (skip 2 border planes)
14:07:03.049814     calculate axis 5 of corrected sinogram
14:07:03.064045    calculate single-slice rebinning of axis 5
14:07:03.064172    ssr 121 planes
14:07:03.050304    calculate e*n*a of axis 6 (skip 2 border planes)
14:07:03.050408     calculate axis 6 of corrected sinogram
14:07:03.043781    calculate single-slice rebinning of axis 6
14:07:03.043902    ssr 103 planes
14:07:03.022188    calculate e*n*a of axis 7 (skip 2 border planes)
14:07:03.022293     calculate axis 7 of corrected sinogram
14:07:03.060635    calculate single-slice rebinning of axis 7
14:07:03.060758    ssr 85 planes
14:07:03.032024    normalize sinogram
14:07:03.014999   finished single-slice rebinning in 1.97266 sec
14:07:03.015123   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:07:03.015186    XYSamples=128
14:07:03.015230    DeltaXY=2.4375mm
14:07:03.015273    RhoSamples=256
14:07:03.015315    BinSizeRho=1.21875mm
14:07:03.015358    ThetaSamples=288
14:07:03.015401    plane separation=1.21875mm
14:07:03.015464    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:07:03.015509    subsets=8
14:07:03.015550    axes=1
14:07:03.015597    axis table=207 {207}
14:07:03.015638    algorithm=AW-OSEM
14:07:03.015677    use LUT=small
14:07:03.015846    initialize backprojector
14:07:03.015920     angle of segment 0: 0 degrees
14:07:03.016152     create mode 1 lookup-table for backprojector: 63 MByte
14:07:03.007556     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:07:03.057492     start calculation of normalization factors for AW-OSEM
14:07:03.057685      allocate 103.5 MByte for normalization factors
14:07:03.057739      start calculation of normalization factors for subset 0
14:07:03.006855       calculate segment 0, subset 0 of 1/a sinogram
14:07:03.030348       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:07:03.061124      finished calculation of normalization factors for subset 0 in 0.136719 sec
14:07:03.061256      start calculation of normalization factors for subset 1
14:07:03.010598       calculate segment 0, subset 1 of 1/a sinogram
14:07:04.011477       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:07:04.000333      finished calculation of normalization factors for subset 1 in 0.152344 sec
14:07:04.000444      start calculation of normalization factors for subset 2
14:07:04.017363       calculate segment 0, subset 2 of 1/a sinogram
14:07:04.037443       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:07:04.008280      finished calculation of normalization factors for subset 2 in 0.136719 sec
14:07:04.008416      start calculation of normalization factors for subset 3
14:07:04.026473       calculate segment 0, subset 3 of 1/a sinogram
14:07:04.053593       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:07:04.027924      finished calculation of normalization factors for subset 3 in 0.152344 sec
14:07:04.028020      start calculation of normalization factors for subset 4
14:07:04.043817       calculate segment 0, subset 4 of 1/a sinogram
14:07:04.061877       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:07:04.004508      finished calculation of normalization factors for subset 4 in 0.105469 sec
14:07:04.004604      start calculation of normalization factors for subset 5
14:07:04.020198       calculate segment 0, subset 5 of 1/a sinogram
14:07:04.038060       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:07:04.065386      finished calculation of normalization factors for subset 5 in 0.128906 sec
14:07:04.065493      start calculation of normalization factors for subset 6
14:07:04.015329       calculate segment 0, subset 6 of 1/a sinogram
14:07:04.033104       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:07:04.017923      finished calculation of normalization factors for subset 6 in 0.148438 sec
14:07:04.018042      start calculation of normalization factors for subset 7
14:07:04.034643       calculate segment 0, subset 7 of 1/a sinogram
14:07:04.052662       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:07:04.056321      finished calculation of normalization factors for subset 7 in 0.101562 sec
14:07:04.056446     finished calculation of normalization factors in 1.06641 sec
14:07:04.056488    divide sinograms
14:07:05.028380    initialize forward-projector
14:07:05.028513     angles of segment 0
14:07:05.028607      plane 0-206: 0 degrees
14:07:05.028851     create mode 1 lookup-table for forward-projector: 126 MByte
14:07:05.029980     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:07:05.025726     start reconstruction from 256x288x207 to 128x128x207
14:07:05.025854      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:07:05.037000      start iteration 1, subset 0
14:07:05.008537      finished iteration 1, subset 0 in 0.296875 sec
14:07:05.008644      start iteration 1, subset 4
14:07:06.039258      finished iteration 1, subset 4 in 0.246094 sec
14:07:06.039366      start iteration 1, subset 2
14:07:06.009593      finished iteration 1, subset 2 in 0.296875 sec
14:07:06.009698      start iteration 1, subset 6
14:07:06.007615      finished iteration 1, subset 6 in 0.324219 sec
14:07:06.007729      start iteration 1, subset 1
14:07:07.026741      finished iteration 1, subset 1 in 0.363281 sec
14:07:07.026910      start iteration 1, subset 5
14:07:07.009550      finished iteration 1, subset 5 in 0.367188 sec
14:07:07.009705      start iteration 1, subset 3
14:07:07.009764      finished iteration 1, subset 3 in 0.261719 sec
14:07:07.009868      start iteration 1, subset 7
14:07:07.046133      finished iteration 1, subset 7 in 0.234375 sec
14:07:07.046260      start iteration 2, subset 0
14:07:08.010553      finished iteration 2, subset 0 in 0.308594 sec
14:07:08.010668      start iteration 2, subset 4
14:07:08.057442      finished iteration 2, subset 4 in 0.308594 sec
14:07:08.057558      start iteration 2, subset 2
14:07:08.020472      finished iteration 2, subset 2 in 0.355469 sec
14:07:08.020576      start iteration 2, subset 6
14:07:09.007847      finished iteration 2, subset 6 in 0.203125 sec
14:07:09.007948      start iteration 2, subset 1
14:07:09.050228      finished iteration 2, subset 1 in 0.433594 sec
14:07:09.050347      start iteration 2, subset 5
14:07:09.042847      finished iteration 2, subset 5 in 0.253906 sec
14:07:09.042950      start iteration 2, subset 3
14:07:10.043983      finished iteration 2, subset 3 in 0.214844 sec
14:07:10.044100      start iteration 2, subset 7
14:07:10.054210      finished iteration 2, subset 7 in 0.273438 sec
14:07:10.054344      start iteration 3, subset 0
14:07:10.064340      finished iteration 3, subset 0 in 0.207031 sec
14:07:10.064447      start iteration 3, subset 4
14:07:10.023286      finished iteration 3, subset 4 in 0.21875 sec
14:07:10.023391      start iteration 3, subset 2
14:07:10.040063      finished iteration 3, subset 2 in 0.210938 sec
14:07:10.040187      start iteration 3, subset 6
14:07:11.032234      finished iteration 3, subset 6 in 0.273438 sec
14:07:11.032337      start iteration 3, subset 1
14:07:11.055616      finished iteration 3, subset 1 in 0.21875 sec
14:07:11.055722      start iteration 3, subset 5
14:07:11.004640      finished iteration 3, subset 5 in 0.210938 sec
14:07:11.004741      start iteration 3, subset 3
14:07:11.055338      finished iteration 3, subset 3 in 0.3125 sec
14:07:11.055442      start iteration 3, subset 7
14:07:12.064994      finished iteration 3, subset 7 in 0.289062 sec
14:07:12.065195      mask 207 planes of image
14:07:12.016232      scale image with 1.21875
14:07:12.023011      scale image with 4
14:07:12.029871     finished reconstruction in 6.74219 sec
14:07:12.029964     forward projector: 3.44922 sec
14:07:12.030007     backprojector: 2.26953 sec
14:07:12.044088   finished reconstruction of emission in 8.57031 sec
14:07:12.044202   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:07:12.047916   scale image by 4.10256
14:07:12.064501   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:07:12.064620   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:07:12.064690   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:07:12.064751   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:07:12.064789   start scatter estimation
14:07:12.064843    calculate matrix for beta-spline interpolation
14:07:12.008638    start scatter simulation
14:07:12.008710     effective detector ring radius=234.5mm (234.5mm+0mm)
14:07:12.008772     DeltaXY=2.4375mm
14:07:12.008815     DeltaZ=1.21875mm
14:07:12.008868     LLD=400 keV
14:07:12.008911     ULD=650 keV
14:07:12.018444     search bounds of object in u-map
14:07:12.043725     x bounds (-x,+x)=-93.8413mm,84.0913mm
14:07:12.043840     y bounds (-y,+y)=-103.591mm,135.279mm
14:07:12.043890     z bounds (-z,+z)=-55.4519mm,126.139mm
14:07:12.043941     length of axial scatter fov=363.178mm (max. 363.178mm)
14:07:12.043991     scatter samples (x,y,z)=8,11,16
14:07:12.044043     image size (x,y,z)=177.933mm,238.87mm,363.178mm
14:07:12.044096     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.6986mm
14:07:12.024819     start simulation of scatter sinogram (19x34x10)
14:07:12.025088      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:07:12.025178      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:07:12.025357      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:07:12.025489      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:07:12.025573      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:07:12.025654      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:07:12.025797      thread 3: 492 samples in plane 2 inside of object (plane 50 of full sinogram)
14:07:12.025878      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:07:12.025983      thread 1: 324 samples in plane 0 inside of object (plane 8 of full sinogram)
14:07:12.026060      thread 7: 506 samples in plane 6 inside of object (plane 134 of full sinogram)
14:07:12.030152      thread 2: 405 samples in plane 1 inside of object (plane 29 of full sinogram)
14:07:12.030311      thread 6: 513 samples in plane 5 inside of object (plane 113 of full sinogram)
14:07:12.040277      thread 4: 511 samples in plane 3 inside of object (plane 71 of full sinogram)
14:07:12.043336      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:07:12.043679      thread 8: 513 samples in plane 8 inside of object (plane 176 of full sinogram)
14:07:12.045256      thread 5: 514 samples in plane 4 inside of object (plane 92 of full sinogram)
14:07:12.027470      thread 7: 515 samples in plane 7 inside of object (plane 155 of full sinogram)
14:07:12.042997      thread 8: 505 samples in plane 9 inside of object (plane 197 of full sinogram)
14:07:12.036621     finished simulation of scatter sinogram
14:07:12.049236    finished scatter simulation in 0.234375 sec
14:07:12.049347    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:07:13.009058   finished scatter estimation in 1.46875 sec
14:07:13.009145   convert 2d scatter sinogram into 3d sinogram
14:07:13.009190   calculate axial scatter scale factors (smoothed with boxcar 17)
14:07:13.009257    acf threshold=1.03
14:07:14.044258    calculate scale factors for segment 0
14:07:14.044374    scatter size 256x288x207
14:07:14.025468     apply lower and upper thresholds 0.25 and 2
14:07:14.025583    calculate scale factors for segment +1
14:07:14.025640    scatter size 256x288x197
14:07:14.048900     apply lower and upper thresholds 0.25 and 2
14:07:14.049001    calculate scale factors for segment -1
14:07:14.049056    scatter size 256x288x197
14:07:14.004996     apply lower and upper thresholds 0.25 and 2
14:07:14.005099    calculate scale factors for segment +2
14:07:14.005155    scatter size 256x288x179
14:07:14.011517     apply lower and upper thresholds 0.25 and 2
14:07:14.011622    calculate scale factors for segment -2
14:07:14.011678    scatter size 256x288x179
14:07:14.014834     apply lower and upper thresholds 0.25 and 2
14:07:14.014936    calculate scale factors for segment +3
14:07:14.014990    scatter size 256x288x161
14:07:15.054395     apply lower and upper thresholds 0.25 and 2
14:07:15.054499    calculate scale factors for segment -3
14:07:15.054562    scatter size 256x288x161
14:07:15.042573     apply lower and upper thresholds 0.25 and 2
14:07:15.042684    calculate scale factors for segment +4
14:07:15.042739    scatter size 256x288x143
14:07:15.017871     apply lower and upper thresholds 0.25 and 2
14:07:15.017973    calculate scale factors for segment -4
14:07:15.018029    scatter size 256x288x143
14:07:15.056288     apply lower and upper thresholds 0.25 and 2
14:07:15.056392    calculate scale factors for segment +5
14:07:15.056447    scatter size 256x288x125
14:07:15.016253     apply lower and upper thresholds 0.25 and 2
14:07:15.016353    calculate scale factors for segment -5
14:07:15.016408    scatter size 256x288x125
14:07:15.040021     apply lower and upper thresholds 0.25 and 2
14:07:15.040121    calculate scale factors for segment +6
14:07:15.040176    scatter size 256x288x107
14:07:15.051074     apply lower and upper thresholds 0.25 and 2
14:07:15.051174    calculate scale factors for segment -6
14:07:15.051228    scatter size 256x288x107
14:07:15.060234     apply lower and upper thresholds 0.25 and 2
14:07:15.060337    calculate scale factors for segment +7
14:07:15.060394    scatter size 256x288x89
14:07:15.056596     apply lower and upper thresholds 0.25 and 2
14:07:15.056701    calculate scale factors for segment -7
14:07:15.056756    scatter size 256x288x89
14:07:15.054294     apply lower and upper thresholds 0.25 and 2
14:07:23.020836   scatter fraction at first pass=41.293%
14:07:23.012382  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_sc_ATX.s
14:07:23.012540   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_sc_ATX.s (matrix 0)
14:07:24.015134   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_sc_ATX.h33 (matrix 0)
14:07:24.015481  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_sc_ATX.s
14:07:24.026344  
14:07:24.026441 gantry model values that may have been used:
14:07:24.026485  model number=328
14:07:24.026529  defaultElements()=256
14:07:24.026584  binSize()=0.121875cm
14:07:24.026627  defaultAngles()=288
14:07:24.026695  planeSep()=0.121875cm
14:07:24.026741  crystalRadius()=23.45cm
14:07:24.026784  sinogramDepthOfInteraction()=0cm
14:07:24.026830  sinogramIntrinsicTilt()=0 degrees
14:07:24.026868  isRingArch()=false
14:07:24.026904  isPETOnlyArch()=true
14:07:24.026946  defPlaneDefSpan3D()=3
14:07:24.026988  defRingDiffMax()=67
14:07:24.027029  bucketsPerRing()=unknown
14:07:24.027071  bucketRings()=1
14:07:24.027113  axialBlocks()=13
14:07:24.027154  transBlocks()=9
14:07:24.027196  axialCrystals()=8
14:07:24.027238  transCrystals()=8
14:07:24.027280  axialBlockGaps()=0
14:07:24.027321  transBlockGaps()=0
14:07:24.027365  directPlanes()=104
14:07:24.027407  defaultLLD()=400 keV
14:07:24.027449  defaultULD()=650 keV
14:07:24.027491  nCrystalLayers()=2
14:07:24.027536   crystalLayerMaterial(0)=LSO
14:07:24.027606   crystalLayerBackgroundErgRatio(0)=14%
14:07:24.027661   crystalLayerFWHMErgRes(0)=17%
14:07:24.027709   crystalLayerDepth(0)=1cm
14:07:24.027754   crystalLayerMaterial(1)=LYSO
14:07:24.027807   crystalLayerBackgroundErgRatio(1)=14%
14:07:24.027857   crystalLayerFWHMErgRes(1)=17%
14:07:24.027903   crystalLayerDepth(1)=1cm
14:07:24.027948  maxScatterZfOV()=40cm
14:07:24.027985  
14:07:24.065276 processing time 00:00:31.1562 (hh:mm:ss)
14:07:24.065390 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:07:24.065445 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:07:24.065487 memory access pattern: 411 entries
14:07:24.065525  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1695199232
14:07:25	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:07:25	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_sc_ATX.s
14:07:25	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15.s
14:07:25	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15.ch
14:07:25	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:07:25	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.a
14:07:25	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_3D_ATX.i
14:07:25	  Method               : OPO3D
14:07:25	  Positivity constraint in sinogram space
14:07:25	  Max of sensitivity image      : 1.000000e+04
14:07:25	  Threshold for missing data    : 1.000000e-04
14:07:25	  Threshold for image update    : 1.000000e-10
14:07:25	  Maximum of image      	: 10000000000.000000
14:07:25	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:07:25	Model 999 
14:07:25	  Triming 3 planes at segment edges 
14:07:25	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:07:25	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_ra_smo.s , scan duration 240
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 21 iterations (49 msec)
1	577 msec   
2	3304 msec   
3	3435 msec   
4	3182 msec   
5	612 msec   
Smooth Delays computed in 11812 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4614 msec.
Total time 16426 msec.
14:07:42	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.a: attenuation file size 651460608
14:07:42	expected file size 256x288x2209(2209)
14:07:42	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr15.a: attenuation file type 0
14:07:42	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:07:42	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:07:42	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_3D_ATX.i reconstruction started
14:07:42	  Prepare components of update equation from input data ...
14:07:46	  Read normalization and normalize delayed
14:07:46	  Apply normalization mask to prompt sinogram
14:07:50	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:08:15	  Iteration 1 in 85.110 sec
14:08:41	  Iteration 2 in 85.110 sec
14:09:06	  Iteration 3 in 84.970 sec
14:09:31	  Iteration 4 in 85.990 sec
14:09:57	  Iteration 5 in 84.960 sec
14:10:24	  Iteration 6 in 86.010 sec
14:10:49	  Iteration 7 in 86.330 sec
14:11:15	  Iteration 8 in 85.140 sec
14:11:41	  Iteration 9 in 85.040 sec
14:12:07	  Iteration 10 in 84.630 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_3D_ATX.i' complete
14:12:08	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame15_3D_ATX.i reconstruction done in 282 sec
14:12:09.021279 unknown (0x)    memory: 0 MByte
14:12:09.021381 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:12:09.021434 Revision: 275.1
14:12:09.021507 current date and time (GMT): Sat Dec  4 19:12:09 2010
14:12:09.021562 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
14:12:09.021641 free memory in memory controller: 9541.25 MByte
14:12:09.021782 memory access pattern found
14:12:09.021844 free memory in memory controller: 9541.25 MByte
14:12:09.033167 calculate acf for 1 matrix
14:12:09.033230  span=9
14:12:09.033276  maximum ring difference=67
14:12:09.033340  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.i
14:12:09.033395   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.i'
14:12:09.033442    matrix number=0
14:12:09.024417    XYSamples=128
14:12:09.024541    DeltaXY=2.4375mm
14:12:09.024586    ZSamples=207
14:12:09.024631    DeltaZ=1.21875mm
14:12:09.024681    corrections applied=
14:12:09.024722    u-map data=yes
14:12:09.024766    bed position=0mm
14:12:09.024811    scan start time=0 sec
14:12:09.024874    scan frame duration=0 sec (0 min)
14:12:09.024923    scan gate duration=0 sec (0 min)
14:12:09.024968    isotope halflife=0 sec
14:12:09.025011    lld=0 KeV
14:12:09.025053    uld=0 KeV
14:12:09.031517  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
14:12:09.031644  XYSamples=128
14:12:09.031759  DeltaXY=2.4375mm
14:12:09.031802  RhoSamples=256
14:12:09.031847  BinSizeRho=1.21875mm
14:12:09.031890  ThetaSamples=288
14:12:09.031934  plane separation=1.21875mm
14:12:09.031983  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:12:09.032027  subsets=1
14:12:09.032069  axes=1
14:12:09.032120  axis table=207 {207}
14:12:09.032161  algorithm=UW-OSEM
14:12:09.032200  use LUT=no
14:12:09.032386  time of flight bins=1
14:12:09.032434  initialize forward-projector
14:12:09.032478   angles of segment 0
14:12:09.032521    plane 0-206: 0 degrees
14:12:09.032788  start forward projection
14:12:09.060985   start forward projection of subset 0 from 128x128x207 to 256x288x207
14:12:09.061107    project segment 0
14:12:11.052987   finished forward projection of subset 0 in 2.38281 sec
14:12:11.005334   scale 207 planes of sinogram by 0.410256
14:12:11.035196  finished forward projection in 2.52734 sec
14:12:11.035311  convert emission into transmission data
14:12:12.046329  span=9
14:12:12.046457  maximum ring difference=67
14:12:12.046525  iFORE sinogram 1 from 256x288x207 to 256x288x2209
14:12:12.046705   replace values below 1 by 1
14:12:12.002331   copy 207 planes of segment 0
14:12:12.015760   create 360 degrees sinogram (512x576x207)
14:12:13.041055   calculate 3d fourier transform of sinogram
14:12:17.064022   calculate 394 planes of axis 1
14:12:17.043575    calculate fourier projection of axis 1
14:12:20.043399    calculate inverse fourier transform of axis 1
14:12:24.055728    split axis 1 into 2 segments
14:12:24.018833    calculate weighting of axis 1
14:12:25.029589   finished with axis 1
14:12:25.029717   calculate 358 planes of axis 2
14:12:26.046583    calculate fourier projection of axis 2
14:12:29.058174    calculate inverse fourier transform of axis 2
14:12:32.000539    split axis 2 into 2 segments
14:12:32.020064    calculate weighting of axis 2
14:12:33.050525   finished with axis 2
14:12:33.050652   calculate 322 planes of axis 3
14:12:34.050873    calculate fourier projection of axis 3
14:12:37.001612    calculate inverse fourier transform of axis 3
14:12:40.029153    split axis 3 into 2 segments
14:12:40.035909    calculate weighting of axis 3
14:12:41.030598   finished with axis 3
14:12:41.030726   calculate 286 planes of axis 4
14:12:42.017674    calculate fourier projection of axis 4
14:12:44.014102    calculate inverse fourier transform of axis 4
14:12:48.000893    split axis 4 into 2 segments
14:12:48.060799    calculate weighting of axis 4
14:12:49.016196   finished with axis 4
14:12:49.016329   calculate 250 planes of axis 5
14:12:49.014618    calculate fourier projection of axis 5
14:12:52.008942    calculate inverse fourier transform of axis 5
14:12:56.041895    split axis 5 into 2 segments
14:12:56.026315    calculate weighting of axis 5
14:12:57.007059   finished with axis 5
14:12:57.007186   calculate 214 planes of axis 6
14:12:57.058082    calculate fourier projection of axis 6
14:13:00.001153    calculate inverse fourier transform of axis 6
14:13:03.007843    split axis 6 into 2 segments
14:13:03.055464    calculate weighting of axis 6
14:13:04.015953   finished with axis 6
14:13:04.016078   calculate 178 planes of axis 7
14:13:04.057608    calculate fourier projection of axis 7
14:13:07.023819    calculate inverse fourier transform of axis 7
14:13:09.051048    split axis 7 into 2 segments
14:13:09.015943    calculate weighting of axis 7
14:13:10.005643   finished with axis 7
14:13:10.061863  axes=8
14:13:10.061989  axis table=2209 {207,394,358,322,286,250,214,178}
14:13:10.062054  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.a
14:13:10.062118   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.a (matrix 0)
14:13:11.008998   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.h33 (matrix 0)
14:13:11.059277  
14:13:11.059398 gantry model values that may have been used:
14:13:11.059444  model number=328
14:13:11.059491  defaultElements()=256
14:13:11.059551  binSize()=0.121875cm
14:13:11.059596  defaultAngles()=288
14:13:11.059641  planeSep()=0.121875cm
14:13:11.059688  crystalRadius()=23.45cm
14:13:11.059734  sinogramDepthOfInteraction()=0cm
14:13:11.059781  sinogramIntrinsicTilt()=0 degrees
14:13:11.059821  isRingArch()=false
14:13:11.059860  isPETOnlyArch()=true
14:13:11.059903  defPlaneDefSpan3D()=3
14:13:11.059948  defRingDiffMax()=67
14:13:11.059991  bucketsPerRing()=unknown
14:13:11.060035  bucketRings()=1
14:13:11.060087  axialBlocks()=13
14:13:11.060131  transBlocks()=9
14:13:11.060175  axialCrystals()=8
14:13:11.060219  transCrystals()=8
14:13:11.060263  axialBlockGaps()=0
14:13:11.060417  transBlockGaps()=0
14:13:11.060461  directPlanes()=104
14:13:11.060506  defaultLLD()=400 keV
14:13:11.060549  defaultULD()=650 keV
14:13:11.060593  nCrystalLayers()=2
14:13:11.060640   crystalLayerMaterial(0)=LSO
14:13:11.060714   crystalLayerBackgroundErgRatio(0)=12%
14:13:11.060766   crystalLayerFWHMErgRes(0)=17%
14:13:11.060815   crystalLayerDepth(0)=1cm
14:13:11.060862   crystalLayerMaterial(1)=LYSO
14:13:11.060917   crystalLayerBackgroundErgRatio(1)=12%
14:13:11.060968   crystalLayerFWHMErgRes(1)=17%
14:13:11.061017   crystalLayerDepth(1)=1cm
14:13:11.061070  maxScatterZfOV()=40cm
14:13:11.061111  
14:13:11.061169 processing time 00:01:02.36719 (hh:mm:ss)
14:13:11.061235 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:13:11.061292 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:13:11.061337 memory access pattern: 36 entries
14:13:11.061376  
14:13:12.005406 unknown (0x)    memory: 0 MByte
14:13:14.052247 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:13:14.052305 Revision: 275.1
14:13:14.052394 current date and time (GMT): Sat Dec  4 19:13:14 2010
14:13:14.052461 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:13:14.052565 free memory in memory controller: 9541.25 MByte
14:13:14.052728 memory access pattern found
14:13:14.052785 free memory in memory controller: 9541.25 MByte
14:13:14.052855 Default crystalLayerBackgroundErgRatio: 12,12
14:13:14.052919 Specified crystalLayerBackgroundErgRatio: 14,14
14:13:14.016292 calculate sinogram for 1 matrix
14:13:14.016401  loading the 3d emission scan (matrix 0)
14:13:14.016455   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16.tr.s'
14:13:14.016504    matrix number=0
14:13:17.063664    RhoSamples=256
14:13:17.063829    BinSizeRho=1.21875mm
14:13:17.063882    ThetaSamples=288
14:13:17.063928    mash factor=0
14:13:17.063976    plane separation=1.21875mm
14:13:17.064022    axes=8
14:13:17.064088    axis table=2209 {207,394,358,322,286,250,214,178}
14:13:17.064135    span=9
14:13:17.064180    maximum ring difference=67
14:13:17.064231    intrinsic tilt=0 degrees
14:13:17.064278    bed position=0mm
14:13:17.064326    scan start time=0 sec
14:13:17.064378    scan frame duration=0 sec (0 min)
14:13:17.064430    scan gate duration=0 sec (0 min)
14:13:17.064478    isotope halflife=0 sec
14:13:17.064523    lld=400 KeV
14:13:17.064568    uld=650 KeV
14:13:17.064609    corrections applied=
14:13:17.064672  calculating the 3d normalisation scan (matrix 0)
14:13:17.064729   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:13:17.025780    matrix number=0
14:13:17.025900    RhoSamples=256
14:13:17.025955    BinSizeRho=1.21875mm
14:13:17.025996    ThetaSamples=288
14:13:17.026065    mash factor=0
14:13:17.026105    plane separation=1.21875mm
14:13:17.026142    axes=8
14:13:17.026196    axis table=2209 {207,394,358,322,286,250,214,178}
14:13:17.026251    span=9
14:13:17.026287    maximum ring difference=67
14:13:17.026325    intrinsic tilt=0 degrees
14:13:17.026364    bed position=0mm
14:13:17.026402    scan start time=0 sec
14:13:17.026444    scan frame duration=0 sec (0 min)
14:13:17.026486    scan gate duration=0 sec (0 min)
14:13:17.026525    isotope halflife=0 sec
14:13:17.026562    lld=400 KeV
14:13:17.026598    uld=650 KeV
14:13:17.026631    corrections applied=
14:13:17.026672  normalize 3d emission
14:13:17.026707   multiply sinograms
14:13:19.040294  normalization based gap filling
14:13:19.041093    fill 207 planes 8 threads
14:13:19.039040    fill 394 planes 8 threads
14:13:19.013386    fill 358 planes 8 threads
14:13:19.059940    fill 322 planes 8 threads
14:13:20.051689    fill 286 planes 8 threads
14:13:20.044988    fill 250 planes 8 threads
14:13:20.060912    fill 214 planes 8 threads
14:13:20.057755    fill 178 planes 8 threads
14:13:20.013917   bed position in emission=0mm
14:13:20.014092   bed position in u-map=0mm
14:13:20.014183   bed position in acf=0mm
14:13:20.014251  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.i
14:13:20.014303   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.i'
14:13:20.014348    matrix number=0
14:13:21.015748    XYSamples=128
14:13:21.015871    DeltaXY=2.4375mm
14:13:21.015913    ZSamples=207
14:13:21.015954    DeltaZ=1.21875mm
14:13:21.015992    corrections applied=
14:13:21.016028    u-map data=yes
14:13:21.016068    bed position=0mm
14:13:21.016110    scan start time=0 sec
14:13:21.016157    scan frame duration=0 sec (0 min)
14:13:21.016202    scan gate duration=0 sec (0 min)
14:13:21.016244    isotope halflife=0 sec
14:13:21.016318    lld=0 KeV
14:13:21.016358    uld=0 KeV
14:13:21.016398  loading the acf (matrix 0)
14:13:21.016447   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.a'
14:13:21.016491    matrix number=0
14:13:21.024856    RhoSamples=256
14:13:21.024978    BinSizeRho=1.21875mm
14:13:21.025019    ThetaSamples=288
14:13:21.025059    mash factor=0
14:13:21.025100    plane separation=1.21875mm
14:13:21.025141    axes=8
14:13:21.025200    axis table=2209 {207,394,358,322,286,250,214,178}
14:13:21.025262    span=9
14:13:21.025302    maximum ring difference=67
14:13:21.025344    intrinsic tilt=0 degrees
14:13:21.025386    bed position=0mm
14:13:21.025428    scan start time=0 sec
14:13:21.025474    scan frame duration=0 sec (0 min)
14:13:21.025519    scan gate duration=0 sec (0 min)
14:13:21.025561    isotope halflife=0 sec
14:13:21.025601    lld=400 KeV
14:13:21.025640    uld=650 KeV
14:13:21.025676    corrections applied=
14:13:21.025735  replace values below 1 by 1
14:13:22.029048  estimate scatter sinogram
14:13:22.042804   counts in image: min=0  max=0.155761  total=53507
14:13:22.042965   start single-slice rebinning from 256x288x2209 to 256x288x207
14:13:22.043006   initialize SSR
14:13:22.043046    RhoSamples=256
14:13:22.043086    ThetaSamples=288
14:13:22.043125    axes=8
14:13:22.043185    axis table=2209 {207,394,358,322,286,250,214,178}
14:13:22.042553    skip 2 planes at each side of a segment
14:13:22.042675    calculate e*n*a of axis 0 (skip 2 border planes)
14:13:22.042720     calculate axis 0 of corrected sinogram
14:13:22.035995    calculate single-slice rebinning of axis 0
14:13:22.036120    ssr 203 planes
14:13:22.026344    calculate e*n*a of axis 1 (skip 2 border planes)
14:13:22.026448     calculate axis 1 of corrected sinogram
14:13:22.060873    calculate single-slice rebinning of axis 1
14:13:22.060999    ssr 193 planes
14:13:22.010737    calculate e*n*a of axis 2 (skip 2 border planes)
14:13:22.010838     calculate axis 2 of corrected sinogram
14:13:22.023070    calculate single-slice rebinning of axis 2
14:13:22.023194    ssr 175 planes
14:13:22.031107    calculate e*n*a of axis 3 (skip 2 border planes)
14:13:22.031210     calculate axis 3 of corrected sinogram
14:13:23.006597    calculate single-slice rebinning of axis 3
14:13:23.006726    ssr 157 planes
14:13:23.007670    calculate e*n*a of axis 4 (skip 2 border planes)
14:13:23.007772     calculate axis 4 of corrected sinogram
14:13:23.043992    calculate single-slice rebinning of axis 4
14:13:23.044119    ssr 139 planes
14:13:23.037547    calculate e*n*a of axis 5 (skip 2 border planes)
14:13:23.037667     calculate axis 5 of corrected sinogram
14:13:23.052670    calculate single-slice rebinning of axis 5
14:13:23.052792    ssr 121 planes
14:13:23.038737    calculate e*n*a of axis 6 (skip 2 border planes)
14:13:23.038840     calculate axis 6 of corrected sinogram
14:13:23.032570    calculate single-slice rebinning of axis 6
14:13:23.032690    ssr 103 planes
14:13:23.011206    calculate e*n*a of axis 7 (skip 2 border planes)
14:13:23.011312     calculate axis 7 of corrected sinogram
14:13:23.049894    calculate single-slice rebinning of axis 7
14:13:23.050020    ssr 85 planes
14:13:23.021134    normalize sinogram
14:13:23.004049   finished single-slice rebinning in 1.94531 sec
14:13:23.004171   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:13:23.004246    XYSamples=128
14:13:23.004292    DeltaXY=2.4375mm
14:13:23.004334    RhoSamples=256
14:13:23.004377    BinSizeRho=1.21875mm
14:13:23.004418    ThetaSamples=288
14:13:23.004461    plane separation=1.21875mm
14:13:23.004510    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:13:23.004553    subsets=8
14:13:23.004592    axes=1
14:13:23.004638    axis table=207 {207}
14:13:23.004677    algorithm=AW-OSEM
14:13:23.004716    use LUT=small
14:13:23.004886    initialize backprojector
14:13:23.004958     angle of segment 0: 0 degrees
14:13:23.005190     create mode 1 lookup-table for backprojector: 63 MByte
14:13:24.045233     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:13:24.029705     start calculation of normalization factors for AW-OSEM
14:13:24.029917      allocate 103.5 MByte for normalization factors
14:13:24.029970      start calculation of normalization factors for subset 0
14:13:24.044651       calculate segment 0, subset 0 of 1/a sinogram
14:13:24.002619       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:13:24.036824      finished calculation of normalization factors for subset 0 in 0.140625 sec
14:13:24.036947      start calculation of normalization factors for subset 1
14:13:24.060529       calculate segment 0, subset 1 of 1/a sinogram
14:13:24.015082       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:13:24.031439      finished calculation of normalization factors for subset 1 in 0.125 sec
14:13:24.031532      start calculation of normalization factors for subset 2
14:13:24.046434       calculate segment 0, subset 2 of 1/a sinogram
14:13:24.064045       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:13:24.061283      finished calculation of normalization factors for subset 2 in 0.09375 sec
14:13:24.061384      start calculation of normalization factors for subset 3
14:13:24.010884       calculate segment 0, subset 3 of 1/a sinogram
14:13:24.028793       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:13:24.028157      finished calculation of normalization factors for subset 3 in 0.0976562 sec
14:13:24.028257      start calculation of normalization factors for subset 4
14:13:24.043302       calculate segment 0, subset 4 of 1/a sinogram
14:13:24.061057       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:13:24.064888      finished calculation of normalization factors for subset 4 in 0.167969 sec
14:13:24.065016      start calculation of normalization factors for subset 5
14:13:24.015906       calculate segment 0, subset 5 of 1/a sinogram
14:13:24.039370       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:13:24.023025      finished calculation of normalization factors for subset 5 in 0.15625 sec
14:13:24.023149      start calculation of normalization factors for subset 6
14:13:24.038692       calculate segment 0, subset 6 of 1/a sinogram
14:13:24.056623       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:13:25.030705      finished calculation of normalization factors for subset 6 in 0.15625 sec
14:13:25.030798      start calculation of normalization factors for subset 7
14:13:25.047053       calculate segment 0, subset 7 of 1/a sinogram
14:13:25.065348       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:13:25.033684      finished calculation of normalization factors for subset 7 in 0.199219 sec
14:13:25.033829     finished calculation of normalization factors in 1.13672 sec
14:13:25.033870    divide sinograms
14:13:25.010035    initialize forward-projector
14:13:25.010168     angles of segment 0
14:13:25.010212      plane 0-206: 0 degrees
14:13:25.010453     create mode 1 lookup-table for forward-projector: 126 MByte
14:13:25.036574     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:13:25.003903     start reconstruction from 256x288x207 to 128x128x207
14:13:25.004033      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:13:25.015278      start iteration 1, subset 0
14:13:26.036066      finished iteration 1, subset 0 in 0.300781 sec
14:13:26.036169      start iteration 1, subset 4
14:13:26.032043      finished iteration 1, subset 4 in 0.324219 sec
14:13:26.032152      start iteration 1, subset 2
14:13:26.042899      finished iteration 1, subset 2 in 0.273438 sec
14:13:26.043015      start iteration 1, subset 6
14:13:27.014885      finished iteration 1, subset 6 in 0.316406 sec
14:13:27.015011      start iteration 1, subset 1
14:13:27.028774      finished iteration 1, subset 1 in 0.273438 sec
14:13:27.028900      start iteration 1, subset 5
14:13:27.059965      finished iteration 1, subset 5 in 0.359375 sec
14:13:27.060088      start iteration 1, subset 3
14:13:27.015884      finished iteration 1, subset 3 in 0.285156 sec
14:13:27.015996      start iteration 1, subset 7
14:13:28.041915      finished iteration 1, subset 7 in 0.304688 sec
14:13:28.042069      start iteration 2, subset 0
14:13:28.048111      finished iteration 2, subset 0 in 0.324219 sec
14:13:28.048212      start iteration 2, subset 4
14:13:29.055000      finished iteration 2, subset 4 in 0.417969 sec
14:13:29.055123      start iteration 2, subset 2
14:13:29.052097      finished iteration 2, subset 2 in 0.257812 sec
14:13:29.052221      start iteration 2, subset 6
14:13:29.031105      finished iteration 2, subset 6 in 0.308594 sec
14:13:29.031216      start iteration 2, subset 1
14:13:29.055825      finished iteration 2, subset 1 in 0.285156 sec
14:13:29.055931      start iteration 2, subset 5
14:13:30.043116      finished iteration 2, subset 5 in 0.269531 sec
14:13:30.043224      start iteration 2, subset 3
14:13:30.006552      finished iteration 2, subset 3 in 0.222656 sec
14:13:30.006660      start iteration 2, subset 7
14:13:30.025658      finished iteration 2, subset 7 in 0.28125 sec
14:13:30.025773      start iteration 3, subset 0
14:13:30.004188      finished iteration 3, subset 0 in 0.308594 sec
14:13:30.004294      start iteration 3, subset 4
14:13:31.061112      finished iteration 3, subset 4 in 0.402344 sec
14:13:31.061227      start iteration 3, subset 2
14:13:31.053000      finished iteration 3, subset 2 in 0.316406 sec
14:13:31.053107      start iteration 3, subset 6
14:13:31.003414      finished iteration 3, subset 6 in 0.28125 sec
14:13:31.003531      start iteration 3, subset 1
14:13:32.027346      finished iteration 3, subset 1 in 0.300781 sec
14:13:32.027451      start iteration 3, subset 5
14:13:32.054717      finished iteration 3, subset 5 in 0.222656 sec
14:13:32.054823      start iteration 3, subset 3
14:13:32.049504      finished iteration 3, subset 3 in 0.257812 sec
14:13:32.049617      start iteration 3, subset 7
14:13:33.021906      finished iteration 3, subset 7 in 0.316406 sec
14:13:33.022074      mask 207 planes of image
14:13:33.036504      scale image with 1.21875
14:13:33.043024      scale image with 4
14:13:33.049840     finished reconstruction in 7.26172 sec
14:13:33.049935     forward projector: 3.76562 sec
14:13:33.049980     backprojector: 2.46875 sec
14:13:33.060555   finished reconstruction of emission in 9.13672 sec
14:13:33.060644   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:13:33.057904   scale image by 4.10256
14:13:33.009103   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:13:33.009228   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:13:33.009299   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:13:33.009361   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:13:33.009399   start scatter estimation
14:13:33.009452    calculate matrix for beta-spline interpolation
14:13:33.019044    start scatter simulation
14:13:33.019125     effective detector ring radius=234.5mm (234.5mm+0mm)
14:13:33.019171     DeltaXY=2.4375mm
14:13:33.019213     DeltaZ=1.21875mm
14:13:33.019266     LLD=400 keV
14:13:33.019311     ULD=650 keV
14:13:33.028842     search bounds of object in u-map
14:13:33.054144     x bounds (-x,+x)=-93.8413mm,84.0913mm
14:13:33.054281     y bounds (-y,+y)=-103.591mm,135.279mm
14:13:33.003700     z bounds (-z,+z)=-55.4519mm,126.139mm
14:13:33.003762     length of axial scatter fov=363.178mm (max. 363.178mm)
14:13:33.003820     scatter samples (x,y,z)=8,11,16
14:13:33.003881     image size (x,y,z)=177.933mm,238.87mm,363.178mm
14:13:33.003946     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.6986mm
14:13:33.055127     start simulation of scatter sinogram (19x34x10)
14:13:33.055357      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:13:33.055421      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:13:33.055501      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:13:33.055604      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:13:33.055704      thread 2: 405 samples in plane 1 inside of object (plane 29 of full sinogram)
14:13:33.055770      thread 3: 493 samples in plane 2 inside of object (plane 50 of full sinogram)
14:13:33.055860      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:13:33.056042      thread 1: 320 samples in plane 0 inside of object (plane 8 of full sinogram)
14:13:33.056124      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:13:33.056296      thread 6: 515 samples in plane 5 inside of object (plane 113 of full sinogram)
14:13:33.056374      thread 8: 513 samples in plane 8 inside of object (plane 176 of full sinogram)
14:13:33.062852      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:13:33.063275      thread 5: 515 samples in plane 4 inside of object (plane 92 of full sinogram)
14:13:33.018469      thread 4: 512 samples in plane 3 inside of object (plane 71 of full sinogram)
14:13:33.035753      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:13:33.035957      thread 7: 506 samples in plane 6 inside of object (plane 134 of full sinogram)
14:13:33.062461      thread 8: 506 samples in plane 9 inside of object (plane 197 of full sinogram)
14:13:33.030183      thread 7: 515 samples in plane 7 inside of object (plane 155 of full sinogram)
14:13:33.023005     finished simulation of scatter sinogram
14:13:33.035191    finished scatter simulation in 0.277344 sec
14:13:33.035324    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:13:34.059043   finished scatter estimation in 1.50781 sec
14:13:34.059128   convert 2d scatter sinogram into 3d sinogram
14:13:34.059173   calculate axial scatter scale factors (smoothed with boxcar 17)
14:13:34.059237    acf threshold=1.03
14:13:35.016496    calculate scale factors for segment 0
14:13:35.016600    scatter size 256x288x207
14:13:35.049536     apply lower and upper thresholds 0.25 and 2
14:13:35.049667    calculate scale factors for segment +1
14:13:35.049721    scatter size 256x288x197
14:13:35.006530     apply lower and upper thresholds 0.25 and 2
14:13:35.006631    calculate scale factors for segment -1
14:13:35.006684    scatter size 256x288x197
14:13:35.025909     apply lower and upper thresholds 0.25 and 2
14:13:35.026014    calculate scale factors for segment +2
14:13:35.026070    scatter size 256x288x179
14:13:35.030879     apply lower and upper thresholds 0.25 and 2
14:13:35.030980    calculate scale factors for segment -2
14:13:35.031035    scatter size 256x288x179
14:13:35.033305     apply lower and upper thresholds 0.25 and 2
14:13:35.033411    calculate scale factors for segment +3
14:13:35.033466    scatter size 256x288x161
14:13:35.023501     apply lower and upper thresholds 0.25 and 2
14:13:35.023602    calculate scale factors for segment -3
14:13:35.023658    scatter size 256x288x161
14:13:35.014470     apply lower and upper thresholds 0.25 and 2
14:13:35.014576    calculate scale factors for segment +4
14:13:35.014692    scatter size 256x288x143
14:13:36.038489     apply lower and upper thresholds 0.25 and 2
14:13:36.038589    calculate scale factors for segment -4
14:13:36.038644    scatter size 256x288x143
14:13:36.011413     apply lower and upper thresholds 0.25 and 2
14:13:36.011515    calculate scale factors for segment +5
14:13:36.011571    scatter size 256x288x125
14:13:36.037595     apply lower and upper thresholds 0.25 and 2
14:13:36.037696    calculate scale factors for segment -5
14:13:36.037751    scatter size 256x288x125
14:13:36.060911     apply lower and upper thresholds 0.25 and 2
14:13:36.061048    calculate scale factors for segment +6
14:13:36.061105    scatter size 256x288x107
14:13:36.006035     apply lower and upper thresholds 0.25 and 2
14:13:36.006134    calculate scale factors for segment -6
14:13:36.006189    scatter size 256x288x107
14:13:36.014396     apply lower and upper thresholds 0.25 and 2
14:13:36.014494    calculate scale factors for segment +7
14:13:36.014549    scatter size 256x288x89
14:13:36.010093     apply lower and upper thresholds 0.25 and 2
14:13:36.010191    calculate scale factors for segment -7
14:13:36.010246    scatter size 256x288x89
14:13:36.004534     apply lower and upper thresholds 0.25 and 2
14:13:44.021635   scatter fraction at first pass=41.4569%
14:13:44.015240  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_sc_ATX.s
14:13:44.015368   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_sc_ATX.s (matrix 0)
14:13:45.020802   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_sc_ATX.h33 (matrix 0)
14:13:45.021174  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_sc_ATX.s
14:13:45.033764  
14:13:45.033867 gantry model values that may have been used:
14:13:45.033912  model number=328
14:13:45.033957  defaultElements()=256
14:13:45.034013  binSize()=0.121875cm
14:13:45.034058  defaultAngles()=288
14:13:45.034111  planeSep()=0.121875cm
14:13:45.034157  crystalRadius()=23.45cm
14:13:45.034202  sinogramDepthOfInteraction()=0cm
14:13:45.034249  sinogramIntrinsicTilt()=0 degrees
14:13:45.034302  isRingArch()=false
14:13:45.034340  isPETOnlyArch()=true
14:13:45.034383  defPlaneDefSpan3D()=3
14:13:45.034427  defRingDiffMax()=67
14:13:45.034469  bucketsPerRing()=unknown
14:13:45.034513  bucketRings()=1
14:13:45.034556  axialBlocks()=13
14:13:45.034599  transBlocks()=9
14:13:45.034642  axialCrystals()=8
14:13:45.034685  transCrystals()=8
14:13:45.034728  axialBlockGaps()=0
14:13:45.034771  transBlockGaps()=0
14:13:45.034814  directPlanes()=104
14:13:45.034857  defaultLLD()=400 keV
14:13:45.034901  defaultULD()=650 keV
14:13:45.034944  nCrystalLayers()=2
14:13:45.034990   crystalLayerMaterial(0)=LSO
14:13:45.035062   crystalLayerBackgroundErgRatio(0)=14%
14:13:45.035113   crystalLayerFWHMErgRes(0)=17%
14:13:45.035161   crystalLayerDepth(0)=1cm
14:13:45.035207   crystalLayerMaterial(1)=LYSO
14:13:45.035286   crystalLayerBackgroundErgRatio(1)=14%
14:13:45.035336   crystalLayerFWHMErgRes(1)=17%
14:13:45.035381   crystalLayerDepth(1)=1cm
14:13:45.035425  maxScatterZfOV()=40cm
14:13:45.035461  
14:13:45.008572 processing time 00:00:30.8242 (hh:mm:ss)
14:13:45.008688 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:13:45.008743 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:13:45.008785 memory access pattern: 411 entries
14:13:45.008821  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1699885056
14:13:46	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:13:46	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_sc_ATX.s
14:13:46	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16.s
14:13:46	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16.ch
14:13:46	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:13:46	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.a
14:13:46	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_3D_ATX.i
14:13:46	  Method               : OPO3D
14:13:46	  Positivity constraint in sinogram space
14:13:46	  Max of sensitivity image      : 1.000000e+04
14:13:46	  Threshold for missing data    : 1.000000e-04
14:13:46	  Threshold for image update    : 1.000000e-10
14:13:46	  Maximum of image      	: 10000000000.000000
14:13:46	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:13:46	Model 999 
14:13:46	  Triming 3 planes at segment edges 
14:13:46	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:13:46	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_ra_smo.s , scan duration 240
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 20 iterations (47 msec)
1	611 msec   
2	3414 msec   
3	3571 msec   
4	3229 msec   
5	625 msec   
Smooth Delays computed in 12152 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4671 msec.
Total time 16823 msec.
14:14:03	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.a: attenuation file size 651460608
14:14:03	expected file size 256x288x2209(2209)
14:14:03	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr16.a: attenuation file type 0
14:14:03	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:14:04	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:14:04	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_3D_ATX.i reconstruction started
14:14:04	  Prepare components of update equation from input data ...
14:14:08	  Read normalization and normalize delayed
14:14:08	  Apply normalization mask to prompt sinogram
14:14:11	  Preparation done in 7 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:14:37	  Iteration 1 in 84.260 sec
14:15:02	  Iteration 2 in 84.990 sec
14:15:27	  Iteration 3 in 86.080 sec
14:15:53	  Iteration 4 in 85.580 sec
14:16:20	  Iteration 5 in 84.890 sec
14:16:45	  Iteration 6 in 84.900 sec
14:17:11	  Iteration 7 in 86.290 sec
14:17:37	  Iteration 8 in 85.760 sec
14:18:03	  Iteration 9 in 86.530 sec
14:18:28	  Iteration 10 in 85.070 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_3D_ATX.i' complete
14:18:29	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame16_3D_ATX.i reconstruction done in 282 sec
14:18:30.063726 unknown (0x)    memory: 0 MByte
14:18:30.063827 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:18:30.063878 Revision: 275.1
14:18:30.063935 current date and time (GMT): Sat Dec  4 19:18:30 2010
14:18:30.063991 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
14:18:30.064072 free memory in memory controller: 9541.25 MByte
14:18:30.064214 memory access pattern found
14:18:30.064269 free memory in memory controller: 9541.25 MByte
14:18:30.006370 calculate acf for 1 matrix
14:18:30.006461  span=9
14:18:30.006508  maximum ring difference=67
14:18:30.006573  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.i
14:18:30.006636   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.i'
14:18:30.006684    matrix number=0
14:18:30.057826    XYSamples=128
14:18:30.057955    DeltaXY=2.4375mm
14:18:30.058002    ZSamples=207
14:18:30.058047    DeltaZ=1.21875mm
14:18:30.058088    corrections applied=
14:18:30.058156    u-map data=yes
14:18:30.058202    bed position=0mm
14:18:30.058248    scan start time=0 sec
14:18:30.058298    scan frame duration=0 sec (0 min)
14:18:30.058347    scan gate duration=0 sec (0 min)
14:18:30.058392    isotope halflife=0 sec
14:18:30.058435    lld=0 KeV
14:18:30.058477    uld=0 KeV
14:18:30.065023  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
14:18:30.065181  XYSamples=128
14:18:30.065242  DeltaXY=2.4375mm
14:18:30.065286  RhoSamples=256
14:18:30.065330  BinSizeRho=1.21875mm
14:18:30.065372  ThetaSamples=288
14:18:30.065416  plane separation=1.21875mm
14:18:30.065466  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:18:30.065509  subsets=1
14:18:30.000015  axes=1
14:18:30.000068  axis table=207 {207}
14:18:30.000108  algorithm=UW-OSEM
14:18:30.000149  use LUT=no
14:18:30.000336  time of flight bins=1
14:18:30.000384  initialize forward-projector
14:18:30.000429   angles of segment 0
14:18:30.000472    plane 0-206: 0 degrees
14:18:30.000740  start forward projection
14:18:30.027333   start forward projection of subset 0 from 128x128x207 to 256x288x207
14:18:30.027458    project segment 0
14:18:33.018547   finished forward projection of subset 0 in 2.53516 sec
14:18:33.036883   scale 207 planes of sinogram by 0.410256
14:18:33.001370  finished forward projection in 2.67188 sec
14:18:33.001476  convert emission into transmission data
14:18:33.032173  span=9
14:18:33.032294  maximum ring difference=67
14:18:33.032362  iFORE sinogram 1 from 256x288x207 to 256x288x2209
14:18:33.032539   replace values below 1 by 1
14:18:33.053559   copy 207 planes of segment 0
14:18:34.049941   create 360 degrees sinogram (512x576x207)
14:18:34.028272   calculate 3d fourier transform of sinogram
14:18:38.018477   calculate 394 planes of axis 1
14:18:38.063833    calculate fourier projection of axis 1
14:18:42.010617    calculate inverse fourier transform of axis 1
14:18:45.006663    split axis 1 into 2 segments
14:18:45.038008    calculate weighting of axis 1
14:18:46.050201   finished with axis 1
14:18:46.050332   calculate 358 planes of axis 2
14:18:46.015302    calculate fourier projection of axis 2
14:18:49.055713    calculate inverse fourier transform of axis 2
14:18:53.050126    split axis 2 into 2 segments
14:18:53.014112    calculate weighting of axis 2
14:18:54.057071   finished with axis 2
14:18:54.057201   calculate 322 planes of axis 3
14:18:54.009862    calculate fourier projection of axis 3
14:18:57.043540    calculate inverse fourier transform of axis 3
14:19:00.020641    split axis 3 into 2 segments
14:19:01.012845    calculate weighting of axis 3
14:19:01.029029   finished with axis 3
14:19:01.029157   calculate 286 planes of axis 4
14:19:02.017744    calculate fourier projection of axis 4
14:19:05.055535    calculate inverse fourier transform of axis 4
14:19:08.026538    split axis 4 into 2 segments
14:19:08.023971    calculate weighting of axis 4
14:19:09.050235   finished with axis 4
14:19:09.050369   calculate 250 planes of axis 5
14:19:09.042479    calculate fourier projection of axis 5
14:19:12.053281    calculate inverse fourier transform of axis 5
14:19:15.045955    split axis 5 into 2 segments
14:19:16.014369    calculate weighting of axis 5
14:19:16.015150   finished with axis 5
14:19:16.015273   calculate 214 planes of axis 6
14:19:17.048469    calculate fourier projection of axis 6
14:19:19.031348    calculate inverse fourier transform of axis 6
14:19:22.018644    split axis 6 into 2 segments
14:19:22.005667    calculate weighting of axis 6
14:19:23.039610   finished with axis 6
14:19:23.039730   calculate 178 planes of axis 7
14:19:23.018269    calculate fourier projection of axis 7
14:19:26.058125    calculate inverse fourier transform of axis 7
14:19:28.017427    split axis 7 into 2 segments
14:19:28.004703    calculate weighting of axis 7
14:19:29.065137   finished with axis 7
14:19:29.055711  axes=8
14:19:29.055831  axis table=2209 {207,394,358,322,286,250,214,178}
14:19:29.055897  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.a
14:19:29.055983   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.a (matrix 0)
14:19:30.055334   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.h33 (matrix 0)
14:19:30.041325  
14:19:30.041466 gantry model values that may have been used:
14:19:30.041513  model number=328
14:19:30.041559  defaultElements()=256
14:19:30.041619  binSize()=0.121875cm
14:19:30.041664  defaultAngles()=288
14:19:30.041708  planeSep()=0.121875cm
14:19:30.041755  crystalRadius()=23.45cm
14:19:30.041800  sinogramDepthOfInteraction()=0cm
14:19:30.041848  sinogramIntrinsicTilt()=0 degrees
14:19:30.041888  isRingArch()=false
14:19:30.041926  isPETOnlyArch()=true
14:19:30.041970  defPlaneDefSpan3D()=3
14:19:30.042014  defRingDiffMax()=67
14:19:30.042056  bucketsPerRing()=unknown
14:19:30.042101  bucketRings()=1
14:19:30.042145  axialBlocks()=13
14:19:30.042188  transBlocks()=9
14:19:30.042232  axialCrystals()=8
14:19:30.042276  transCrystals()=8
14:19:30.042327  axialBlockGaps()=0
14:19:30.042376  transBlockGaps()=0
14:19:30.042421  directPlanes()=104
14:19:30.042464  defaultLLD()=400 keV
14:19:30.042509  defaultULD()=650 keV
14:19:30.042552  nCrystalLayers()=2
14:19:30.042599   crystalLayerMaterial(0)=LSO
14:19:30.042672   crystalLayerBackgroundErgRatio(0)=12%
14:19:30.042724   crystalLayerFWHMErgRes(0)=17%
14:19:30.042772   crystalLayerDepth(0)=1cm
14:19:30.042819   crystalLayerMaterial(1)=LYSO
14:19:30.042874   crystalLayerBackgroundErgRatio(1)=12%
14:19:30.042925   crystalLayerFWHMErgRes(1)=17%
14:19:30.042973   crystalLayerDepth(1)=1cm
14:19:30.043020  maxScatterZfOV()=40cm
14:19:30.043059  
14:19:30.043118 processing time 00:01:00.238281 (hh:mm:ss)
14:19:30.043205 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:19:30.043260 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:19:30.043302 memory access pattern: 36 entries
14:19:30.043348  
14:19:31.030157 unknown (0x)    memory: 0 MByte
14:19:31.030265 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:19:31.030316 Revision: 275.1
14:19:31.030381 current date and time (GMT): Sat Dec  4 19:19:31 2010
14:19:31.030449 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:19:31.030540 free memory in memory controller: 9541.25 MByte
14:19:31.030700 memory access pattern found
14:19:31.030756 free memory in memory controller: 9541.25 MByte
14:19:31.030825 Default crystalLayerBackgroundErgRatio: 12,12
14:19:31.030891 Specified crystalLayerBackgroundErgRatio: 14,14
14:19:32.025090 calculate sinogram for 1 matrix
14:19:32.025208  loading the 3d emission scan (matrix 0)
14:19:32.025263   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17.tr.s'
14:19:32.025312    matrix number=0
14:19:35.063841    RhoSamples=256
14:19:35.063977    BinSizeRho=1.21875mm
14:19:35.064027    ThetaSamples=288
14:19:35.064074    mash factor=0
14:19:35.064123    plane separation=1.21875mm
14:19:35.064171    axes=8
14:19:35.064238    axis table=2209 {207,394,358,322,286,250,214,178}
14:19:35.064286    span=9
14:19:35.064332    maximum ring difference=67
14:19:35.064381    intrinsic tilt=0 degrees
14:19:35.064429    bed position=0mm
14:19:35.064478    scan start time=0 sec
14:19:35.064531    scan frame duration=0 sec (0 min)
14:19:35.064585    scan gate duration=0 sec (0 min)
14:19:35.064634    isotope halflife=0 sec
14:19:35.064680    lld=400 KeV
14:19:35.064726    uld=650 KeV
14:19:35.064784    corrections applied=
14:19:35.064856  calculating the 3d normalisation scan (matrix 0)
14:19:35.064915   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:19:35.014619    matrix number=0
14:19:35.014729    RhoSamples=256
14:19:35.014782    BinSizeRho=1.21875mm
14:19:35.014823    ThetaSamples=288
14:19:35.014875    mash factor=0
14:19:35.014916    plane separation=1.21875mm
14:19:35.014956    axes=8
14:19:35.015012    axis table=2209 {207,394,358,322,286,250,214,178}
14:19:35.015052    span=9
14:19:35.015091    maximum ring difference=67
14:19:35.015131    intrinsic tilt=0 degrees
14:19:35.015172    bed position=0mm
14:19:35.015213    scan start time=0 sec
14:19:35.015257    scan frame duration=0 sec (0 min)
14:19:35.015303    scan gate duration=0 sec (0 min)
14:19:35.015344    isotope halflife=0 sec
14:19:35.015382    lld=400 KeV
14:19:35.015421    uld=650 KeV
14:19:35.015457    corrections applied=
14:19:35.015501  normalize 3d emission
14:19:35.015539   multiply sinograms
14:19:37.046579  normalization based gap filling
14:19:37.047396    fill 207 planes 8 threads
14:19:37.032526    fill 394 planes 8 threads
14:19:37.015216    fill 358 planes 8 threads
14:19:38.039448    fill 322 planes 8 threads
14:19:38.040077    fill 286 planes 8 threads
14:19:38.041071    fill 250 planes 8 threads
14:19:38.053102    fill 214 planes 8 threads
14:19:39.030863    fill 178 planes 8 threads
14:19:39.031047   bed position in emission=0mm
14:19:39.031224   bed position in u-map=0mm
14:19:39.031332   bed position in acf=0mm
14:19:39.031405  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.i
14:19:39.031470   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.i'
14:19:39.031527    matrix number=0
14:19:39.050587    XYSamples=128
14:19:39.050711    DeltaXY=2.4375mm
14:19:39.050756    ZSamples=207
14:19:39.050801    DeltaZ=1.21875mm
14:19:39.050840    corrections applied=
14:19:39.050901    u-map data=yes
14:19:39.050943    bed position=0mm
14:19:39.050985    scan start time=0 sec
14:19:39.051032    scan frame duration=0 sec (0 min)
14:19:39.051077    scan gate duration=0 sec (0 min)
14:19:39.051119    isotope halflife=0 sec
14:19:39.051160    lld=0 KeV
14:19:39.051199    uld=0 KeV
14:19:39.051239  loading the acf (matrix 0)
14:19:39.051289   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.a'
14:19:39.051333    matrix number=0
14:19:40.048667    RhoSamples=256
14:19:40.048789    BinSizeRho=1.21875mm
14:19:40.048831    ThetaSamples=288
14:19:40.048870    mash factor=0
14:19:40.048911    plane separation=1.21875mm
14:19:40.048952    axes=8
14:19:40.049011    axis table=2209 {207,394,358,322,286,250,214,178}
14:19:40.049055    span=9
14:19:40.049094    maximum ring difference=67
14:19:40.049149    intrinsic tilt=0 degrees
14:19:40.049191    bed position=0mm
14:19:40.049233    scan start time=0 sec
14:19:40.049279    scan frame duration=0 sec (0 min)
14:19:40.049325    scan gate duration=0 sec (0 min)
14:19:40.049366    isotope halflife=0 sec
14:19:40.049407    lld=400 KeV
14:19:40.049447    uld=650 KeV
14:19:40.049483    corrections applied=
14:19:40.049541  replace values below 1 by 1
14:19:40.004522  estimate scatter sinogram
14:19:40.018340   counts in image: min=0  max=0.156066  total=53492.2
14:19:40.026196   start single-slice rebinning from 256x288x2209 to 256x288x207
14:19:40.026251   initialize SSR
14:19:40.026293    RhoSamples=256
14:19:40.026332    ThetaSamples=288
14:19:40.026372    axes=8
14:19:40.026431    axis table=2209 {207,394,358,322,286,250,214,178}
14:19:40.033809    skip 2 planes at each side of a segment
14:19:40.033933    calculate e*n*a of axis 0 (skip 2 border planes)
14:19:40.033980     calculate axis 0 of corrected sinogram
14:19:40.033349    calculate single-slice rebinning of axis 0
14:19:40.033487    ssr 203 planes
14:19:40.023043    calculate e*n*a of axis 1 (skip 2 border planes)
14:19:40.023145     calculate axis 1 of corrected sinogram
14:19:40.000894    calculate single-slice rebinning of axis 1
14:19:40.001021    ssr 193 planes
14:19:40.017059    calculate e*n*a of axis 2 (skip 2 border planes)
14:19:40.017177     calculate axis 2 of corrected sinogram
14:19:41.013064    calculate single-slice rebinning of axis 2
14:19:41.013183    ssr 175 planes
14:19:41.022534    calculate e*n*a of axis 3 (skip 2 border planes)
14:19:41.022637     calculate axis 3 of corrected sinogram
14:19:41.016645    calculate single-slice rebinning of axis 3
14:19:41.016770    ssr 157 planes
14:19:41.019249    calculate e*n*a of axis 4 (skip 2 border planes)
14:19:41.019354     calculate axis 4 of corrected sinogram
14:19:41.057983    calculate single-slice rebinning of axis 4
14:19:41.058108    ssr 139 planes
14:19:41.053131    calculate e*n*a of axis 5 (skip 2 border planes)
14:19:41.053244     calculate axis 5 of corrected sinogram
14:19:41.005413    calculate single-slice rebinning of axis 5
14:19:41.005556    ssr 121 planes
14:19:41.059036    calculate e*n*a of axis 6 (skip 2 border planes)
14:19:41.059138     calculate axis 6 of corrected sinogram
14:19:42.037862    calculate single-slice rebinning of axis 6
14:19:42.037986    ssr 103 planes
14:19:42.017280    calculate e*n*a of axis 7 (skip 2 border planes)
14:19:42.017383     calculate axis 7 of corrected sinogram
14:19:42.058110    calculate single-slice rebinning of axis 7
14:19:42.058232    ssr 85 planes
14:19:42.030405    normalize sinogram
14:19:42.015288   finished single-slice rebinning in 1.98828 sec
14:19:42.015410   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:19:42.015471    XYSamples=128
14:19:42.015515    DeltaXY=2.4375mm
14:19:42.015556    RhoSamples=256
14:19:42.015598    BinSizeRho=1.21875mm
14:19:42.015638    ThetaSamples=288
14:19:42.015679    plane separation=1.21875mm
14:19:42.015727    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:19:42.015770    subsets=8
14:19:42.015809    axes=1
14:19:42.015871    axis table=207 {207}
14:19:42.015909    algorithm=AW-OSEM
14:19:42.015948    use LUT=small
14:19:42.016133    initialize backprojector
14:19:42.016206     angle of segment 0: 0 degrees
14:19:42.016437     create mode 1 lookup-table for backprojector: 63 MByte
14:19:42.008472     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:19:42.059398     start calculation of normalization factors for AW-OSEM
14:19:42.059600      allocate 103.5 MByte for normalization factors
14:19:42.059653      start calculation of normalization factors for subset 0
14:19:42.008961       calculate segment 0, subset 0 of 1/a sinogram
14:19:42.032945       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:19:42.050200      finished calculation of normalization factors for subset 0 in 0.121094 sec
14:19:42.050305      start calculation of normalization factors for subset 1
14:19:42.064989       calculate segment 0, subset 1 of 1/a sinogram
14:19:42.017247       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:19:42.063937      finished calculation of normalization factors for subset 1 in 0.144531 sec
14:19:42.064033      start calculation of normalization factors for subset 2
14:19:42.013354       calculate segment 0, subset 2 of 1/a sinogram
14:19:42.031321       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:19:42.029542      finished calculation of normalization factors for subset 2 in 0.0976562 sec
14:19:42.029641      start calculation of normalization factors for subset 3
14:19:42.044751       calculate segment 0, subset 3 of 1/a sinogram
14:19:42.062948       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:19:42.056263      finished calculation of normalization factors for subset 3 in 0.0898438 sec
14:19:42.056370      start calculation of normalization factors for subset 4
14:19:42.005641       calculate segment 0, subset 4 of 1/a sinogram
14:19:42.023816       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:19:42.016454      finished calculation of normalization factors for subset 4 in 0.0898438 sec
14:19:42.016577      start calculation of normalization factors for subset 5
14:19:43.016370       calculate segment 0, subset 5 of 1/a sinogram
14:19:43.034102       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:19:43.014703      finished calculation of normalization factors for subset 5 in 0.0820312 sec
14:19:43.014798      start calculation of normalization factors for subset 6
14:19:43.031253       calculate segment 0, subset 6 of 1/a sinogram
14:19:43.048998       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:19:43.000294      finished calculation of normalization factors for subset 6 in 0.179688 sec
14:19:43.000400      start calculation of normalization factors for subset 7
14:19:43.017201       calculate segment 0, subset 7 of 1/a sinogram
14:19:43.035130       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:19:43.051496      finished calculation of normalization factors for subset 7 in 0.117188 sec
14:19:43.051633     finished calculation of normalization factors in 0.925781 sec
14:19:43.051673    divide sinograms
14:19:43.026275    initialize forward-projector
14:19:43.026405     angles of segment 0
14:19:43.026449      plane 0-206: 0 degrees
14:19:43.026691     create mode 1 lookup-table for forward-projector: 126 MByte
14:19:43.004137     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:19:44.006168     start reconstruction from 256x288x207 to 128x128x207
14:19:44.006305      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:19:44.017795      start iteration 1, subset 0
14:19:44.061009      finished iteration 1, subset 0 in 0.304688 sec
14:19:44.061117      start iteration 1, subset 4
14:19:44.015840      finished iteration 1, subset 4 in 0.214844 sec
14:19:44.015944      start iteration 1, subset 2
14:19:44.025616      finished iteration 1, subset 2 in 0.273438 sec
14:19:44.025744      start iteration 1, subset 6
14:19:45.011702      finished iteration 1, subset 6 in 0.332031 sec
14:19:45.011807      start iteration 1, subset 1
14:19:45.062114      finished iteration 1, subset 1 in 0.246094 sec
14:19:45.062264      start iteration 1, subset 5
14:19:45.034078      finished iteration 1, subset 5 in 0.289062 sec
14:19:45.034179      start iteration 1, subset 3
14:19:45.060051      finished iteration 1, subset 3 in 0.285156 sec
14:19:45.060172      start iteration 1, subset 7
14:19:46.049801      finished iteration 1, subset 7 in 0.269531 sec
14:19:46.049940      start iteration 2, subset 0
14:19:46.003397      finished iteration 2, subset 0 in 0.214844 sec
14:19:46.003501      start iteration 2, subset 4
14:19:46.050523      finished iteration 2, subset 4 in 0.246094 sec
14:19:46.050628      start iteration 2, subset 2
14:19:46.013566      finished iteration 2, subset 2 in 0.289062 sec
14:19:46.013668      start iteration 2, subset 6
14:19:47.035511      finished iteration 2, subset 6 in 0.234375 sec
14:19:47.035616      start iteration 2, subset 1
14:19:47.062573      finished iteration 2, subset 1 in 0.289062 sec
14:19:47.062700      start iteration 2, subset 5
14:19:47.037184      finished iteration 2, subset 5 in 0.300781 sec
14:19:47.037288      start iteration 2, subset 3
14:19:48.048916      finished iteration 2, subset 3 in 0.289062 sec
14:19:48.049020      start iteration 2, subset 7
14:19:48.000199      finished iteration 2, subset 7 in 0.214844 sec
14:19:48.000315      start iteration 3, subset 0
14:19:48.028439      finished iteration 3, subset 0 in 0.222656 sec
14:19:48.028543      start iteration 3, subset 4
14:19:48.004630      finished iteration 3, subset 4 in 0.300781 sec
14:19:48.004739      start iteration 3, subset 2
14:19:49.028596      finished iteration 3, subset 2 in 0.304688 sec
14:19:49.028694      start iteration 3, subset 6
14:19:49.061016      finished iteration 3, subset 6 in 0.359375 sec
14:19:49.061128      start iteration 3, subset 1
14:19:49.060745      finished iteration 3, subset 1 in 0.261719 sec
14:19:49.060850      start iteration 3, subset 5
14:19:50.047685      finished iteration 3, subset 5 in 0.265625 sec
14:19:50.047790      start iteration 3, subset 3
14:19:50.035821      finished iteration 3, subset 3 in 0.25 sec
14:19:50.035924      start iteration 3, subset 7
14:19:50.042596      finished iteration 3, subset 7 in 0.269531 sec
14:19:50.042738      mask 207 planes of image
14:19:50.063940      scale image with 1.21875
14:19:50.004827      scale image with 4
14:19:50.011535     finished reconstruction in 6.59375 sec
14:19:50.011629     forward projector: 3.17969 sec
14:19:50.011672     backprojector: 2.40625 sec
14:19:50.021297   finished reconstruction of emission in 8.26562 sec
14:19:50.021388   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:19:50.020741   scale image by 4.10256
14:19:50.038440   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:19:50.038557   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:19:50.038627   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:19:50.038688   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:19:50.038726   start scatter estimation
14:19:50.038778    calculate matrix for beta-spline interpolation
14:19:50.048148    start scatter simulation
14:19:50.048220     effective detector ring radius=234.5mm (234.5mm+0mm)
14:19:50.048263     DeltaXY=2.4375mm
14:19:50.048306     DeltaZ=1.21875mm
14:19:50.048357     LLD=400 keV
14:19:50.048400     ULD=650 keV
14:19:50.057999     search bounds of object in u-map
14:19:50.017917     x bounds (-x,+x)=-93.8413mm,84.0913mm
14:19:50.018042     y bounds (-y,+y)=-103.591mm,135.279mm
14:19:50.018090     z bounds (-z,+z)=-55.4519mm,124.921mm
14:19:50.018141     length of axial scatter fov=360.74mm (max. 360.74mm)
14:19:50.018192     scatter samples (x,y,z)=8,11,16
14:19:50.018244     image size (x,y,z)=177.933mm,238.87mm,360.74mm
14:19:50.018311     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.5463mm
14:19:50.064710     start simulation of scatter sinogram (19x34x10)
14:19:50.065018      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:19:50.065113      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:19:50.065302      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:19:50.065375      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:19:50.065466      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:19:50.000091      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:19:50.000173      thread 1: 319 samples in plane 0 inside of object (plane 8 of full sinogram)
14:19:50.000245      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:19:50.000335      thread 3: 490 samples in plane 2 inside of object (plane 50 of full sinogram)
14:19:50.000408      thread 2: 404 samples in plane 1 inside of object (plane 29 of full sinogram)
14:19:50.000496      thread 4: 513 samples in plane 3 inside of object (plane 71 of full sinogram)
14:19:50.010379      thread 5: 517 samples in plane 4 inside of object (plane 92 of full sinogram)
14:19:50.010611      thread 6: 514 samples in plane 5 inside of object (plane 113 of full sinogram)
14:19:50.017807      thread 7: 513 samples in plane 6 inside of object (plane 134 of full sinogram)
14:19:50.026248      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:19:50.026430      thread 8: 517 samples in plane 8 inside of object (plane 176 of full sinogram)
14:19:51.015409      thread 7: 520 samples in plane 7 inside of object (plane 155 of full sinogram)
14:19:51.050157      thread 8: 512 samples in plane 9 inside of object (plane 197 of full sinogram)
14:19:51.043480     finished simulation of scatter sinogram
14:19:51.056637    finished scatter simulation in 0.351562 sec
14:19:51.056762    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:19:52.019813   finished scatter estimation in 1.58984 sec
14:19:52.019931   convert 2d scatter sinogram into 3d sinogram
14:19:52.019976   calculate axial scatter scale factors (smoothed with boxcar 17)
14:19:52.020043    acf threshold=1.03
14:19:52.056924    calculate scale factors for segment 0
14:19:52.057034    scatter size 256x288x207
14:19:52.033177     apply lower and upper thresholds 0.25 and 2
14:19:52.033291    calculate scale factors for segment +1
14:19:52.033348    scatter size 256x288x197
14:19:52.056017     apply lower and upper thresholds 0.25 and 2
14:19:52.056119    calculate scale factors for segment -1
14:19:52.056175    scatter size 256x288x197
14:19:53.061224     apply lower and upper thresholds 0.25 and 2
14:19:53.061332    calculate scale factors for segment +2
14:19:53.061389    scatter size 256x288x179
14:19:53.000589     apply lower and upper thresholds 0.25 and 2
14:19:53.000694    calculate scale factors for segment -2
14:19:53.000750    scatter size 256x288x179
14:19:53.002090     apply lower and upper thresholds 0.25 and 2
14:19:53.002194    calculate scale factors for segment +3
14:19:53.002250    scatter size 256x288x161
14:19:53.057275     apply lower and upper thresholds 0.25 and 2
14:19:53.057380    calculate scale factors for segment -3
14:19:53.057436    scatter size 256x288x161
14:19:53.044148     apply lower and upper thresholds 0.25 and 2
14:19:53.044251    calculate scale factors for segment +4
14:19:53.044307    scatter size 256x288x143
14:19:53.022302     apply lower and upper thresholds 0.25 and 2
14:19:53.022426    calculate scale factors for segment -4
14:19:53.022493    scatter size 256x288x143
14:19:53.062237     apply lower and upper thresholds 0.25 and 2
14:19:53.062340    calculate scale factors for segment +5
14:19:53.062395    scatter size 256x288x125
14:19:53.025745     apply lower and upper thresholds 0.25 and 2
14:19:53.025849    calculate scale factors for segment -5
14:19:53.025905    scatter size 256x288x125
14:19:53.048602     apply lower and upper thresholds 0.25 and 2
14:19:53.048706    calculate scale factors for segment +6
14:19:53.048762    scatter size 256x288x107
14:19:54.020404     apply lower and upper thresholds 0.25 and 2
14:19:54.020514    calculate scale factors for segment -6
14:19:54.020570    scatter size 256x288x107
14:19:54.029166     apply lower and upper thresholds 0.25 and 2
14:19:54.029268    calculate scale factors for segment +7
14:19:54.029324    scatter size 256x288x89
14:19:54.025018     apply lower and upper thresholds 0.25 and 2
14:19:54.025116    calculate scale factors for segment -7
14:19:54.025172    scatter size 256x288x89
14:19:54.018714     apply lower and upper thresholds 0.25 and 2
14:20:01.023082   scatter fraction at first pass=41.1721%
14:20:02.010110  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_sc_ATX.s
14:20:02.010240   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_sc_ATX.s (matrix 0)
14:20:02.031465   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_sc_ATX.h33 (matrix 0)
14:20:02.031818  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_sc_ATX.s
14:20:02.044113  
14:20:02.044217 gantry model values that may have been used:
14:20:02.044263  model number=328
14:20:02.044309  defaultElements()=256
14:20:02.044367  binSize()=0.121875cm
14:20:02.044413  defaultAngles()=288
14:20:02.044465  planeSep()=0.121875cm
14:20:02.044526  crystalRadius()=23.45cm
14:20:02.044575  sinogramDepthOfInteraction()=0cm
14:20:02.044623  sinogramIntrinsicTilt()=0 degrees
14:20:02.044663  isRingArch()=false
14:20:02.044702  isPETOnlyArch()=true
14:20:02.044746  defPlaneDefSpan3D()=3
14:20:02.044791  defRingDiffMax()=67
14:20:02.044835  bucketsPerRing()=unknown
14:20:02.044880  bucketRings()=1
14:20:02.044924  axialBlocks()=13
14:20:02.044968  transBlocks()=9
14:20:02.045012  axialCrystals()=8
14:20:02.045056  transCrystals()=8
14:20:02.045100  axialBlockGaps()=0
14:20:02.045144  transBlockGaps()=0
14:20:02.045187  directPlanes()=104
14:20:02.045232  defaultLLD()=400 keV
14:20:02.045294  defaultULD()=650 keV
14:20:02.045338  nCrystalLayers()=2
14:20:02.045385   crystalLayerMaterial(0)=LSO
14:20:02.045457   crystalLayerBackgroundErgRatio(0)=14%
14:20:02.045509   crystalLayerFWHMErgRes(0)=17%
14:20:02.045565   crystalLayerDepth(0)=1cm
14:20:02.045611   crystalLayerMaterial(1)=LYSO
14:20:02.045666   crystalLayerBackgroundErgRatio(1)=14%
14:20:02.045717   crystalLayerFWHMErgRes(1)=17%
14:20:02.045765   crystalLayerDepth(1)=1cm
14:20:02.045811  maxScatterZfOV()=40cm
14:20:02.045849  
14:20:02.021235 processing time 00:00:30.7266 (hh:mm:ss)
14:20:02.021352 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:20:02.021409 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:20:02.021468 memory access pattern: 411 entries
14:20:02.021510  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1700605952
14:20:04	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:20:04	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_sc_ATX.s
14:20:04	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17.s
14:20:04	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17.ch
14:20:04	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:20:04	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.a
14:20:04	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_3D_ATX.i
14:20:04	  Method               : OPO3D
14:20:04	  Positivity constraint in sinogram space
14:20:04	  Max of sensitivity image      : 1.000000e+04
14:20:04	  Threshold for missing data    : 1.000000e-04
14:20:04	  Threshold for image update    : 1.000000e-10
14:20:04	  Maximum of image      	: 10000000000.000000
14:20:04	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:20:04	Model 999 
14:20:04	  Triming 3 planes at segment edges 
14:20:04	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:20:04	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_ra_smo.s , scan duration 240
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 19 iterations (46 msec)
1	607 msec   
2	3311 msec   
3	3395 msec   
4	3221 msec   
5	556 msec   
Smooth Delays computed in 11785 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4745 msec.
Total time 16530 msec.
14:20:20	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.a: attenuation file size 651460608
14:20:20	expected file size 256x288x2209(2209)
14:20:20	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr17.a: attenuation file type 0
14:20:20	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:20:21	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:20:21	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_3D_ATX.i reconstruction started
14:20:21	  Prepare components of update equation from input data ...
14:20:26	  Read normalization and normalize delayed
14:20:26	  Apply normalization mask to prompt sinogram
14:20:29	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:20:56	  Iteration 1 in 85.460 sec
14:21:22	  Iteration 2 in 85.300 sec
14:21:48	  Iteration 3 in 85.720 sec
14:22:14	  Iteration 4 in 85.660 sec
14:22:39	  Iteration 5 in 85.670 sec
14:23:05	  Iteration 6 in 87.160 sec
14:23:30	  Iteration 7 in 84.460 sec
14:23:56	  Iteration 8 in 84.400 sec
14:24:22	  Iteration 9 in 85.000 sec
14:24:47	  Iteration 10 in 85.660 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_3D_ATX.i' complete
14:24:48	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame17_3D_ATX.i reconstruction done in 283 sec
14:24:49.050511 unknown (0x)    memory: 0 MByte
14:24:49.050616 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:24:49.050668 Revision: 275.1
14:24:49.050728 current date and time (GMT): Sat Dec  4 19:24:49 2010
14:24:49.050791 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:24:49.050897 free memory in memory controller: 9541.25 MByte
14:24:49.051055 memory access pattern found
14:24:49.051108 free memory in memory controller: 9541.25 MByte
14:24:49.051174 Default crystalLayerBackgroundErgRatio: 12,12
14:24:49.051246 Specified crystalLayerBackgroundErgRatio: 14,14
14:24:49.065447 calculate sinogram for 1 matrix
14:24:49.065504  loading the 3d emission scan (matrix 0)
14:24:49.000017   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18.tr.s'
14:24:49.000064    matrix number=0
14:24:52.008674    RhoSamples=256
14:24:52.008802    BinSizeRho=1.21875mm
14:24:52.008849    ThetaSamples=288
14:24:52.008893    mash factor=0
14:24:52.008939    plane separation=1.21875mm
14:24:52.008984    axes=8
14:24:52.009047    axis table=2209 {207,394,358,322,286,250,214,178}
14:24:52.009093    span=9
14:24:52.009136    maximum ring difference=67
14:24:52.009182    intrinsic tilt=0 degrees
14:24:52.009228    bed position=0mm
14:24:52.009282    scan start time=0 sec
14:24:52.009336    scan frame duration=0 sec (0 min)
14:24:52.009386    scan gate duration=0 sec (0 min)
14:24:52.009433    isotope halflife=0 sec
14:24:52.009477    lld=400 KeV
14:24:52.009520    uld=650 KeV
14:24:52.009560    corrections applied=
14:24:52.009621  calculating the 3d normalisation scan (matrix 0)
14:24:52.009677   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:24:52.021489    matrix number=0
14:24:52.021594    RhoSamples=256
14:24:52.021646    BinSizeRho=1.21875mm
14:24:52.021685    ThetaSamples=288
14:24:52.021723    mash factor=0
14:24:52.021761    plane separation=1.21875mm
14:24:52.021800    axes=8
14:24:52.021894    axis table=2209 {207,394,358,322,286,250,214,178}
14:24:52.021937    span=9
14:24:52.021974    maximum ring difference=67
14:24:52.022013    intrinsic tilt=0 degrees
14:24:52.022052    bed position=0mm
14:24:52.022092    scan start time=0 sec
14:24:52.022135    scan frame duration=0 sec (0 min)
14:24:52.022178    scan gate duration=0 sec (0 min)
14:24:52.022218    isotope halflife=0 sec
14:24:52.022256    lld=400 KeV
14:24:52.022293    uld=650 KeV
14:24:52.022328    corrections applied=
14:24:52.022371  normalize 3d emission
14:24:52.022407   multiply sinograms
14:24:54.027014  normalization based gap filling
14:24:54.027849    fill 207 planes 8 threads
14:24:54.040802    fill 394 planes 8 threads
14:24:54.051418    fill 358 planes 8 threads
14:24:55.029957    fill 322 planes 8 threads
14:24:55.024217    fill 286 planes 8 threads
14:24:55.023888    fill 250 planes 8 threads
14:24:55.040331    fill 214 planes 8 threads
14:24:55.063705    fill 178 planes 8 threads
14:24:56.025870   bed position in emission=0mm
14:24:56.035124   bed position in u-map=0mm
14:24:56.042616   bed position in acf=0mm
14:24:56.042688  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i
14:24:56.042753   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i'
14:24:56.042806    matrix number=0
14:24:56.039951    XYSamples=128
14:24:56.040091    DeltaXY=2.4375mm
14:24:56.040140    ZSamples=207
14:24:56.040188    DeltaZ=1.21875mm
14:24:56.040230    corrections applied=
14:24:56.040307    u-map data=yes
14:24:56.040357    bed position=0mm
14:24:56.040405    scan start time=0 sec
14:24:56.040459    scan frame duration=0 sec (0 min)
14:24:56.040512    scan gate duration=0 sec (0 min)
14:24:56.040560    isotope halflife=0 sec
14:24:56.040607    lld=0 KeV
14:24:56.040652    uld=0 KeV
14:24:56.040699  loading the acf (matrix 0)
14:24:56.040754   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a'
14:24:56.040805    matrix number=0
14:25:00.005123    RhoSamples=256
14:25:00.005252    BinSizeRho=1.21875mm
14:25:00.005304    ThetaSamples=288
14:25:00.005365    mash factor=0
14:25:00.005413    plane separation=1.21875mm
14:25:00.005460    axes=8
14:25:00.005530    axis table=2209 {207,394,358,322,286,250,214,178}
14:25:00.005580    span=9
14:25:00.005626    maximum ring difference=67
14:25:00.005676    intrinsic tilt=0 degrees
14:25:00.005726    bed position=0mm
14:25:00.005775    scan start time=0 sec
14:25:00.005829    scan frame duration=0 sec (0 min)
14:25:00.005885    scan gate duration=0 sec (0 min)
14:25:00.005944    isotope halflife=0 sec
14:25:00.005992    lld=400 KeV
14:25:00.006038    uld=650 KeV
14:25:00.006080    corrections applied=
14:25:00.006145  replace values below 1 by 1
14:25:01.012024  estimate scatter sinogram
14:25:01.026646   counts in image: min=0  max=0.156152  total=53556.4
14:25:01.026807   start single-slice rebinning from 256x288x2209 to 256x288x207
14:25:01.026847   initialize SSR
14:25:01.026888    RhoSamples=256
14:25:01.026930    ThetaSamples=288
14:25:01.026972    axes=8
14:25:01.027031    axis table=2209 {207,394,358,322,286,250,214,178}
14:25:01.028935    skip 2 planes at each side of a segment
14:25:01.029080    calculate e*n*a of axis 0 (skip 2 border planes)
14:25:01.029130     calculate axis 0 of corrected sinogram
14:25:01.034838    calculate single-slice rebinning of axis 0
14:25:01.034966    ssr 203 planes
14:25:01.026272    calculate e*n*a of axis 1 (skip 2 border planes)
14:25:01.026380     calculate axis 1 of corrected sinogram
14:25:01.002571    calculate single-slice rebinning of axis 1
14:25:01.002698    ssr 193 planes
14:25:01.022530    calculate e*n*a of axis 2 (skip 2 border planes)
14:25:01.022639     calculate axis 2 of corrected sinogram
14:25:01.039596    calculate single-slice rebinning of axis 2
14:25:01.039721    ssr 175 planes
14:25:01.051468    calculate e*n*a of axis 3 (skip 2 border planes)
14:25:01.051574     calculate axis 3 of corrected sinogram
14:25:02.031660    calculate single-slice rebinning of axis 3
14:25:02.031784    ssr 157 planes
14:25:02.035638    calculate e*n*a of axis 4 (skip 2 border planes)
14:25:02.035747     calculate axis 4 of corrected sinogram
14:25:02.009585    calculate single-slice rebinning of axis 4
14:25:02.009727    ssr 139 planes
14:25:02.004669    calculate e*n*a of axis 5 (skip 2 border planes)
14:25:02.004777     calculate axis 5 of corrected sinogram
14:25:02.022350    calculate single-slice rebinning of axis 5
14:25:02.022472    ssr 121 planes
14:25:02.011249    calculate e*n*a of axis 6 (skip 2 border planes)
14:25:02.011357     calculate axis 6 of corrected sinogram
14:25:02.007250    calculate single-slice rebinning of axis 6
14:25:02.007378    ssr 103 planes
14:25:02.052479    calculate e*n*a of axis 7 (skip 2 border planes)
14:25:02.052585     calculate axis 7 of corrected sinogram
14:25:02.028050    calculate single-slice rebinning of axis 7
14:25:02.028174    ssr 85 planes
14:25:02.000650    normalize sinogram
14:25:03.035885   finished single-slice rebinning in 2.00781 sec
14:25:03.036024   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:25:03.036086    XYSamples=128
14:25:03.036131    DeltaXY=2.4375mm
14:25:03.036173    RhoSamples=256
14:25:03.036214    BinSizeRho=1.21875mm
14:25:03.036257    ThetaSamples=288
14:25:03.036299    plane separation=1.21875mm
14:25:03.036363    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:25:03.036408    subsets=8
14:25:03.036453    axes=1
14:25:03.036498    axis table=207 {207}
14:25:03.036539    algorithm=AW-OSEM
14:25:03.036578    use LUT=small
14:25:03.036747    initialize backprojector
14:25:03.036821     angle of segment 0: 0 degrees
14:25:03.037053     create mode 1 lookup-table for backprojector: 63 MByte
14:25:03.030341     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:25:03.014872     start calculation of normalization factors for AW-OSEM
14:25:03.015068      allocate 103.5 MByte for normalization factors
14:25:03.015120      start calculation of normalization factors for subset 0
14:25:03.029968       calculate segment 0, subset 0 of 1/a sinogram
14:25:03.053670       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:25:03.031763      finished calculation of normalization factors for subset 0 in 0.148438 sec
14:25:03.031860      start calculation of normalization factors for subset 1
14:25:03.046311       calculate segment 0, subset 1 of 1/a sinogram
14:25:03.000034       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:25:03.032117      finished calculation of normalization factors for subset 1 in 0.132812 sec
14:25:03.032223      start calculation of normalization factors for subset 2
14:25:03.046819       calculate segment 0, subset 2 of 1/a sinogram
14:25:03.064515       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:25:03.018505      finished calculation of normalization factors for subset 2 in 0.183594 sec
14:25:03.018611      start calculation of normalization factors for subset 3
14:25:03.033054       calculate segment 0, subset 3 of 1/a sinogram
14:25:03.050981       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:25:03.020878      finished calculation of normalization factors for subset 3 in 0.132812 sec
14:25:03.020982      start calculation of normalization factors for subset 4
14:25:03.036669       calculate segment 0, subset 4 of 1/a sinogram
14:25:03.054519       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:25:03.046479      finished calculation of normalization factors for subset 4 in 0.0898438 sec
14:25:03.046574      start calculation of normalization factors for subset 5
14:25:03.064052       calculate segment 0, subset 5 of 1/a sinogram
14:25:03.016684       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:25:03.065265      finished calculation of normalization factors for subset 5 in 0.152344 sec
14:25:03.065383      start calculation of normalization factors for subset 6
14:25:04.002914       calculate segment 0, subset 6 of 1/a sinogram
14:25:04.022225       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:25:04.008043      finished calculation of normalization factors for subset 6 in 0.15625 sec
14:25:04.008138      start calculation of normalization factors for subset 7
14:25:04.027255       calculate segment 0, subset 7 of 1/a sinogram
14:25:04.046669       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:25:04.005464      finished calculation of normalization factors for subset 7 in 0.125 sec
14:25:04.005592     finished calculation of normalization factors in 1.125 sec
14:25:04.005634    divide sinograms
14:25:04.058729    initialize forward-projector
14:25:04.058861     angles of segment 0
14:25:04.058905      plane 0-206: 0 degrees
14:25:04.059146     create mode 1 lookup-table for forward-projector: 126 MByte
14:25:04.037418     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:25:04.035596     start reconstruction from 256x288x207 to 128x128x207
14:25:04.035720      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:25:04.046982      start iteration 1, subset 0
14:25:05.058919      finished iteration 1, subset 0 in 0.421875 sec
14:25:05.059022      start iteration 1, subset 4
14:25:05.057261      finished iteration 1, subset 4 in 0.390625 sec
14:25:05.057388      start iteration 1, subset 2
14:25:06.049986      finished iteration 1, subset 2 in 0.40625 sec
14:25:06.050133      start iteration 1, subset 6
14:25:06.019666      finished iteration 1, subset 6 in 0.417969 sec
14:25:06.019771      start iteration 1, subset 1
14:25:06.022935      finished iteration 1, subset 1 in 0.332031 sec
14:25:06.023051      start iteration 1, subset 5
14:25:07.013386      finished iteration 1, subset 5 in 0.402344 sec
14:25:07.013492      start iteration 1, subset 3
14:25:07.057021      finished iteration 1, subset 3 in 0.238281 sec
14:25:07.057125      start iteration 1, subset 7
14:25:07.041145      finished iteration 1, subset 7 in 0.378906 sec
14:25:07.041291      start iteration 2, subset 0
14:25:08.035118      finished iteration 2, subset 0 in 0.273438 sec
14:25:08.035231      start iteration 2, subset 4
14:25:08.061734      finished iteration 2, subset 4 in 0.285156 sec
14:25:08.061837      start iteration 2, subset 2
14:25:08.051839      finished iteration 2, subset 2 in 0.316406 sec
14:25:08.051944      start iteration 2, subset 6
14:25:09.054075      finished iteration 2, subset 6 in 0.28125 sec
14:25:09.054179      start iteration 2, subset 1
14:25:09.007907      finished iteration 2, subset 1 in 0.28125 sec
14:25:09.008020      start iteration 2, subset 5
14:25:09.038424      finished iteration 2, subset 5 in 0.292969 sec
14:25:09.038537      start iteration 2, subset 3
14:25:09.014709      finished iteration 2, subset 3 in 0.238281 sec
14:25:09.014821      start iteration 2, subset 7
14:25:10.024894      finished iteration 2, subset 7 in 0.289062 sec
14:25:10.024998      start iteration 3, subset 0
14:25:10.035373      finished iteration 3, subset 0 in 0.335938 sec
14:25:10.035483      start iteration 3, subset 4
14:25:10.002578      finished iteration 3, subset 4 in 0.292969 sec
14:25:10.002681      start iteration 3, subset 2
14:25:11.039597      finished iteration 3, subset 2 in 0.25 sec
14:25:11.039717      start iteration 3, subset 6
14:25:11.006169      finished iteration 3, subset 6 in 0.292969 sec
14:25:11.006308      start iteration 3, subset 1
14:25:11.000433      finished iteration 3, subset 1 in 0.253906 sec
14:25:11.000537      start iteration 3, subset 5
14:25:11.005422      finished iteration 3, subset 5 in 0.265625 sec
14:25:11.005539      start iteration 3, subset 3
14:25:12.031775      finished iteration 3, subset 3 in 0.304688 sec
14:25:12.031879      start iteration 3, subset 7
14:25:12.045240      finished iteration 3, subset 7 in 0.273438 sec
14:25:12.045379      mask 207 planes of image
14:25:12.059591      scale image with 1.21875
14:25:12.000558      scale image with 4
14:25:12.007348     finished reconstruction in 7.57812 sec
14:25:12.007441     forward projector: 3.89453 sec
14:25:12.007484     backprojector: 2.62109 sec
14:25:12.017536   finished reconstruction of emission in 9.44141 sec
14:25:12.017635   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:25:12.015598   scale image by 4.10256
14:25:12.034081   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:25:12.034203   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:25:12.034274   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:25:12.034336   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:25:12.034375   start scatter estimation
14:25:12.034427    calculate matrix for beta-spline interpolation
14:25:12.043838    start scatter simulation
14:25:12.043909     effective detector ring radius=234.5mm (234.5mm+0mm)
14:25:12.043953     DeltaXY=2.4375mm
14:25:12.043994     DeltaZ=1.21875mm
14:25:12.044066     LLD=400 keV
14:25:12.044108     ULD=650 keV
14:25:12.053601     search bounds of object in u-map
14:25:12.013975     x bounds (-x,+x)=-93.8413mm,84.0913mm
14:25:12.014105     y bounds (-y,+y)=-103.591mm,135.279mm
14:25:12.014153     z bounds (-z,+z)=-55.4519mm,124.921mm
14:25:12.014204     length of axial scatter fov=360.74mm (max. 360.74mm)
14:25:12.014253     scatter samples (x,y,z)=8,11,16
14:25:12.014305     image size (x,y,z)=177.933mm,238.87mm,360.74mm
14:25:12.014358     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.5463mm
14:25:12.060693     start simulation of scatter sinogram (19x34x10)
14:25:12.060937      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:25:12.061004      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:25:12.061106      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:25:12.061255      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:25:12.061364      thread 1: 319 samples in plane 0 inside of object (plane 8 of full sinogram)
14:25:12.061523      thread 3: 484 samples in plane 2 inside of object (plane 50 of full sinogram)
14:25:12.061605      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:25:12.061786      thread 5: 517 samples in plane 4 inside of object (plane 92 of full sinogram)
14:25:12.061844      thread 2: 401 samples in plane 1 inside of object (plane 29 of full sinogram)
14:25:12.062035      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:25:12.062208      thread 6: 518 samples in plane 5 inside of object (plane 113 of full sinogram)
14:25:12.008562      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:25:12.008786      thread 7: 516 samples in plane 6 inside of object (plane 134 of full sinogram)
14:25:12.038798      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:25:12.038991      thread 8: 518 samples in plane 8 inside of object (plane 176 of full sinogram)
14:25:12.014639      thread 7: 518 samples in plane 7 inside of object (plane 155 of full sinogram)
14:25:12.042273      thread 4: 517 samples in plane 3 inside of object (plane 71 of full sinogram)
14:25:12.013748      thread 8: 515 samples in plane 9 inside of object (plane 197 of full sinogram)
14:25:12.007213     finished simulation of scatter sinogram
14:25:12.022335    finished scatter simulation in 0.308594 sec
14:25:12.022462    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:25:14.000439   finished scatter estimation in 1.57031 sec
14:25:14.000524   convert 2d scatter sinogram into 3d sinogram
14:25:14.000570   calculate axial scatter scale factors (smoothed with boxcar 17)
14:25:14.000637    acf threshold=1.03
14:25:14.041442    calculate scale factors for segment 0
14:25:14.041546    scatter size 256x288x207
14:25:14.008213     apply lower and upper thresholds 0.25 and 2
14:25:14.008317    calculate scale factors for segment +1
14:25:14.008370    scatter size 256x288x197
14:25:14.030775     apply lower and upper thresholds 0.25 and 2
14:25:14.030872    calculate scale factors for segment -1
14:25:14.030924    scatter size 256x288x197
14:25:14.050222     apply lower and upper thresholds 0.25 and 2
14:25:14.050317    calculate scale factors for segment +2
14:25:14.050369    scatter size 256x288x179
14:25:15.040125     apply lower and upper thresholds 0.25 and 2
14:25:15.040223    calculate scale factors for segment -2
14:25:15.040274    scatter size 256x288x179
14:25:15.042595     apply lower and upper thresholds 0.25 and 2
14:25:15.042693    calculate scale factors for segment +3
14:25:15.042745    scatter size 256x288x161
14:25:15.033146     apply lower and upper thresholds 0.25 and 2
14:25:15.033241    calculate scale factors for segment -3
14:25:15.033293    scatter size 256x288x161
14:25:15.021121     apply lower and upper thresholds 0.25 and 2
14:25:15.021217    calculate scale factors for segment +4
14:25:15.021276    scatter size 256x288x143
14:25:15.062809     apply lower and upper thresholds 0.25 and 2
14:25:15.062924    calculate scale factors for segment -4
14:25:15.062981    scatter size 256x288x143
14:25:15.035423     apply lower and upper thresholds 0.25 and 2
14:25:15.035523    calculate scale factors for segment +5
14:25:15.035579    scatter size 256x288x125
14:25:15.061349     apply lower and upper thresholds 0.25 and 2
14:25:15.061448    calculate scale factors for segment -5
14:25:15.061504    scatter size 256x288x125
14:25:15.019042     apply lower and upper thresholds 0.25 and 2
14:25:15.019145    calculate scale factors for segment +6
14:25:15.019200    scatter size 256x288x107
14:25:15.029525     apply lower and upper thresholds 0.25 and 2
14:25:15.029624    calculate scale factors for segment -6
14:25:15.029687    scatter size 256x288x107
14:25:15.038164     apply lower and upper thresholds 0.25 and 2
14:25:15.038265    calculate scale factors for segment +7
14:25:15.038320    scatter size 256x288x89
14:25:16.017628     apply lower and upper thresholds 0.25 and 2
14:25:16.017734    calculate scale factors for segment -7
14:25:16.017806    scatter size 256x288x89
14:25:16.011972     apply lower and upper thresholds 0.25 and 2
14:25:24.052612   scatter fraction at first pass=41.3923%
14:25:24.047916  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_sc_ATX.s
14:25:24.048045   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_sc_ATX.s (matrix 0)
14:25:24.003915   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_sc_ATX.h33 (matrix 0)
14:25:24.004264  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_sc_ATX.s
14:25:24.017188  
14:25:24.017291 gantry model values that may have been used:
14:25:24.017337  model number=328
14:25:24.017397  defaultElements()=256
14:25:24.017455  binSize()=0.121875cm
14:25:24.017500  defaultAngles()=288
14:25:24.017552  planeSep()=0.121875cm
14:25:24.017599  crystalRadius()=23.45cm
14:25:24.017644  sinogramDepthOfInteraction()=0cm
14:25:24.017692  sinogramIntrinsicTilt()=0 degrees
14:25:24.017731  isRingArch()=false
14:25:24.017770  isPETOnlyArch()=true
14:25:24.017813  defPlaneDefSpan3D()=3
14:25:24.017857  defRingDiffMax()=67
14:25:24.017900  bucketsPerRing()=unknown
14:25:24.017944  bucketRings()=1
14:25:24.017987  axialBlocks()=13
14:25:24.018031  transBlocks()=9
14:25:24.018075  axialCrystals()=8
14:25:24.018118  transCrystals()=8
14:25:24.018162  axialBlockGaps()=0
14:25:24.018206  transBlockGaps()=0
14:25:24.018248  directPlanes()=104
14:25:24.018293  defaultLLD()=400 keV
14:25:24.018337  defaultULD()=650 keV
14:25:24.018387  nCrystalLayers()=2
14:25:24.018436   crystalLayerMaterial(0)=LSO
14:25:24.018507   crystalLayerBackgroundErgRatio(0)=14%
14:25:24.018559   crystalLayerFWHMErgRes(0)=17%
14:25:24.018608   crystalLayerDepth(0)=1cm
14:25:24.018654   crystalLayerMaterial(1)=LYSO
14:25:24.018709   crystalLayerBackgroundErgRatio(1)=14%
14:25:24.018759   crystalLayerFWHMErgRes(1)=17%
14:25:24.018808   crystalLayerDepth(1)=1cm
14:25:24.018854  maxScatterZfOV()=40cm
14:25:24.018893  
14:25:24.059965 processing time 00:00:35.6641 (hh:mm:ss)
14:25:24.060083 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:25:24.060140 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:25:24.060185 memory access pattern: 411 entries
14:25:24.060224  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1702477824
14:25:26	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:25:26	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_sc_ATX.s
14:25:26	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18.s
14:25:26	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18.ch
14:25:26	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:25:26	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a
14:25:26	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_3D_ATX.i
14:25:26	  Method               : OPO3D
14:25:26	  Positivity constraint in sinogram space
14:25:26	  Max of sensitivity image      : 1.000000e+04
14:25:26	  Threshold for missing data    : 1.000000e-04
14:25:26	  Threshold for image update    : 1.000000e-10
14:25:26	  Maximum of image      	: 10000000000.000000
14:25:26	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:25:26	Model 999 
14:25:26	  Triming 3 planes at segment edges 
14:25:26	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:25:26	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 19 iterations (43 msec)
1	684 msec   
2	3373 msec   
3	3474 msec   
4	3172 msec   
5	628 msec   
Smooth Delays computed in 12030 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4680 msec.
Total time 16710 msec.
14:25:43	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file size 651460608
14:25:43	expected file size 256x288x2209(2209)
14:25:43	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.a: attenuation file type 0
14:25:43	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:25:44	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:25:44	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_3D_ATX.i reconstruction started
14:25:44	  Prepare components of update equation from input data ...
14:25:48	  Read normalization and normalize delayed
14:25:48	  Apply normalization mask to prompt sinogram
14:25:52	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:26:17	  Iteration 1 in 84.480 sec
14:26:42	  Iteration 2 in 84.510 sec
14:27:08	  Iteration 3 in 85.330 sec
14:27:33	  Iteration 4 in 84.810 sec
14:27:58	  Iteration 5 in 84.850 sec
14:28:24	  Iteration 6 in 85.100 sec
14:28:49	  Iteration 7 in 83.180 sec
14:29:15	  Iteration 8 in 83.860 sec
14:29:41	  Iteration 9 in 85.800 sec
14:30:06	  Iteration 10 in 84.420 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_3D_ATX.i' complete
14:30:07	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame18_3D_ATX.i reconstruction done in 280 sec
14:30:08.013777 unknown (0x)    memory: 0 MByte
14:30:08.013875 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:30:08.013923 Revision: 275.1
14:30:08.013975 current date and time (GMT): Sat Dec  4 19:30:08 2010
14:30:08.014026 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
14:30:08.014108 free memory in memory controller: 9541.25 MByte
14:30:08.014236 memory access pattern found
14:30:08.014286 free memory in memory controller: 9541.25 MByte
14:30:08.031398 calculate acf for 1 matrix
14:30:08.031457  span=9
14:30:08.031507  maximum ring difference=67
14:30:08.031574  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.i
14:30:08.031630   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.i'
14:30:08.031681    matrix number=0
14:30:08.029610    XYSamples=128
14:30:08.029757    DeltaXY=2.4375mm
14:30:08.029804    ZSamples=207
14:30:08.029850    DeltaZ=1.21875mm
14:30:08.029891    corrections applied=
14:30:08.029931    u-map data=yes
14:30:08.029976    bed position=0mm
14:30:08.030022    scan start time=0 sec
14:30:08.030082    scan frame duration=0 sec (0 min)
14:30:08.030132    scan gate duration=0 sec (0 min)
14:30:08.030178    isotope halflife=0 sec
14:30:08.030222    lld=0 KeV
14:30:08.030265    uld=0 KeV
14:30:08.036636  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
14:30:08.036762  XYSamples=128
14:30:08.036819  DeltaXY=2.4375mm
14:30:08.036863  RhoSamples=256
14:30:08.036907  BinSizeRho=1.21875mm
14:30:08.036950  ThetaSamples=288
14:30:08.036995  plane separation=1.21875mm
14:30:08.037064  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:30:08.037112  subsets=1
14:30:08.037154  axes=1
14:30:08.037206  axis table=207 {207}
14:30:08.037247  algorithm=UW-OSEM
14:30:08.037288  use LUT=no
14:30:08.037474  time of flight bins=1
14:30:08.037523  initialize forward-projector
14:30:08.037568   angles of segment 0
14:30:08.037611    plane 0-206: 0 degrees
14:30:08.037874  start forward projection
14:30:08.002216   start forward projection of subset 0 from 128x128x207 to 256x288x207
14:30:08.002336    project segment 0
14:30:11.023447   finished forward projection of subset 0 in 2.43359 sec
14:30:11.041363   scale 207 planes of sinogram by 0.410256
14:30:11.005668  finished forward projection in 2.57422 sec
14:30:11.005782  convert emission into transmission data
14:30:11.036919  span=9
14:30:11.037038  maximum ring difference=67
14:30:11.037104  iFORE sinogram 1 from 256x288x207 to 256x288x2209
14:30:11.037282   replace values below 1 by 1
14:30:11.058354   copy 207 planes of segment 0
14:30:12.054611   create 360 degrees sinogram (512x576x207)
14:30:12.031775   calculate 3d fourier transform of sinogram
14:30:16.055734   calculate 394 planes of axis 1
14:30:16.036976    calculate fourier projection of axis 1
14:30:20.000786    calculate inverse fourier transform of axis 1
14:30:23.008122    split axis 1 into 2 segments
14:30:23.040861    calculate weighting of axis 1
14:30:24.047150   finished with axis 1
14:30:24.047281   calculate 358 planes of axis 2
14:30:24.011437    calculate fourier projection of axis 2
14:30:28.032735    calculate inverse fourier transform of axis 2
14:30:31.021287    split axis 2 into 2 segments
14:30:31.041497    calculate weighting of axis 2
14:30:32.005380   finished with axis 2
14:30:32.005499   calculate 322 planes of axis 3
14:30:32.024390    calculate fourier projection of axis 3
14:30:35.035255    calculate inverse fourier transform of axis 3
14:30:39.020075    split axis 3 into 2 segments
14:30:39.029020    calculate weighting of axis 3
14:30:40.020292   finished with axis 3
14:30:40.020418   calculate 286 planes of axis 4
14:30:40.025696    calculate fourier projection of axis 4
14:30:43.014319    calculate inverse fourier transform of axis 4
14:30:46.060153    split axis 4 into 2 segments
14:30:46.057722    calculate weighting of axis 4
14:30:47.011976   finished with axis 4
14:30:47.012106   calculate 250 planes of axis 5
14:30:47.004094    calculate fourier projection of axis 5
14:30:50.030980    calculate inverse fourier transform of axis 5
14:30:53.017612    split axis 5 into 2 segments
14:30:53.004162    calculate weighting of axis 5
14:30:54.049858   finished with axis 5
14:30:54.049985   calculate 214 planes of axis 6
14:30:54.035045    calculate fourier projection of axis 6
14:30:57.007930    calculate inverse fourier transform of axis 6
14:31:00.045793    split axis 6 into 2 segments
14:31:00.022516    calculate weighting of axis 6
14:31:00.061226   finished with axis 6
14:31:00.061355   calculate 178 planes of axis 7
14:31:01.023311    calculate fourier projection of axis 7
14:31:03.048883    calculate inverse fourier transform of axis 7
14:31:06.044183    split axis 7 into 2 segments
14:31:06.013316    calculate weighting of axis 7
14:31:06.020870   finished with axis 7
14:31:06.014477  axes=8
14:31:06.014612  axis table=2209 {207,394,358,322,286,250,214,178}
14:31:06.014686  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.a
14:31:06.014757   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.a (matrix 0)
14:31:07.036989   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.h33 (matrix 0)
14:31:07.024082  
14:31:07.024211 gantry model values that may have been used:
14:31:07.024258  model number=328
14:31:07.024304  defaultElements()=256
14:31:07.024364  binSize()=0.121875cm
14:31:07.024410  defaultAngles()=288
14:31:07.024455  planeSep()=0.121875cm
14:31:07.024503  crystalRadius()=23.45cm
14:31:07.024549  sinogramDepthOfInteraction()=0cm
14:31:07.024597  sinogramIntrinsicTilt()=0 degrees
14:31:07.024638  isRingArch()=false
14:31:07.024677  isPETOnlyArch()=true
14:31:07.024721  defPlaneDefSpan3D()=3
14:31:07.024766  defRingDiffMax()=67
14:31:07.024809  bucketsPerRing()=unknown
14:31:07.024853  bucketRings()=1
14:31:07.024906  axialBlocks()=13
14:31:07.024951  transBlocks()=9
14:31:07.024995  axialCrystals()=8
14:31:07.025039  transCrystals()=8
14:31:07.025084  axialBlockGaps()=0
14:31:07.025148  transBlockGaps()=0
14:31:07.025191  directPlanes()=104
14:31:07.025234  defaultLLD()=400 keV
14:31:07.025278  defaultULD()=650 keV
14:31:07.025321  nCrystalLayers()=2
14:31:07.025368   crystalLayerMaterial(0)=LSO
14:31:07.025440   crystalLayerBackgroundErgRatio(0)=12%
14:31:07.025491   crystalLayerFWHMErgRes(0)=17%
14:31:07.025539   crystalLayerDepth(0)=1cm
14:31:07.025586   crystalLayerMaterial(1)=LYSO
14:31:07.025640   crystalLayerBackgroundErgRatio(1)=12%
14:31:07.025691   crystalLayerFWHMErgRes(1)=17%
14:31:07.025738   crystalLayerDepth(1)=1cm
14:31:07.025785  maxScatterZfOV()=40cm
14:31:07.025823  
14:31:07.025882 processing time 00:00:59.5391 (hh:mm:ss)
14:31:07.025954 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:31:07.026011 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:31:07.026055 memory access pattern: 36 entries
14:31:07.026094  
14:31:08.040560 unknown (0x)    memory: 0 MByte
14:31:08.040671 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:31:08.040723 Revision: 275.1
14:31:08.040786 current date and time (GMT): Sat Dec  4 19:31:08 2010
14:31:08.040852 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:31:08.040966 free memory in memory controller: 9541.25 MByte
14:31:08.041127 memory access pattern found
14:31:08.041185 free memory in memory controller: 9541.25 MByte
14:31:08.041267 Default crystalLayerBackgroundErgRatio: 12,12
14:31:08.041331 Specified crystalLayerBackgroundErgRatio: 14,14
14:31:08.053631 calculate sinogram for 1 matrix
14:31:08.053735  loading the 3d emission scan (matrix 0)
14:31:08.053786   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19.tr.s'
14:31:08.053830    matrix number=0
14:31:11.010438    RhoSamples=256
14:31:11.010576    BinSizeRho=1.21875mm
14:31:11.010626    ThetaSamples=288
14:31:11.010672    mash factor=0
14:31:11.010720    plane separation=1.21875mm
14:31:11.010767    axes=8
14:31:11.010833    axis table=2209 {207,394,358,322,286,250,214,178}
14:31:11.010881    span=9
14:31:11.010937    maximum ring difference=67
14:31:11.010987    intrinsic tilt=0 degrees
14:31:11.011035    bed position=0mm
14:31:11.011083    scan start time=0 sec
14:31:11.011135    scan frame duration=0 sec (0 min)
14:31:11.011188    scan gate duration=0 sec (0 min)
14:31:11.011236    isotope halflife=0 sec
14:31:11.011283    lld=400 KeV
14:31:11.011328    uld=650 KeV
14:31:11.011369    corrections applied=
14:31:11.011433  calculating the 3d normalisation scan (matrix 0)
14:31:11.011504   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:31:12.011336    matrix number=0
14:31:12.011440    RhoSamples=256
14:31:12.011491    BinSizeRho=1.21875mm
14:31:12.011539    ThetaSamples=288
14:31:12.011577    mash factor=0
14:31:12.011614    plane separation=1.21875mm
14:31:12.011651    axes=8
14:31:12.011705    axis table=2209 {207,394,358,322,286,250,214,178}
14:31:12.011742    span=9
14:31:12.011779    maximum ring difference=67
14:31:12.011817    intrinsic tilt=0 degrees
14:31:12.011855    bed position=0mm
14:31:12.011893    scan start time=0 sec
14:31:12.011936    scan frame duration=0 sec (0 min)
14:31:12.011978    scan gate duration=0 sec (0 min)
14:31:12.012017    isotope halflife=0 sec
14:31:12.012054    lld=400 KeV
14:31:12.012090    uld=650 KeV
14:31:12.012123    corrections applied=
14:31:12.012164  normalize 3d emission
14:31:12.012200   multiply sinograms
14:31:13.048197  normalization based gap filling
14:31:13.048999    fill 207 planes 8 threads
14:31:13.002411    fill 394 planes 8 threads
14:31:14.034678    fill 358 planes 8 threads
14:31:14.052975    fill 322 planes 8 threads
14:31:14.054589    fill 286 planes 8 threads
14:31:15.059118    fill 250 planes 8 threads
14:31:15.008673    fill 214 planes 8 threads
14:31:15.045405    fill 178 planes 8 threads
14:31:15.038116   bed position in emission=0mm
14:31:15.038307   bed position in u-map=0mm
14:31:15.038415   bed position in acf=0mm
14:31:15.038484  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.i
14:31:15.038540   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.i'
14:31:15.038593    matrix number=0
14:31:15.057882    XYSamples=128
14:31:15.058012    DeltaXY=2.4375mm
14:31:15.058061    ZSamples=207
14:31:15.058109    DeltaZ=1.21875mm
14:31:15.058152    corrections applied=
14:31:15.058194    u-map data=yes
14:31:15.058243    bed position=0mm
14:31:15.058290    scan start time=0 sec
14:31:15.058344    scan frame duration=0 sec (0 min)
14:31:15.058398    scan gate duration=0 sec (0 min)
14:31:15.058447    isotope halflife=0 sec
14:31:15.058493    lld=0 KeV
14:31:15.058539    uld=0 KeV
14:31:15.058586  loading the acf (matrix 0)
14:31:15.058641   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.a'
14:31:15.058690    matrix number=0
14:31:16.063966    RhoSamples=256
14:31:16.064089    BinSizeRho=1.21875mm
14:31:16.064131    ThetaSamples=288
14:31:16.064170    mash factor=0
14:31:16.064211    plane separation=1.21875mm
14:31:16.064251    axes=8
14:31:16.064310    axis table=2209 {207,394,358,322,286,250,214,178}
14:31:16.064351    span=9
14:31:16.064390    maximum ring difference=67
14:31:16.064459    intrinsic tilt=0 degrees
14:31:16.064504    bed position=0mm
14:31:16.064545    scan start time=0 sec
14:31:16.064591    scan frame duration=0 sec (0 min)
14:31:16.064640    scan gate duration=0 sec (0 min)
14:31:16.064682    isotope halflife=0 sec
14:31:16.064721    lld=400 KeV
14:31:16.064760    uld=650 KeV
14:31:16.064796    corrections applied=
14:31:16.064854  replace values below 1 by 1
14:31:16.020341  estimate scatter sinogram
14:31:16.034216   counts in image: min=0  max=0.155723  total=53506.5
14:31:16.040856   start single-slice rebinning from 256x288x2209 to 256x288x207
14:31:16.040897   initialize SSR
14:31:16.040938    RhoSamples=256
14:31:16.040978    ThetaSamples=288
14:31:16.041017    axes=8
14:31:16.041075    axis table=2209 {207,394,358,322,286,250,214,178}
14:31:16.045901    skip 2 planes at each side of a segment
14:31:16.046055    calculate e*n*a of axis 0 (skip 2 border planes)
14:31:16.046102     calculate axis 0 of corrected sinogram
14:31:17.026213    calculate single-slice rebinning of axis 0
14:31:17.026339    ssr 203 planes
14:31:17.016819    calculate e*n*a of axis 1 (skip 2 border planes)
14:31:17.016929     calculate axis 1 of corrected sinogram
14:31:17.055392    calculate single-slice rebinning of axis 1
14:31:17.055517    ssr 193 planes
14:31:17.005724    calculate e*n*a of axis 2 (skip 2 border planes)
14:31:17.005850     calculate axis 2 of corrected sinogram
14:31:17.017898    calculate single-slice rebinning of axis 2
14:31:17.018038    ssr 175 planes
14:31:17.026363    calculate e*n*a of axis 3 (skip 2 border planes)
14:31:17.026486     calculate axis 3 of corrected sinogram
14:31:17.017524    calculate single-slice rebinning of axis 3
14:31:17.017645    ssr 157 planes
14:31:18.001224    calculate e*n*a of axis 4 (skip 2 border planes)
14:31:18.001344     calculate axis 4 of corrected sinogram
14:31:18.037496    calculate single-slice rebinning of axis 4
14:31:18.037617    ssr 139 planes
14:31:18.030980    calculate e*n*a of axis 5 (skip 2 border planes)
14:31:18.031087     calculate axis 5 of corrected sinogram
14:31:18.045640    calculate single-slice rebinning of axis 5
14:31:18.045761    ssr 121 planes
14:31:18.031437    calculate e*n*a of axis 6 (skip 2 border planes)
14:31:18.031543     calculate axis 6 of corrected sinogram
14:31:18.025057    calculate single-slice rebinning of axis 6
14:31:18.025172    ssr 103 planes
14:31:18.003496    calculate e*n*a of axis 7 (skip 2 border planes)
14:31:18.003603     calculate axis 7 of corrected sinogram
14:31:18.042080    calculate single-slice rebinning of axis 7
14:31:18.042204    ssr 85 planes
14:31:18.013333    normalize sinogram
14:31:18.062074   finished single-slice rebinning in 1.95312 sec
14:31:18.062195   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:31:18.062257    XYSamples=128
14:31:18.062300    DeltaXY=2.4375mm
14:31:18.062340    RhoSamples=256
14:31:18.062382    BinSizeRho=1.21875mm
14:31:18.062422    ThetaSamples=288
14:31:18.062463    plane separation=1.21875mm
14:31:18.062510    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:31:18.062554    subsets=8
14:31:18.062594    axes=1
14:31:18.062639    axis table=207 {207}
14:31:18.062677    algorithm=AW-OSEM
14:31:18.062715    use LUT=small
14:31:18.062896    initialize backprojector
14:31:18.062972     angle of segment 0: 0 degrees
14:31:18.063204     create mode 1 lookup-table for backprojector: 63 MByte
14:31:18.054249     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:31:18.038520     start calculation of normalization factors for AW-OSEM
14:31:18.038711      allocate 103.5 MByte for normalization factors
14:31:18.038774      start calculation of normalization factors for subset 0
14:31:18.053348       calculate segment 0, subset 0 of 1/a sinogram
14:31:18.011307       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:31:19.017106      finished calculation of normalization factors for subset 0 in 0.125 sec
14:31:19.017230      start calculation of normalization factors for subset 1
14:31:19.032036       calculate segment 0, subset 1 of 1/a sinogram
14:31:19.050764       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:31:19.036328      finished calculation of normalization factors for subset 1 in 0.152344 sec
14:31:19.036434      start calculation of normalization factors for subset 2
14:31:19.051336       calculate segment 0, subset 2 of 1/a sinogram
14:31:19.004001       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:31:19.051508      finished calculation of normalization factors for subset 2 in 0.144531 sec
14:31:19.051600      start calculation of normalization factors for subset 3
14:31:19.001251       calculate segment 0, subset 3 of 1/a sinogram
14:31:19.019473       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:31:19.002889      finished calculation of normalization factors for subset 3 in 0.148438 sec
14:31:19.002999      start calculation of normalization factors for subset 4
14:31:19.017753       calculate segment 0, subset 4 of 1/a sinogram
14:31:19.035487       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:31:19.017999      finished calculation of normalization factors for subset 4 in 0.144531 sec
14:31:19.018093      start calculation of normalization factors for subset 5
14:31:19.033565       calculate segment 0, subset 5 of 1/a sinogram
14:31:19.051253       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:31:19.009727      finished calculation of normalization factors for subset 5 in 0.125 sec
14:31:19.009823      start calculation of normalization factors for subset 6
14:31:19.025257       calculate segment 0, subset 6 of 1/a sinogram
14:31:19.051749       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:31:19.023480      finished calculation of normalization factors for subset 6 in 0.144531 sec
14:31:19.023582      start calculation of normalization factors for subset 7
14:31:19.039745       calculate segment 0, subset 7 of 1/a sinogram
14:31:19.057642       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:31:20.047845      finished calculation of normalization factors for subset 7 in 0.105469 sec
14:31:20.047969     finished calculation of normalization factors in 1.08984 sec
14:31:20.048008    divide sinograms
14:31:20.024394    initialize forward-projector
14:31:20.024524     angles of segment 0
14:31:20.024568      plane 0-206: 0 degrees
14:31:20.024811     create mode 1 lookup-table for forward-projector: 126 MByte
14:31:20.052262     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:31:20.056824     start reconstruction from 256x288x207 to 128x128x207
14:31:20.056963      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:31:20.002874      start iteration 1, subset 0
14:31:20.049468      finished iteration 1, subset 0 in 0.308594 sec
14:31:20.049572      start iteration 1, subset 4
14:31:21.024921      finished iteration 1, subset 4 in 0.316406 sec
14:31:21.025034      start iteration 1, subset 2
14:31:21.055186      finished iteration 1, subset 2 in 0.289062 sec
14:31:21.055291      start iteration 1, subset 6
14:31:21.044568      finished iteration 1, subset 6 in 0.253906 sec
14:31:21.044676      start iteration 1, subset 1
14:31:22.062183      finished iteration 1, subset 1 in 0.296875 sec
14:31:22.062320      start iteration 1, subset 5
14:31:22.010321      finished iteration 1, subset 5 in 0.332031 sec
14:31:22.010427      start iteration 1, subset 3
14:31:22.059191      finished iteration 1, subset 3 in 0.246094 sec
14:31:22.059297      start iteration 1, subset 7
14:31:22.041474      finished iteration 1, subset 7 in 0.242188 sec
14:31:22.041588      start iteration 2, subset 0
14:31:23.001201      finished iteration 2, subset 0 in 0.238281 sec
14:31:23.001305      start iteration 2, subset 4
14:31:23.039567      finished iteration 2, subset 4 in 0.300781 sec
14:31:23.039699      start iteration 2, subset 2
14:31:23.014732      finished iteration 2, subset 2 in 0.300781 sec
14:31:23.014863      start iteration 2, subset 6
14:31:24.006618      finished iteration 2, subset 6 in 0.269531 sec
14:31:24.006723      start iteration 2, subset 1
14:31:24.015212      finished iteration 2, subset 1 in 0.269531 sec
14:31:24.015313      start iteration 2, subset 5
14:31:24.013703      finished iteration 2, subset 5 in 0.257812 sec
14:31:24.013808      start iteration 2, subset 3
14:31:24.038830      finished iteration 2, subset 3 in 0.351562 sec
14:31:24.038936      start iteration 2, subset 7
14:31:25.010266      finished iteration 2, subset 7 in 0.316406 sec
14:31:25.010372      start iteration 3, subset 0
14:31:25.008281      finished iteration 3, subset 0 in 0.257812 sec
14:31:25.008405      start iteration 3, subset 4
14:31:25.013328      finished iteration 3, subset 4 in 0.269531 sec
14:31:25.013431      start iteration 3, subset 2
14:31:26.046204      finished iteration 3, subset 2 in 0.3125 sec
14:31:26.046320      start iteration 3, subset 6
14:31:26.044225      finished iteration 3, subset 6 in 0.324219 sec
14:31:26.044336      start iteration 3, subset 1
14:31:26.050927      finished iteration 3, subset 1 in 0.335938 sec
14:31:26.051040      start iteration 3, subset 5
14:31:27.045579      finished iteration 3, subset 5 in 0.273438 sec
14:31:27.045714      start iteration 3, subset 3
14:31:27.064952      finished iteration 3, subset 3 in 0.34375 sec
14:31:27.065106      start iteration 3, subset 7
14:31:27.055205      finished iteration 3, subset 7 in 0.304688 sec
14:31:27.055340      mask 207 planes of image
14:31:27.004437      scale image with 1.21875
14:31:27.010815      scale image with 4
14:31:27.018459     finished reconstruction in 7.08984 sec
14:31:27.018559     forward projector: 3.67188 sec
14:31:27.018602     backprojector: 2.37891 sec
14:31:27.029150   finished reconstruction of emission in 8.90234 sec
14:31:27.029245   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:31:27.031971   scale image by 4.10256
14:31:27.048575   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:31:27.048709   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:31:27.048781   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:31:27.048842   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:31:27.048878   start scatter estimation
14:31:27.048931    calculate matrix for beta-spline interpolation
14:31:27.058297    start scatter simulation
14:31:27.058369     effective detector ring radius=234.5mm (234.5mm+0mm)
14:31:27.058413     DeltaXY=2.4375mm
14:31:27.058454     DeltaZ=1.21875mm
14:31:27.058506     LLD=400 keV
14:31:27.058548     ULD=650 keV
14:31:27.002508     search bounds of object in u-map
14:31:27.028055     x bounds (-x,+x)=-93.8413mm,84.0913mm
14:31:27.028184     y bounds (-y,+y)=-101.154mm,135.279mm
14:31:27.028234     z bounds (-z,+z)=-56.6707mm,126.139mm
14:31:27.028285     length of axial scatter fov=365.615mm (max. 365.615mm)
14:31:27.028334     scatter samples (x,y,z)=8,11,16
14:31:27.028387     image size (x,y,z)=177.933mm,236.433mm,365.615mm
14:31:27.028439     scatter_grid size (x,y,z)=22.2416mm,21.4939mm,22.851mm
14:31:27.009047     start simulation of scatter sinogram (19x34x10)
14:31:27.009246      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:31:27.009382      thread 1: 320 samples in plane 0 inside of object (plane 8 of full sinogram)
14:31:28.000467      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:31:28.000662      thread 2: 407 samples in plane 1 inside of object (plane 29 of full sinogram)
14:31:28.048401      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:31:28.048533      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:31:28.048609      thread 3: 488 samples in plane 2 inside of object (plane 50 of full sinogram)
14:31:28.048712      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:31:28.048795      thread 4: 506 samples in plane 3 inside of object (plane 71 of full sinogram)
14:31:28.051759      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:31:28.051972      thread 5: 502 samples in plane 4 inside of object (plane 92 of full sinogram)
14:31:28.013298      thread 6: 511 samples in plane 5 inside of object (plane 113 of full sinogram)
14:31:28.046684      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:31:28.046882      thread 7: 503 samples in plane 6 inside of object (plane 134 of full sinogram)
14:31:28.006900      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:31:28.007115      thread 8: 509 samples in plane 8 inside of object (plane 176 of full sinogram)
14:31:28.059174      thread 7: 512 samples in plane 7 inside of object (plane 155 of full sinogram)
14:31:28.001235      thread 8: 506 samples in plane 9 inside of object (plane 197 of full sinogram)
14:31:28.062406     finished simulation of scatter sinogram
14:31:28.008246    finished scatter simulation in 0.425781 sec
14:31:28.008357    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:31:29.030676   finished scatter estimation in 1.65234 sec
14:31:29.030759   convert 2d scatter sinogram into 3d sinogram
14:31:29.030821   calculate axial scatter scale factors (smoothed with boxcar 17)
14:31:29.030887    acf threshold=1.03
14:31:29.008751    calculate scale factors for segment 0
14:31:29.008859    scatter size 256x288x207
14:31:29.044664     apply lower and upper thresholds 0.25 and 2
14:31:29.044777    calculate scale factors for segment +1
14:31:29.044834    scatter size 256x288x197
14:31:30.051892     apply lower and upper thresholds 0.25 and 2
14:31:30.051997    calculate scale factors for segment -1
14:31:30.052053    scatter size 256x288x197
14:31:30.007970     apply lower and upper thresholds 0.25 and 2
14:31:30.008074    calculate scale factors for segment +2
14:31:30.008130    scatter size 256x288x179
14:31:30.020538     apply lower and upper thresholds 0.25 and 2
14:31:30.020644    calculate scale factors for segment -2
14:31:30.020700    scatter size 256x288x179
14:31:30.025808     apply lower and upper thresholds 0.25 and 2
14:31:30.025910    calculate scale factors for segment +3
14:31:30.025966    scatter size 256x288x161
14:31:30.018502     apply lower and upper thresholds 0.25 and 2
14:31:30.018606    calculate scale factors for segment -3
14:31:30.018662    scatter size 256x288x161
14:31:30.009266     apply lower and upper thresholds 0.25 and 2
14:31:30.009369    calculate scale factors for segment +4
14:31:30.009425    scatter size 256x288x143
14:31:30.052112     apply lower and upper thresholds 0.25 and 2
14:31:30.052215    calculate scale factors for segment -4
14:31:30.052270    scatter size 256x288x143
14:31:31.009436     apply lower and upper thresholds 0.25 and 2
14:31:31.009536    calculate scale factors for segment +5
14:31:31.009592    scatter size 256x288x125
14:31:31.035796     apply lower and upper thresholds 0.25 and 2
14:31:31.035897    calculate scale factors for segment -5
14:31:31.035952    scatter size 256x288x125
14:31:31.060024     apply lower and upper thresholds 0.25 and 2
14:31:31.060126    calculate scale factors for segment +6
14:31:31.060182    scatter size 256x288x107
14:31:31.005943     apply lower and upper thresholds 0.25 and 2
14:31:31.006043    calculate scale factors for segment -6
14:31:31.006099    scatter size 256x288x107
14:31:31.019183     apply lower and upper thresholds 0.25 and 2
14:31:31.019290    calculate scale factors for segment +7
14:31:31.019346    scatter size 256x288x89
14:31:31.019124     apply lower and upper thresholds 0.25 and 2
14:31:31.019227    calculate scale factors for segment -7
14:31:31.019282    scatter size 256x288x89
14:31:31.013863     apply lower and upper thresholds 0.25 and 2
14:31:39.025773   scatter fraction at first pass=41.0239%
14:31:39.022238  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_sc_ATX.s
14:31:39.022413   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_sc_ATX.s (matrix 0)
14:31:39.043699   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_sc_ATX.h33 (matrix 0)
14:31:39.044053  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_sc_ATX.s
14:31:39.056855  
14:31:39.056972 gantry model values that may have been used:
14:31:39.057016  model number=328
14:31:39.057062  defaultElements()=256
14:31:39.057118  binSize()=0.121875cm
14:31:39.057162  defaultAngles()=288
14:31:39.057213  planeSep()=0.121875cm
14:31:39.057260  crystalRadius()=23.45cm
14:31:39.057305  sinogramDepthOfInteraction()=0cm
14:31:39.057352  sinogramIntrinsicTilt()=0 degrees
14:31:39.057390  isRingArch()=false
14:31:39.057428  isPETOnlyArch()=true
14:31:39.057470  defPlaneDefSpan3D()=3
14:31:39.057513  defRingDiffMax()=67
14:31:39.057555  bucketsPerRing()=unknown
14:31:39.057598  bucketRings()=1
14:31:39.057641  axialBlocks()=13
14:31:39.057684  transBlocks()=9
14:31:39.057727  axialCrystals()=8
14:31:39.057769  transCrystals()=8
14:31:39.057812  axialBlockGaps()=0
14:31:39.057855  transBlockGaps()=0
14:31:39.057901  directPlanes()=104
14:31:39.057948  defaultLLD()=400 keV
14:31:39.057991  defaultULD()=650 keV
14:31:39.058034  nCrystalLayers()=2
14:31:39.058100   crystalLayerMaterial(0)=LSO
14:31:39.058170   crystalLayerBackgroundErgRatio(0)=14%
14:31:39.058218   crystalLayerFWHMErgRes(0)=17%
14:31:39.058263   crystalLayerDepth(0)=1cm
14:31:39.058307   crystalLayerMaterial(1)=LYSO
14:31:39.058358   crystalLayerBackgroundErgRatio(1)=14%
14:31:39.058406   crystalLayerFWHMErgRes(1)=17%
14:31:39.058450   crystalLayerDepth(1)=1cm
14:31:39.058493  maxScatterZfOV()=40cm
14:31:39.058529  
14:31:39.034192 processing time 00:00:30.9961 (hh:mm:ss)
14:31:39.034304 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:31:39.034358 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:31:39.034399 memory access pattern: 411 entries
14:31:39.034435  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1695780864
14:31:41	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:31:41	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_sc_ATX.s
14:31:41	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19.s
14:31:41	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19.ch
14:31:41	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:31:41	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.a
14:31:41	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_3D_ATX.i
14:31:41	  Method               : OPO3D
14:31:41	  Positivity constraint in sinogram space
14:31:41	  Max of sensitivity image      : 1.000000e+04
14:31:41	  Threshold for missing data    : 1.000000e-04
14:31:41	  Threshold for image update    : 1.000000e-10
14:31:41	  Maximum of image      	: 10000000000.000000
14:31:41	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:31:41	Model 999 
14:31:41	  Triming 3 planes at segment edges 
14:31:41	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:31:41	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 18 iterations (44 msec)
1	660 msec   
2	3241 msec   
3	3394 msec   
4	3250 msec   
5	542 msec   
Smooth Delays computed in 11804 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4568 msec.
Total time 16372 msec.
14:31:58	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.a: attenuation file size 651460608
14:31:58	expected file size 256x288x2209(2209)
14:31:58	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr19.a: attenuation file type 0
14:31:58	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:31:58	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:31:58	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_3D_ATX.i reconstruction started
14:31:58	  Prepare components of update equation from input data ...
14:32:03	  Read normalization and normalize delayed
14:32:03	  Apply normalization mask to prompt sinogram
14:32:07	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:32:33	  Iteration 1 in 84.600 sec
14:32:58	  Iteration 2 in 85.460 sec
14:33:24	  Iteration 3 in 85.190 sec
14:33:51	  Iteration 4 in 84.790 sec
14:34:16	  Iteration 5 in 84.500 sec
14:34:42	  Iteration 6 in 85.500 sec
14:35:07	  Iteration 7 in 85.060 sec
14:35:33	  Iteration 8 in 85.450 sec
14:35:58	  Iteration 9 in 85.270 sec
14:36:24	  Iteration 10 in 84.670 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_3D_ATX.i' complete
14:36:25	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame19_3D_ATX.i reconstruction done in 283 sec
14:36:25.008932 unknown (0x)    memory: 0 MByte
14:36:25.009032 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:36:25.009083 Revision: 275.1
14:36:25.009140 current date and time (GMT): Sat Dec  4 19:36:25 2010
14:36:25.009196 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
14:36:25.009275 free memory in memory controller: 9541.25 MByte
14:36:25.009417 memory access pattern found
14:36:25.009470 free memory in memory controller: 9541.25 MByte
14:36:25.019572 calculate acf for 1 matrix
14:36:25.019648  span=9
14:36:25.019688  maximum ring difference=67
14:36:25.019744  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.i
14:36:25.019793   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.i'
14:36:25.019834    matrix number=0
14:36:25.004729    XYSamples=128
14:36:25.004854    DeltaXY=2.4375mm
14:36:25.004901    ZSamples=207
14:36:25.004946    DeltaZ=1.21875mm
14:36:25.004987    corrections applied=
14:36:25.005027    u-map data=yes
14:36:25.005072    bed position=0mm
14:36:25.005117    scan start time=0 sec
14:36:25.005168    scan frame duration=0 sec (0 min)
14:36:25.005218    scan gate duration=0 sec (0 min)
14:36:25.005264    isotope halflife=0 sec
14:36:25.005308    lld=0 KeV
14:36:25.005351    uld=0 KeV
14:36:25.011837  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
14:36:25.011963  XYSamples=128
14:36:25.012022  DeltaXY=2.4375mm
14:36:25.012065  RhoSamples=256
14:36:25.012109  BinSizeRho=1.21875mm
14:36:25.012152  ThetaSamples=288
14:36:25.012197  plane separation=1.21875mm
14:36:25.012246  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:36:25.012291  subsets=1
14:36:25.012334  axes=1
14:36:25.012404  axis table=207 {207}
14:36:25.012447  algorithm=UW-OSEM
14:36:25.012488  use LUT=no
14:36:25.012674  time of flight bins=1
14:36:25.012723  initialize forward-projector
14:36:25.012768   angles of segment 0
14:36:25.012812    plane 0-206: 0 degrees
14:36:25.013074  start forward projection
14:36:25.040595   start forward projection of subset 0 from 128x128x207 to 256x288x207
14:36:25.040715    project segment 0
14:36:28.044393   finished forward projection of subset 0 in 2.47656 sec
14:36:28.062264   scale 207 planes of sinogram by 0.410256
14:36:28.030127  finished forward projection in 2.625 sec
14:36:28.030236  convert emission into transmission data
14:36:28.056430  span=9
14:36:28.056570  maximum ring difference=67
14:36:28.056638  iFORE sinogram 1 from 256x288x207 to 256x288x2209
14:36:28.056811   replace values below 1 by 1
14:36:28.012475   copy 207 planes of segment 0
14:36:29.007884   create 360 degrees sinogram (512x576x207)
14:36:30.037595   calculate 3d fourier transform of sinogram
14:36:33.041157   calculate 394 planes of axis 1
14:36:34.007824    calculate fourier projection of axis 1
14:36:37.048457    calculate inverse fourier transform of axis 1
14:36:40.007324    split axis 1 into 2 segments
14:36:40.038818    calculate weighting of axis 1
14:36:41.045239   finished with axis 1
14:36:41.045406   calculate 358 planes of axis 2
14:36:42.056164    calculate fourier projection of axis 2
14:36:45.031855    calculate inverse fourier transform of axis 2
14:36:48.051689    split axis 2 into 2 segments
14:36:48.005592    calculate weighting of axis 2
14:36:49.034246   finished with axis 2
14:36:49.034366   calculate 322 planes of axis 3
14:36:50.031486    calculate fourier projection of axis 3
14:36:53.038152    calculate inverse fourier transform of axis 3
14:36:56.035513    split axis 3 into 2 segments
14:36:56.044512    calculate weighting of axis 3
14:36:57.036625   finished with axis 3
14:36:57.036750   calculate 286 planes of axis 4
14:36:57.041228    calculate fourier projection of axis 4
14:37:00.036813    calculate inverse fourier transform of axis 4
14:37:03.029692    split axis 4 into 2 segments
14:37:03.028724    calculate weighting of axis 4
14:37:04.052759   finished with axis 4
14:37:04.052874   calculate 250 planes of axis 5
14:37:05.031463    calculate fourier projection of axis 5
14:37:07.009734    calculate inverse fourier transform of axis 5
14:37:11.064073    split axis 5 into 2 segments
14:37:11.050870    calculate weighting of axis 5
14:37:11.053509   finished with axis 5
14:37:11.053642   calculate 214 planes of axis 6
14:37:12.020324    calculate fourier projection of axis 6
14:37:14.010831    calculate inverse fourier transform of axis 6
14:37:17.000935    split axis 6 into 2 segments
14:37:18.026708    calculate weighting of axis 6
14:37:18.000778   finished with axis 6
14:37:18.000915   calculate 178 planes of axis 7
14:37:19.025177    calculate fourier projection of axis 7
14:37:21.043677    calculate inverse fourier transform of axis 7
14:37:24.041020    split axis 7 into 2 segments
14:37:24.009678    calculate weighting of axis 7
14:37:24.016280   finished with axis 7
14:37:24.006825  axes=8
14:37:24.006946  axis table=2209 {207,394,358,322,286,250,214,178}
14:37:24.007013  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.a
14:37:24.007078   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.a (matrix 0)
14:37:25.062821   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.h33 (matrix 0)
14:37:25.047801  
14:37:25.047924 gantry model values that may have been used:
14:37:25.047970  model number=328
14:37:25.048016  defaultElements()=256
14:37:25.048074  binSize()=0.121875cm
14:37:25.048120  defaultAngles()=288
14:37:25.048164  planeSep()=0.121875cm
14:37:25.048212  crystalRadius()=23.45cm
14:37:25.048257  sinogramDepthOfInteraction()=0cm
14:37:25.048305  sinogramIntrinsicTilt()=0 degrees
14:37:25.048345  isRingArch()=false
14:37:25.048384  isPETOnlyArch()=true
14:37:25.048427  defPlaneDefSpan3D()=3
14:37:25.048471  defRingDiffMax()=67
14:37:25.048514  bucketsPerRing()=unknown
14:37:25.048558  bucketRings()=1
14:37:25.048601  axialBlocks()=13
14:37:25.048645  transBlocks()=9
14:37:25.048698  axialCrystals()=8
14:37:25.048743  transCrystals()=8
14:37:25.048786  axialBlockGaps()=0
14:37:25.048830  transBlockGaps()=0
14:37:25.048873  directPlanes()=104
14:37:25.048917  defaultLLD()=400 keV
14:37:25.048961  defaultULD()=650 keV
14:37:25.049004  nCrystalLayers()=2
14:37:25.049052   crystalLayerMaterial(0)=LSO
14:37:25.049125   crystalLayerBackgroundErgRatio(0)=12%
14:37:25.049177   crystalLayerFWHMErgRes(0)=17%
14:37:25.049225   crystalLayerDepth(0)=1cm
14:37:25.049273   crystalLayerMaterial(1)=LYSO
14:37:25.049348   crystalLayerBackgroundErgRatio(1)=12%
14:37:25.049396   crystalLayerFWHMErgRes(1)=17%
14:37:25.049442   crystalLayerDepth(1)=1cm
14:37:25.049486  maxScatterZfOV()=40cm
14:37:25.049523  
14:37:25.049579 processing time 00:01:00.304688 (hh:mm:ss)
14:37:25.049642 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:37:25.049702 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:37:25.049745 memory access pattern: 36 entries
14:37:25.049781  
14:37:27.012456 unknown (0x)    memory: 0 MByte
14:37:27.012570 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:37:27.012622 Revision: 275.1
14:37:27.012681 current date and time (GMT): Sat Dec  4 19:37:27 2010
14:37:27.012746 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:37:27.012833 free memory in memory controller: 9541.25 MByte
14:37:27.013004 memory access pattern found
14:37:27.013060 free memory in memory controller: 9541.25 MByte
14:37:27.013129 Default crystalLayerBackgroundErgRatio: 12,12
14:37:27.013194 Specified crystalLayerBackgroundErgRatio: 14,14
14:37:27.051824 calculate sinogram for 1 matrix
14:37:27.051958  loading the 3d emission scan (matrix 0)
14:37:27.052015   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20.tr.s'
14:37:27.052065    matrix number=0
14:37:30.048880    RhoSamples=256
14:37:30.049020    BinSizeRho=1.21875mm
14:37:30.049070    ThetaSamples=288
14:37:30.049117    mash factor=0
14:37:30.049166    plane separation=1.21875mm
14:37:30.049213    axes=8
14:37:30.049279    axis table=2209 {207,394,358,322,286,250,214,178}
14:37:30.049328    span=9
14:37:30.049383    maximum ring difference=67
14:37:30.049433    intrinsic tilt=0 degrees
14:37:30.049482    bed position=0mm
14:37:30.049530    scan start time=0 sec
14:37:30.049583    scan frame duration=0 sec (0 min)
14:37:30.049636    scan gate duration=0 sec (0 min)
14:37:30.049685    isotope halflife=0 sec
14:37:30.049732    lld=400 KeV
14:37:30.049777    uld=650 KeV
14:37:30.049819    corrections applied=
14:37:30.049884  calculating the 3d normalisation scan (matrix 0)
14:37:30.049957   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:37:31.051530    matrix number=0
14:37:31.051638    RhoSamples=256
14:37:31.051692    BinSizeRho=1.21875mm
14:37:31.051733    ThetaSamples=288
14:37:31.051772    mash factor=0
14:37:31.051812    plane separation=1.21875mm
14:37:31.051851    axes=8
14:37:31.051907    axis table=2209 {207,394,358,322,286,250,214,178}
14:37:31.051948    span=9
14:37:31.051998    maximum ring difference=67
14:37:31.052040    intrinsic tilt=0 degrees
14:37:31.052081    bed position=0mm
14:37:31.052121    scan start time=0 sec
14:37:31.052166    scan frame duration=0 sec (0 min)
14:37:31.052212    scan gate duration=0 sec (0 min)
14:37:31.052253    isotope halflife=0 sec
14:37:31.052292    lld=400 KeV
14:37:31.052330    uld=650 KeV
14:37:31.052366    corrections applied=
14:37:31.052410  normalize 3d emission
14:37:31.052448   multiply sinograms
14:37:33.004381  normalization based gap filling
14:37:33.005177    fill 207 planes 8 threads
14:37:33.063222    fill 394 planes 8 threads
14:37:33.055884    fill 358 planes 8 threads
14:37:33.051833    fill 322 planes 8 threads
14:37:34.063599    fill 286 planes 8 threads
14:37:34.040205    fill 250 planes 8 threads
14:37:34.063459    fill 214 planes 8 threads
14:37:34.020006    fill 178 planes 8 threads
14:37:35.026554   bed position in emission=0mm
14:37:35.026751   bed position in u-map=0mm
14:37:35.026860   bed position in acf=0mm
14:37:35.026931  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.i
14:37:35.026990   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.i'
14:37:35.027062    matrix number=0
14:37:35.045730    XYSamples=128
14:37:35.045863    DeltaXY=2.4375mm
14:37:35.045912    ZSamples=207
14:37:35.045959    DeltaZ=1.21875mm
14:37:35.046002    corrections applied=
14:37:35.046043    u-map data=yes
14:37:35.046090    bed position=0mm
14:37:35.046138    scan start time=0 sec
14:37:35.046191    scan frame duration=0 sec (0 min)
14:37:35.046243    scan gate duration=0 sec (0 min)
14:37:35.046292    isotope halflife=0 sec
14:37:35.046348    lld=0 KeV
14:37:35.046395    uld=0 KeV
14:37:35.046441  loading the acf (matrix 0)
14:37:35.046497   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.a'
14:37:35.046548    matrix number=0
14:37:35.000108    RhoSamples=256
14:37:35.000231    BinSizeRho=1.21875mm
14:37:35.000273    ThetaSamples=288
14:37:35.000313    mash factor=0
14:37:35.000354    plane separation=1.21875mm
14:37:35.000395    axes=8
14:37:35.000455    axis table=2209 {207,394,358,322,286,250,214,178}
14:37:35.000499    span=9
14:37:35.000560    maximum ring difference=67
14:37:35.000605    intrinsic tilt=0 degrees
14:37:35.000647    bed position=0mm
14:37:35.000689    scan start time=0 sec
14:37:35.000735    scan frame duration=0 sec (0 min)
14:37:35.000781    scan gate duration=0 sec (0 min)
14:37:35.000823    isotope halflife=0 sec
14:37:35.000864    lld=400 KeV
14:37:35.000903    uld=650 KeV
14:37:35.000940    corrections applied=
14:37:35.000998  replace values below 1 by 1
14:37:36.005257  estimate scatter sinogram
14:37:36.019020   counts in image: min=0  max=0.155689  total=53504.5
14:37:36.019181   start single-slice rebinning from 256x288x2209 to 256x288x207
14:37:36.019222   initialize SSR
14:37:36.019262    RhoSamples=256
14:37:36.019302    ThetaSamples=288
14:37:36.019341    axes=8
14:37:36.019399    axis table=2209 {207,394,358,322,286,250,214,178}
14:37:36.023686    skip 2 planes at each side of a segment
14:37:36.023809    calculate e*n*a of axis 0 (skip 2 border planes)
14:37:36.023855     calculate axis 0 of corrected sinogram
14:37:36.022661    calculate single-slice rebinning of axis 0
14:37:36.022789    ssr 203 planes
14:37:36.012749    calculate e*n*a of axis 1 (skip 2 border planes)
14:37:36.012869     calculate axis 1 of corrected sinogram
14:37:36.055168    calculate single-slice rebinning of axis 1
14:37:36.055330    ssr 193 planes
14:37:36.006486    calculate e*n*a of axis 2 (skip 2 border planes)
14:37:36.006610     calculate axis 2 of corrected sinogram
14:37:36.019013    calculate single-slice rebinning of axis 2
14:37:36.019142    ssr 175 planes
14:37:36.027239    calculate e*n*a of axis 3 (skip 2 border planes)
14:37:36.027341     calculate axis 3 of corrected sinogram
14:37:37.001221    calculate single-slice rebinning of axis 3
14:37:37.001345    ssr 157 planes
14:37:37.001849    calculate e*n*a of axis 4 (skip 2 border planes)
14:37:37.001967     calculate axis 4 of corrected sinogram
14:37:37.038298    calculate single-slice rebinning of axis 4
14:37:37.038428    ssr 139 planes
14:37:37.031390    calculate e*n*a of axis 5 (skip 2 border planes)
14:37:37.031492     calculate axis 5 of corrected sinogram
14:37:37.045745    calculate single-slice rebinning of axis 5
14:37:37.045868    ssr 121 planes
14:37:37.031492    calculate e*n*a of axis 6 (skip 2 border planes)
14:37:37.031597     calculate axis 6 of corrected sinogram
14:37:37.025203    calculate single-slice rebinning of axis 6
14:37:37.025325    ssr 103 planes
14:37:37.004394    calculate e*n*a of axis 7 (skip 2 border planes)
14:37:37.004502     calculate axis 7 of corrected sinogram
14:37:37.042422    calculate single-slice rebinning of axis 7
14:37:37.042545    ssr 85 planes
14:37:37.013491    normalize sinogram
14:37:38.046190   finished single-slice rebinning in 1.96094 sec
14:37:38.046311   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:37:38.046372    XYSamples=128
14:37:38.046415    DeltaXY=2.4375mm
14:37:38.046456    RhoSamples=256
14:37:38.046498    BinSizeRho=1.21875mm
14:37:38.046573    ThetaSamples=288
14:37:38.046616    plane separation=1.21875mm
14:37:38.046664    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:37:38.046705    subsets=8
14:37:38.046746    axes=1
14:37:38.046791    axis table=207 {207}
14:37:38.046829    algorithm=AW-OSEM
14:37:38.046867    use LUT=small
14:37:38.047036    initialize backprojector
14:37:38.047108     angle of segment 0: 0 degrees
14:37:38.047340     create mode 1 lookup-table for backprojector: 63 MByte
14:37:38.039208     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:37:38.024458     start calculation of normalization factors for AW-OSEM
14:37:38.024649      allocate 103.5 MByte for normalization factors
14:37:38.024701      start calculation of normalization factors for subset 0
14:37:38.039456       calculate segment 0, subset 0 of 1/a sinogram
14:37:38.062977       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:37:38.041810      finished calculation of normalization factors for subset 0 in 0.148438 sec
14:37:38.041904      start calculation of normalization factors for subset 1
14:37:38.059637       calculate segment 0, subset 1 of 1/a sinogram
14:37:38.013200       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:37:38.060830      finished calculation of normalization factors for subset 1 in 0.148438 sec
14:37:38.060923      start calculation of normalization factors for subset 2
14:37:38.010277       calculate segment 0, subset 2 of 1/a sinogram
14:37:38.027884       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:37:38.051483      finished calculation of normalization factors for subset 2 in 0.121094 sec
14:37:38.051602      start calculation of normalization factors for subset 3
14:37:38.001383       calculate segment 0, subset 3 of 1/a sinogram
14:37:38.019347       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:37:38.038318      finished calculation of normalization factors for subset 3 in 0.183594 sec
14:37:38.038409      start calculation of normalization factors for subset 4
14:37:38.053335       calculate segment 0, subset 4 of 1/a sinogram
14:37:38.005551       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:37:38.039647      finished calculation of normalization factors for subset 4 in 0.132812 sec
14:37:38.039742      start calculation of normalization factors for subset 5
14:37:38.055709       calculate segment 0, subset 5 of 1/a sinogram
14:37:38.009532       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:37:39.007339      finished calculation of normalization factors for subset 5 in 0.117188 sec
14:37:39.007447      start calculation of normalization factors for subset 6
14:37:39.025397       calculate segment 0, subset 6 of 1/a sinogram
14:37:39.043046       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:37:39.058776      finished calculation of normalization factors for subset 6 in 0.117188 sec
14:37:39.058905      start calculation of normalization factors for subset 7
14:37:39.009553       calculate segment 0, subset 7 of 1/a sinogram
14:37:39.027843       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:37:39.023313      finished calculation of normalization factors for subset 7 in 0.09375 sec
14:37:39.023436     finished calculation of normalization factors in 1.0625 sec
14:37:39.023476    divide sinograms
14:37:39.061905    initialize forward-projector
14:37:39.062038     angles of segment 0
14:37:39.062082      plane 0-206: 0 degrees
14:37:39.062322     create mode 1 lookup-table for forward-projector: 126 MByte
14:37:39.041501     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:37:39.050123     start reconstruction from 256x288x207 to 128x128x207
14:37:39.050257      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:37:39.061474      start iteration 1, subset 0
14:37:40.047967      finished iteration 1, subset 0 in 0.332031 sec
14:37:40.048103      start iteration 1, subset 4
14:37:40.007396      finished iteration 1, subset 4 in 0.222656 sec
14:37:40.007517      start iteration 1, subset 2
14:37:40.031902      finished iteration 1, subset 2 in 0.285156 sec
14:37:40.032019      start iteration 1, subset 6
14:37:40.033010      finished iteration 1, subset 6 in 0.261719 sec
14:37:40.033115      start iteration 1, subset 1
14:37:41.021385      finished iteration 1, subset 1 in 0.203125 sec
14:37:41.021511      start iteration 1, subset 5
14:37:41.017911      finished iteration 1, subset 5 in 0.191406 sec
14:37:41.018018      start iteration 1, subset 3
14:37:41.041211      finished iteration 1, subset 3 in 0.347656 sec
14:37:41.041313      start iteration 1, subset 7
14:37:42.015959      finished iteration 1, subset 7 in 0.320312 sec
14:37:42.016071      start iteration 2, subset 0
14:37:42.012507      finished iteration 2, subset 0 in 0.257812 sec
14:37:42.012610      start iteration 2, subset 4
14:37:42.030970      finished iteration 2, subset 4 in 0.214844 sec
14:37:42.031079      start iteration 2, subset 2
14:37:42.031933      finished iteration 2, subset 2 in 0.265625 sec
14:37:42.032038      start iteration 2, subset 6
14:37:43.023152      finished iteration 2, subset 6 in 0.269531 sec
14:37:43.023255      start iteration 2, subset 1
14:37:43.033016      finished iteration 2, subset 1 in 0.335938 sec
14:37:43.033122      start iteration 2, subset 5
14:37:43.047427      finished iteration 2, subset 5 in 0.34375 sec
14:37:43.047570      start iteration 2, subset 3
14:37:43.021905      finished iteration 2, subset 3 in 0.226562 sec
14:37:43.022028      start iteration 2, subset 7
14:37:44.036515      finished iteration 2, subset 7 in 0.226562 sec
14:37:44.036642      start iteration 3, subset 0
14:37:44.056170      finished iteration 3, subset 0 in 0.214844 sec
14:37:44.056271      start iteration 3, subset 4
14:37:44.009559      finished iteration 3, subset 4 in 0.28125 sec
14:37:44.009663      start iteration 3, subset 2
14:37:44.015938      finished iteration 3, subset 2 in 0.269531 sec
14:37:44.016042      start iteration 3, subset 6
14:37:45.061015      finished iteration 3, subset 6 in 0.324219 sec
14:37:45.061115      start iteration 3, subset 1
14:37:45.059510      finished iteration 3, subset 1 in 0.195312 sec
14:37:45.059614      start iteration 3, subset 5
14:37:45.049981      finished iteration 3, subset 5 in 0.253906 sec
14:37:45.050123      start iteration 3, subset 3
14:37:46.037127      finished iteration 3, subset 3 in 0.328125 sec
14:37:46.037230      start iteration 3, subset 7
14:37:46.055944      finished iteration 3, subset 7 in 0.214844 sec
14:37:46.056078      mask 207 planes of image
14:37:46.004259      scale image with 1.21875
14:37:46.010669      scale image with 4
14:37:46.017694     finished reconstruction in 6.44531 sec
14:37:46.017798     forward projector: 3.17188 sec
14:37:46.017848     backprojector: 2.25 sec
14:37:46.029466   finished reconstruction of emission in 8.24609 sec
14:37:46.029562   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:37:46.033971   scale image by 4.10256
14:37:46.050571   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:37:46.050689   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:37:46.050760   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:37:46.050819   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:37:46.050856   start scatter estimation
14:37:46.050909    calculate matrix for beta-spline interpolation
14:37:46.060278    start scatter simulation
14:37:46.060350     effective detector ring radius=234.5mm (234.5mm+0mm)
14:37:46.060394     DeltaXY=2.4375mm
14:37:46.060436     DeltaZ=1.21875mm
14:37:46.060487     LLD=400 keV
14:37:46.060529     ULD=650 keV
14:37:46.004528     search bounds of object in u-map
14:37:46.030013     x bounds (-x,+x)=-93.8413mm,84.0913mm
14:37:46.030124     y bounds (-y,+y)=-101.154mm,135.279mm
14:37:46.030173     z bounds (-z,+z)=-56.6707mm,126.139mm
14:37:46.030248     length of axial scatter fov=365.615mm (max. 365.615mm)
14:37:46.030298     scatter samples (x,y,z)=8,11,16
14:37:46.030351     image size (x,y,z)=177.933mm,236.433mm,365.615mm
14:37:46.030404     scatter_grid size (x,y,z)=22.2416mm,21.4939mm,22.851mm
14:37:46.011966     start simulation of scatter sinogram (19x34x10)
14:37:46.012176      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:37:46.012256      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:37:46.012359      thread 1: 320 samples in plane 0 inside of object (plane 8 of full sinogram)
14:37:46.012423      thread 2: 407 samples in plane 1 inside of object (plane 29 of full sinogram)
14:37:46.025279      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:37:46.025479      thread 3: 490 samples in plane 2 inside of object (plane 50 of full sinogram)
14:37:46.026190      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:37:46.026368      thread 4: 506 samples in plane 3 inside of object (plane 71 of full sinogram)
14:37:46.029302      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:37:46.029510      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:37:46.029659      thread 5: 504 samples in plane 4 inside of object (plane 92 of full sinogram)
14:37:46.029741      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:37:46.029825      thread 6: 509 samples in plane 5 inside of object (plane 113 of full sinogram)
14:37:46.045427      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:37:46.045653      thread 7: 506 samples in plane 6 inside of object (plane 134 of full sinogram)
14:37:46.036591      thread 8: 508 samples in plane 8 inside of object (plane 176 of full sinogram)
14:37:46.059615      thread 7: 512 samples in plane 7 inside of object (plane 155 of full sinogram)
14:37:46.030662      thread 8: 503 samples in plane 9 inside of object (plane 197 of full sinogram)
14:37:46.022609     finished simulation of scatter sinogram
14:37:46.033998    finished scatter simulation in 0.300781 sec
14:37:46.034110    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:37:47.062424   finished scatter estimation in 1.53516 sec
14:37:47.062508   convert 2d scatter sinogram into 3d sinogram
14:37:47.062552   calculate axial scatter scale factors (smoothed with boxcar 17)
14:37:47.062633    acf threshold=1.03
14:37:48.024203    calculate scale factors for segment 0
14:37:48.024311    scatter size 256x288x207
14:37:48.062103     apply lower and upper thresholds 0.25 and 2
14:37:48.062218    calculate scale factors for segment +1
14:37:48.062275    scatter size 256x288x197
14:37:48.027625     apply lower and upper thresholds 0.25 and 2
14:37:48.027728    calculate scale factors for segment -1
14:37:48.027785    scatter size 256x288x197
14:37:48.050223     apply lower and upper thresholds 0.25 and 2
14:37:48.050343    calculate scale factors for segment +2
14:37:48.050401    scatter size 256x288x179
14:37:48.060116     apply lower and upper thresholds 0.25 and 2
14:37:49.011297    calculate scale factors for segment -2
14:37:49.000986    scatter size 256x288x179
14:37:49.013919     apply lower and upper thresholds 0.25 and 2
14:37:49.014033    calculate scale factors for segment +3
14:37:49.014090    scatter size 256x288x161
14:37:49.008960     apply lower and upper thresholds 0.25 and 2
14:37:49.009064    calculate scale factors for segment -3
14:37:49.009120    scatter size 256x288x161
14:37:49.062891     apply lower and upper thresholds 0.25 and 2
14:37:49.062996    calculate scale factors for segment +4
14:37:49.063052    scatter size 256x288x143
14:37:49.039107     apply lower and upper thresholds 0.25 and 2
14:37:49.039208    calculate scale factors for segment -4
14:37:49.039263    scatter size 256x288x143
14:37:49.012992     apply lower and upper thresholds 0.25 and 2
14:37:49.013108    calculate scale factors for segment +5
14:37:49.013162    scatter size 256x288x125
14:37:49.039696     apply lower and upper thresholds 0.25 and 2
14:37:49.039795    calculate scale factors for segment -5
14:37:49.039848    scatter size 256x288x125
14:37:49.062064     apply lower and upper thresholds 0.25 and 2
14:37:50.018917    calculate scale factors for segment +6
14:37:50.018985    scatter size 256x288x107
14:37:50.031107     apply lower and upper thresholds 0.25 and 2
14:37:50.031212    calculate scale factors for segment -6
14:37:50.031268    scatter size 256x288x107
14:37:50.039396     apply lower and upper thresholds 0.25 and 2
14:37:50.039495    calculate scale factors for segment +7
14:37:50.039560    scatter size 256x288x89
14:37:50.035252     apply lower and upper thresholds 0.25 and 2
14:37:50.035353    calculate scale factors for segment -7
14:37:50.035410    scatter size 256x288x89
14:37:50.029552     apply lower and upper thresholds 0.25 and 2
14:37:57.050633   scatter fraction at first pass=41.1503%
14:37:58.025310  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_sc_ATX.s
14:37:58.025451   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_sc_ATX.s (matrix 0)
14:37:58.046064   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_sc_ATX.h33 (matrix 0)
14:37:58.046406  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_sc_ATX.s
14:37:58.059164  
14:37:58.059268 gantry model values that may have been used:
14:37:58.059315  model number=328
14:37:58.059361  defaultElements()=256
14:37:58.059419  binSize()=0.121875cm
14:37:58.059465  defaultAngles()=288
14:37:58.059518  planeSep()=0.121875cm
14:37:58.059566  crystalRadius()=23.45cm
14:37:58.059611  sinogramDepthOfInteraction()=0cm
14:37:58.059658  sinogramIntrinsicTilt()=0 degrees
14:37:58.059699  isRingArch()=false
14:37:58.059738  isPETOnlyArch()=true
14:37:58.059782  defPlaneDefSpan3D()=3
14:37:58.059843  defRingDiffMax()=67
14:37:58.059886  bucketsPerRing()=unknown
14:37:58.059931  bucketRings()=1
14:37:58.059975  axialBlocks()=13
14:37:58.060019  transBlocks()=9
14:37:58.060063  axialCrystals()=8
14:37:58.060107  transCrystals()=8
14:37:58.060151  axialBlockGaps()=0
14:37:58.060195  transBlockGaps()=0
14:37:58.060238  directPlanes()=104
14:37:58.060282  defaultLLD()=400 keV
14:37:58.060327  defaultULD()=650 keV
14:37:58.060371  nCrystalLayers()=2
14:37:58.060437   crystalLayerMaterial(0)=LSO
14:37:58.060509   crystalLayerBackgroundErgRatio(0)=14%
14:37:58.060565   crystalLayerFWHMErgRes(0)=17%
14:37:58.060613   crystalLayerDepth(0)=1cm
14:37:58.060660   crystalLayerMaterial(1)=LYSO
14:37:58.060714   crystalLayerBackgroundErgRatio(1)=14%
14:37:58.060765   crystalLayerFWHMErgRes(1)=17%
14:37:58.060821   crystalLayerDepth(1)=1cm
14:37:58.060869  maxScatterZfOV()=40cm
14:37:58.060907  
14:37:58.038287 processing time 00:00:31.0898 (hh:mm:ss)
14:37:58.038404 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:37:58.038462 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:37:58.038507 memory access pattern: 411 entries
14:37:58.038545  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1696624640
14:38:00	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:38:00	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_sc_ATX.s
14:38:00	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20.s
14:38:00	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20.ch
14:38:00	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:38:00	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.a
14:38:00	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_3D_ATX.i
14:38:00	  Method               : OPO3D
14:38:00	  Positivity constraint in sinogram space
14:38:00	  Max of sensitivity image      : 1.000000e+04
14:38:00	  Threshold for missing data    : 1.000000e-04
14:38:00	  Threshold for image update    : 1.000000e-10
14:38:00	  Maximum of image      	: 10000000000.000000
14:38:00	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:38:00	Model 999 
14:38:00	  Triming 3 planes at segment edges 
14:38:00	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:38:00	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 17 iterations (41 msec)
1	606 msec   
2	3556 msec   
3	3420 msec   
4	3150 msec   
5	608 msec   
Smooth Delays computed in 12029 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4670 msec.
Total time 16699 msec.
14:38:16	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.a: attenuation file size 651460608
14:38:16	expected file size 256x288x2209(2209)
14:38:16	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr20.a: attenuation file type 0
14:38:16	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:38:17	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:38:17	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_3D_ATX.i reconstruction started
14:38:17	  Prepare components of update equation from input data ...
14:38:22	  Read normalization and normalize delayed
14:38:22	  Apply normalization mask to prompt sinogram
14:38:26	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:38:52	  Iteration 1 in 84.950 sec
14:39:18	  Iteration 2 in 86.470 sec
14:39:44	  Iteration 3 in 85.180 sec
14:40:10	  Iteration 4 in 84.360 sec
14:40:35	  Iteration 5 in 84.190 sec
14:41:01	  Iteration 6 in 84.970 sec
14:41:26	  Iteration 7 in 86.010 sec
14:41:52	  Iteration 8 in 84.350 sec
14:42:17	  Iteration 9 in 84.610 sec
14:42:42	  Iteration 10 in 85.220 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_3D_ATX.i' complete
14:42:43	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame20_3D_ATX.i reconstruction done in 282 sec
14:42:44.015657 unknown (0x)    memory: 0 MByte
14:42:44.015761 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:42:44.015830 Revision: 275.1
14:42:44.015893 current date and time (GMT): Sat Dec  4 19:42:44 2010
14:42:44.015961 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
14:42:44.016038 free memory in memory controller: 9541.25 MByte
14:42:44.016183 memory access pattern found
14:42:44.016236 free memory in memory controller: 9541.25 MByte
14:42:44.021472 calculate acf for 1 matrix
14:42:44.021559  span=9
14:42:44.021604  maximum ring difference=67
14:42:44.021675  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.i
14:42:44.021733   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.i'
14:42:44.021780    matrix number=0
14:42:44.009312    XYSamples=128
14:42:44.009437    DeltaXY=2.4375mm
14:42:44.009482    ZSamples=207
14:42:44.009526    DeltaZ=1.21875mm
14:42:44.009566    corrections applied=
14:42:44.009642    u-map data=yes
14:42:44.009689    bed position=0mm
14:42:44.009734    scan start time=0 sec
14:42:44.009783    scan frame duration=0 sec (0 min)
14:42:44.009833    scan gate duration=0 sec (0 min)
14:42:44.009878    isotope halflife=0 sec
14:42:44.009921    lld=0 KeV
14:42:44.009963    uld=0 KeV
14:42:44.016333  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
14:42:44.016460  XYSamples=128
14:42:44.016517  DeltaXY=2.4375mm
14:42:44.016560  RhoSamples=256
14:42:44.016624  BinSizeRho=1.21875mm
14:42:44.016668  ThetaSamples=288
14:42:44.016712  plane separation=1.21875mm
14:42:44.016761  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:42:44.016805  subsets=1
14:42:44.016846  axes=1
14:42:44.016898  axis table=207 {207}
14:42:44.016938  algorithm=UW-OSEM
14:42:44.016978  use LUT=no
14:42:44.017164  time of flight bins=1
14:42:44.017210  initialize forward-projector
14:42:44.017254   angles of segment 0
14:42:44.017297    plane 0-206: 0 degrees
14:42:44.017557  start forward projection
14:42:44.042912   start forward projection of subset 0 from 128x128x207 to 256x288x207
14:42:44.043030    project segment 0
14:42:46.051065   finished forward projection of subset 0 in 2.39844 sec
14:42:46.003095   scale 207 planes of sinogram by 0.410256
14:42:46.034662  finished forward projection in 2.54297 sec
14:42:46.034785  convert emission into transmission data
14:42:47.050111  span=9
14:42:47.050232  maximum ring difference=67
14:42:47.050299  iFORE sinogram 1 from 256x288x207 to 256x288x2209
14:42:47.050481   replace values below 1 by 1
14:42:47.005863   copy 207 planes of segment 0
14:42:48.002738   create 360 degrees sinogram (512x576x207)
14:42:48.046830   calculate 3d fourier transform of sinogram
14:42:51.003913   calculate 394 planes of axis 1
14:42:52.031506    calculate fourier projection of axis 1
14:42:55.062138    calculate inverse fourier transform of axis 1
14:42:58.004274    split axis 1 into 2 segments
14:42:59.019769    calculate weighting of axis 1
14:43:00.056126   finished with axis 1
14:43:00.056254   calculate 358 planes of axis 2
14:43:00.018547    calculate fourier projection of axis 2
14:43:03.051454    calculate inverse fourier transform of axis 2
14:43:06.053323    split axis 2 into 2 segments
14:43:06.007367    calculate weighting of axis 2
14:43:07.062103   finished with axis 2
14:43:07.062228   calculate 322 planes of axis 3
14:43:08.060451    calculate fourier projection of axis 3
14:43:11.018572    calculate inverse fourier transform of axis 3
14:43:14.004110    split axis 3 into 2 segments
14:43:14.012437    calculate weighting of axis 3
14:43:15.028511   finished with axis 3
14:43:15.028627   calculate 286 planes of axis 4
14:43:15.033812    calculate fourier projection of axis 4
14:43:18.042555    calculate inverse fourier transform of axis 4
14:43:21.024007    split axis 4 into 2 segments
14:43:21.021587    calculate weighting of axis 4
14:43:22.064315   finished with axis 4
14:43:22.064442   calculate 250 planes of axis 5
14:43:22.063637    calculate fourier projection of axis 5
14:43:25.038729    calculate inverse fourier transform of axis 5
14:43:28.002634    split axis 5 into 2 segments
14:43:29.038478    calculate weighting of axis 5
14:43:29.055785   finished with axis 5
14:43:29.055904   calculate 214 planes of axis 6
14:43:30.025144    calculate fourier projection of axis 6
14:43:32.015119    calculate inverse fourier transform of axis 6
14:43:35.033688    split axis 6 into 2 segments
14:43:35.011229    calculate weighting of axis 6
14:43:36.048092   finished with axis 6
14:43:36.048221   calculate 178 planes of axis 7
14:43:36.024452    calculate fourier projection of axis 7
14:43:39.023046    calculate inverse fourier transform of axis 7
14:43:41.005509    split axis 7 into 2 segments
14:43:41.039898    calculate weighting of axis 7
14:43:42.052900   finished with axis 7
14:43:42.045672  axes=8
14:43:42.045792  axis table=2209 {207,394,358,322,286,250,214,178}
14:43:42.045853  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.a
14:43:42.045914   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.a (matrix 0)
14:43:43.003328   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.h33 (matrix 0)
14:43:43.058776  
14:43:43.058900 gantry model values that may have been used:
14:43:43.058946  model number=328
14:43:43.058993  defaultElements()=256
14:43:43.059052  binSize()=0.121875cm
14:43:43.059097  defaultAngles()=288
14:43:43.059141  planeSep()=0.121875cm
14:43:43.059188  crystalRadius()=23.45cm
14:43:43.059234  sinogramDepthOfInteraction()=0cm
14:43:43.059282  sinogramIntrinsicTilt()=0 degrees
14:43:43.059321  isRingArch()=false
14:43:43.059359  isPETOnlyArch()=true
14:43:43.059403  defPlaneDefSpan3D()=3
14:43:43.059446  defRingDiffMax()=67
14:43:43.059489  bucketsPerRing()=unknown
14:43:43.059533  bucketRings()=1
14:43:43.059577  axialBlocks()=13
14:43:43.059620  transBlocks()=9
14:43:43.059669  axialCrystals()=8
14:43:43.059714  transCrystals()=8
14:43:43.059758  axialBlockGaps()=0
14:43:43.059802  transBlockGaps()=0
14:43:43.059844  directPlanes()=104
14:43:43.059888  defaultLLD()=400 keV
14:43:43.059932  defaultULD()=650 keV
14:43:43.059975  nCrystalLayers()=2
14:43:43.060022   crystalLayerMaterial(0)=LSO
14:43:43.060094   crystalLayerBackgroundErgRatio(0)=12%
14:43:43.060146   crystalLayerFWHMErgRes(0)=17%
14:43:43.060194   crystalLayerDepth(0)=1cm
14:43:43.060241   crystalLayerMaterial(1)=LYSO
14:43:43.060296   crystalLayerBackgroundErgRatio(1)=12%
14:43:43.060346   crystalLayerFWHMErgRes(1)=17%
14:43:43.060395   crystalLayerDepth(1)=1cm
14:43:43.060442  maxScatterZfOV()=40cm
14:43:43.060480  
14:43:43.060538 processing time 00:00:59.0469 (hh:mm:ss)
14:43:43.060603 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:43:43.060664 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:43:43.060710 memory access pattern: 36 entries
14:43:43.060749  
14:43:44.004404 unknown (0x)    memory: 0 MByte
14:43:44.004517 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:43:44.004579 Revision: 275.1
14:43:44.004638 current date and time (GMT): Sat Dec  4 19:43:44 2010
14:43:44.004703 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:43:44.004792 free memory in memory controller: 9541.25 MByte
14:43:44.004954 memory access pattern found
14:43:44.005010 free memory in memory controller: 9541.25 MByte
14:43:44.005079 Default crystalLayerBackgroundErgRatio: 12,12
14:43:44.005145 Specified crystalLayerBackgroundErgRatio: 14,14
14:43:44.003533 calculate sinogram for 1 matrix
14:43:44.003651  loading the 3d emission scan (matrix 0)
14:43:44.003722   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21.tr.s'
14:43:44.003769    matrix number=0
14:43:47.003182    RhoSamples=256
14:43:47.003349    BinSizeRho=1.21875mm
14:43:47.003406    ThetaSamples=288
14:43:47.003454    mash factor=0
14:43:47.003503    plane separation=1.21875mm
14:43:47.003551    axes=8
14:43:47.003618    axis table=2209 {207,394,358,322,286,250,214,178}
14:43:47.003667    span=9
14:43:47.003714    maximum ring difference=67
14:43:47.003763    intrinsic tilt=0 degrees
14:43:47.003813    bed position=0mm
14:43:47.003862    scan start time=0 sec
14:43:47.003916    scan frame duration=0 sec (0 min)
14:43:47.003970    scan gate duration=0 sec (0 min)
14:43:47.004020    isotope halflife=0 sec
14:43:47.004067    lld=400 KeV
14:43:47.004113    uld=650 KeV
14:43:47.004156    corrections applied=
14:43:47.004220  calculating the 3d normalisation scan (matrix 0)
14:43:47.004279   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:43:48.040552    matrix number=0
14:43:48.040667    RhoSamples=256
14:43:48.040722    BinSizeRho=1.21875mm
14:43:48.040763    ThetaSamples=288
14:43:48.040803    mash factor=0
14:43:48.040857    plane separation=1.21875mm
14:43:48.040899    axes=8
14:43:48.040956    axis table=2209 {207,394,358,322,286,250,214,178}
14:43:48.040998    span=9
14:43:48.041037    maximum ring difference=67
14:43:48.041079    intrinsic tilt=0 degrees
14:43:48.041120    bed position=0mm
14:43:48.041162    scan start time=0 sec
14:43:48.041208    scan frame duration=0 sec (0 min)
14:43:48.041253    scan gate duration=0 sec (0 min)
14:43:48.041295    isotope halflife=0 sec
14:43:48.041335    lld=400 KeV
14:43:48.041375    uld=650 KeV
14:43:48.041411    corrections applied=
14:43:48.041456  normalize 3d emission
14:43:48.041494   multiply sinograms
14:43:50.063587  normalization based gap filling
14:43:50.064403    fill 207 planes 8 threads
14:43:50.028749    fill 394 planes 8 threads
14:43:50.013056    fill 358 planes 8 threads
14:43:50.044211    fill 322 planes 8 threads
14:43:51.023252    fill 286 planes 8 threads
14:43:51.058561    fill 250 planes 8 threads
14:43:51.065496    fill 214 planes 8 threads
14:43:52.044731    fill 178 planes 8 threads
14:43:52.007545   bed position in emission=0mm
14:43:52.007755   bed position in u-map=0mm
14:43:52.007858   bed position in acf=0mm
14:43:52.007929  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.i
14:43:52.007989   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.i'
14:43:52.008043    matrix number=0
14:43:52.027619    XYSamples=128
14:43:52.027749    DeltaXY=2.4375mm
14:43:52.027794    ZSamples=207
14:43:52.027838    DeltaZ=1.21875mm
14:43:52.027878    corrections applied=
14:43:52.027917    u-map data=yes
14:43:52.027960    bed position=0mm
14:43:52.028004    scan start time=0 sec
14:43:52.028053    scan frame duration=0 sec (0 min)
14:43:52.028101    scan gate duration=0 sec (0 min)
14:43:52.028146    isotope halflife=0 sec
14:43:52.028188    lld=0 KeV
14:43:52.028230    uld=0 KeV
14:43:52.028272  loading the acf (matrix 0)
14:43:52.028324   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.a'
14:43:52.028369    matrix number=0
14:43:53.039823    RhoSamples=256
14:43:53.039975    BinSizeRho=1.21875mm
14:43:53.040020    ThetaSamples=288
14:43:53.040077    mash factor=0
14:43:53.040121    plane separation=1.21875mm
14:43:53.040164    axes=8
14:43:53.040225    axis table=2209 {207,394,358,322,286,250,214,178}
14:43:53.040273    span=9
14:43:53.040315    maximum ring difference=67
14:43:53.040359    intrinsic tilt=0 degrees
14:43:53.040403    bed position=0mm
14:43:53.040447    scan start time=0 sec
14:43:53.040496    scan frame duration=0 sec (0 min)
14:43:53.040544    scan gate duration=0 sec (0 min)
14:43:53.040589    isotope halflife=0 sec
14:43:53.040631    lld=400 KeV
14:43:53.040673    uld=650 KeV
14:43:53.040712    corrections applied=
14:43:53.040773  replace values below 1 by 1
14:43:53.061391  estimate scatter sinogram
14:43:53.009612   counts in image: min=0  max=0.155694  total=53513
14:43:53.009806   start single-slice rebinning from 256x288x2209 to 256x288x207
14:43:53.009846   initialize SSR
14:43:53.009888    RhoSamples=256
14:43:53.009978    ThetaSamples=288
14:43:53.010019    axes=8
14:43:53.010078    axis table=2209 {207,394,358,322,286,250,214,178}
14:43:53.014180    skip 2 planes at each side of a segment
14:43:53.014328    calculate e*n*a of axis 0 (skip 2 border planes)
14:43:53.014390     calculate axis 0 of corrected sinogram
14:43:53.015744    calculate single-slice rebinning of axis 0
14:43:53.015868    ssr 203 planes
14:43:53.006341    calculate e*n*a of axis 1 (skip 2 border planes)
14:43:53.006448     calculate axis 1 of corrected sinogram
14:43:53.049194    calculate single-slice rebinning of axis 1
14:43:53.049318    ssr 193 planes
14:43:54.047625    calculate e*n*a of axis 2 (skip 2 border planes)
14:43:54.047748     calculate axis 2 of corrected sinogram
14:43:54.063353    calculate single-slice rebinning of axis 2
14:43:54.063478    ssr 175 planes
14:43:54.004930    calculate e*n*a of axis 3 (skip 2 border planes)
14:43:54.005044     calculate axis 3 of corrected sinogram
14:43:54.062938    calculate single-slice rebinning of axis 3
14:43:54.063059    ssr 157 planes
14:43:54.063544    calculate e*n*a of axis 4 (skip 2 border planes)
14:43:54.063651     calculate axis 4 of corrected sinogram
14:43:54.036206    calculate single-slice rebinning of axis 4
14:43:54.036330    ssr 139 planes
14:43:54.028395    calculate e*n*a of axis 5 (skip 2 border planes)
14:43:54.028502     calculate axis 5 of corrected sinogram
14:43:54.045349    calculate single-slice rebinning of axis 5
14:43:54.045471    ssr 121 planes
14:43:55.013260    calculate e*n*a of axis 6 (skip 2 border planes)
14:43:55.013365     calculate axis 6 of corrected sinogram
14:43:55.007704    calculate single-slice rebinning of axis 6
14:43:55.007826    ssr 103 planes
14:43:55.051714    calculate e*n*a of axis 7 (skip 2 border planes)
14:43:55.051821     calculate axis 7 of corrected sinogram
14:43:55.025941    calculate single-slice rebinning of axis 7
14:43:55.026062    ssr 85 planes
14:43:55.061789    normalize sinogram
14:43:55.044798   finished single-slice rebinning in 1.96875 sec
14:43:55.044918   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:43:55.044998    XYSamples=128
14:43:55.045040    DeltaXY=2.4375mm
14:43:55.045080    RhoSamples=256
14:43:55.045121    BinSizeRho=1.21875mm
14:43:55.045160    ThetaSamples=288
14:43:55.045201    plane separation=1.21875mm
14:43:55.045250    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:43:55.045293    subsets=8
14:43:55.045332    axes=1
14:43:55.045378    axis table=207 {207}
14:43:55.045417    algorithm=AW-OSEM
14:43:55.045470    use LUT=small
14:43:55.045639    initialize backprojector
14:43:55.045713     angle of segment 0: 0 degrees
14:43:55.045943     create mode 1 lookup-table for backprojector: 63 MByte
14:43:55.036945     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:43:55.019854     start calculation of normalization factors for AW-OSEM
14:43:55.020046      allocate 103.5 MByte for normalization factors
14:43:55.020099      start calculation of normalization factors for subset 0
14:43:55.035059       calculate segment 0, subset 0 of 1/a sinogram
14:43:55.059036       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:43:55.014350      finished calculation of normalization factors for subset 0 in 0.125 sec
14:43:55.014466      start calculation of normalization factors for subset 1
14:43:55.029167       calculate segment 0, subset 1 of 1/a sinogram
14:43:55.046836       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:43:55.003586      finished calculation of normalization factors for subset 1 in 0.121094 sec
14:43:55.003680      start calculation of normalization factors for subset 2
14:43:55.018377       calculate segment 0, subset 2 of 1/a sinogram
14:43:55.036039       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:43:55.021152      finished calculation of normalization factors for subset 2 in 0.148438 sec
14:43:55.021250      start calculation of normalization factors for subset 3
14:43:55.036860       calculate segment 0, subset 3 of 1/a sinogram
14:43:55.054709       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:43:56.020143      finished calculation of normalization factors for subset 3 in 0.148438 sec
14:43:56.020237      start calculation of normalization factors for subset 4
14:43:56.034606       calculate segment 0, subset 4 of 1/a sinogram
14:43:56.052618       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:43:56.001960      finished calculation of normalization factors for subset 4 in 0.179688 sec
14:43:56.002065      start calculation of normalization factors for subset 5
14:43:56.019075       calculate segment 0, subset 5 of 1/a sinogram
14:43:56.036853       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:43:56.041433      finished calculation of normalization factors for subset 5 in 0.101562 sec
14:43:56.041530      start calculation of normalization factors for subset 6
14:43:56.057527       calculate segment 0, subset 6 of 1/a sinogram
14:43:56.009683       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:43:56.039158      finished calculation of normalization factors for subset 6 in 0.125 sec
14:43:56.039251      start calculation of normalization factors for subset 7
14:43:56.001018       calculate segment 0, subset 7 of 1/a sinogram
14:43:56.018971       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:43:56.044394      finished calculation of normalization factors for subset 7 in 0.136719 sec
14:43:56.044517     finished calculation of normalization factors in 1.08984 sec
14:43:56.044557    divide sinograms
14:43:56.017333    initialize forward-projector
14:43:56.017457     angles of segment 0
14:43:56.017518      plane 0-206: 0 degrees
14:43:56.017762     create mode 1 lookup-table for forward-projector: 126 MByte
14:43:57.046925     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:43:57.065283     start reconstruction from 256x288x207 to 128x128x207
14:43:57.065411      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:43:57.011120      start iteration 1, subset 0
14:43:57.021387      finished iteration 1, subset 0 in 0.273438 sec
14:43:57.021487      start iteration 1, subset 4
14:43:57.060832      finished iteration 1, subset 4 in 0.300781 sec
14:43:57.060939      start iteration 1, subset 2
14:43:58.021459      finished iteration 1, subset 2 in 0.304688 sec
14:43:58.039294      start iteration 1, subset 6
14:43:58.036965      finished iteration 1, subset 6 in 0.257812 sec
14:43:58.037068      start iteration 1, subset 1
14:43:58.018913      finished iteration 1, subset 1 in 0.375 sec
14:43:58.019018      start iteration 1, subset 5
14:43:59.017328      finished iteration 1, subset 5 in 0.277344 sec
14:43:59.017441      start iteration 1, subset 3
14:43:59.021118      finished iteration 1, subset 3 in 0.265625 sec
14:43:59.021222      start iteration 1, subset 7
14:43:59.017055      finished iteration 1, subset 7 in 0.324219 sec
14:43:59.017179      start iteration 2, subset 0
14:43:59.000479      finished iteration 2, subset 0 in 0.3125 sec
14:43:59.000584      start iteration 2, subset 4
14:44:00.057356      finished iteration 2, subset 4 in 0.269531 sec
14:44:00.057461      start iteration 2, subset 2
14:44:00.052514      finished iteration 2, subset 2 in 0.453125 sec
14:44:00.052627      start iteration 2, subset 6
14:44:01.022853      finished iteration 2, subset 6 in 0.316406 sec
14:44:01.022958      start iteration 2, subset 1
14:44:01.045307      finished iteration 2, subset 1 in 0.414062 sec
14:44:01.045412      start iteration 2, subset 5
14:44:01.064667      finished iteration 2, subset 5 in 0.347656 sec
14:44:01.064771      start iteration 2, subset 3
14:44:02.059383      finished iteration 2, subset 3 in 0.40625 sec
14:44:02.059518      start iteration 2, subset 7
14:44:02.028495      finished iteration 2, subset 7 in 0.296875 sec
14:44:02.028617      start iteration 3, subset 0
14:44:02.043824      finished iteration 3, subset 0 in 0.40625 sec
14:44:02.043926      start iteration 3, subset 4
14:44:03.003745      finished iteration 3, subset 4 in 0.371094 sec
14:44:03.003867      start iteration 3, subset 2
14:44:03.055465      finished iteration 3, subset 2 in 0.3125 sec
14:44:03.055583      start iteration 3, subset 6
14:44:03.029655      finished iteration 3, subset 6 in 0.304688 sec
14:44:03.029759      start iteration 3, subset 1
14:44:04.021960      finished iteration 3, subset 1 in 0.203125 sec
14:44:04.022066      start iteration 3, subset 5
14:44:04.051664      finished iteration 3, subset 5 in 0.226562 sec
14:44:04.051766      start iteration 3, subset 3
14:44:04.056843      finished iteration 3, subset 3 in 0.269531 sec
14:44:04.056949      start iteration 3, subset 7
14:44:04.050881      finished iteration 3, subset 7 in 0.253906 sec
14:44:04.051020      mask 207 planes of image
14:44:04.065397      scale image with 1.21875
14:44:04.006229      scale image with 4
14:44:04.012869     finished reconstruction in 7.60156 sec
14:44:04.012963     forward projector: 4.05469 sec
14:44:04.013005     backprojector: 2.52734 sec
14:44:04.022809   finished reconstruction of emission in 9.4375 sec
14:44:04.022896   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:44:05.003465   scale image by 4.10256
14:44:05.019285   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:44:05.019403   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:44:05.019472   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:44:05.019546   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:44:05.019587   start scatter estimation
14:44:05.019639    calculate matrix for beta-spline interpolation
14:44:05.028992    start scatter simulation
14:44:05.029064     effective detector ring radius=234.5mm (234.5mm+0mm)
14:44:05.029107     DeltaXY=2.4375mm
14:44:05.029150     DeltaZ=1.21875mm
14:44:05.029202     LLD=400 keV
14:44:05.029245     ULD=650 keV
14:44:05.038947     search bounds of object in u-map
14:44:05.065005     x bounds (-x,+x)=-93.8413mm,84.0913mm
14:44:05.065122     y bounds (-y,+y)=-103.591mm,135.279mm
14:44:05.065170     z bounds (-z,+z)=-55.4519mm,126.139mm
14:44:05.065220     length of axial scatter fov=363.178mm (max. 363.178mm)
14:44:05.065269     scatter samples (x,y,z)=8,11,16
14:44:05.065321     image size (x,y,z)=177.933mm,238.87mm,363.178mm
14:44:05.065373     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.6986mm
14:44:05.046109     start simulation of scatter sinogram (19x34x10)
14:44:05.046348      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:44:05.046424      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:44:05.046570      thread 2: 404 samples in plane 1 inside of object (plane 29 of full sinogram)
14:44:05.046657      thread 1: 319 samples in plane 0 inside of object (plane 8 of full sinogram)
14:44:05.022499      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:44:05.022726      thread 3: 486 samples in plane 2 inside of object (plane 50 of full sinogram)
14:44:05.012062      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:44:05.012239      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:44:05.012325      thread 4: 511 samples in plane 3 inside of object (plane 71 of full sinogram)
14:44:05.012398      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:44:05.012470      thread 5: 514 samples in plane 4 inside of object (plane 92 of full sinogram)
14:44:05.012535      thread 7: 507 samples in plane 6 inside of object (plane 134 of full sinogram)
14:44:05.023916      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:44:05.024122      thread 8: 510 samples in plane 8 inside of object (plane 176 of full sinogram)
14:44:05.052175      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:44:05.052378      thread 6: 514 samples in plane 5 inside of object (plane 113 of full sinogram)
14:44:05.019063      thread 8: 505 samples in plane 9 inside of object (plane 197 of full sinogram)
14:44:05.023182      thread 7: 515 samples in plane 7 inside of object (plane 155 of full sinogram)
14:44:05.016005     finished simulation of scatter sinogram
14:44:05.030664    finished scatter simulation in 0.394531 sec
14:44:05.030787    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:44:06.064814   finished scatter estimation in 1.63672 sec
14:44:06.064915   convert 2d scatter sinogram into 3d sinogram
14:44:06.064960   calculate axial scatter scale factors (smoothed with boxcar 17)
14:44:06.065026    acf threshold=1.03
14:44:06.043195    calculate scale factors for segment 0
14:44:06.043300    scatter size 256x288x207
14:44:07.011320     apply lower and upper thresholds 0.25 and 2
14:44:07.011437    calculate scale factors for segment +1
14:44:07.011494    scatter size 256x288x197
14:44:07.041032     apply lower and upper thresholds 0.25 and 2
14:44:07.041141    calculate scale factors for segment -1
14:44:07.041209    scatter size 256x288x197
14:44:07.062637     apply lower and upper thresholds 0.25 and 2
14:44:07.062746    calculate scale factors for segment +2
14:44:07.062803    scatter size 256x288x179
14:44:07.006067     apply lower and upper thresholds 0.25 and 2
14:44:07.006175    calculate scale factors for segment -2
14:44:07.006231    scatter size 256x288x179
14:44:07.010325     apply lower and upper thresholds 0.25 and 2
14:44:07.010429    calculate scale factors for segment +3
14:44:07.010485    scatter size 256x288x161
14:44:07.001443     apply lower and upper thresholds 0.25 and 2
14:44:07.001545    calculate scale factors for segment -3
14:44:07.001601    scatter size 256x288x161
14:44:07.056030     apply lower and upper thresholds 0.25 and 2
14:44:07.056133    calculate scale factors for segment +4
14:44:07.056188    scatter size 256x288x143
14:44:08.015727     apply lower and upper thresholds 0.25 and 2
14:44:08.015839    calculate scale factors for segment -4
14:44:08.015894    scatter size 256x288x143
14:44:08.055279     apply lower and upper thresholds 0.25 and 2
14:44:08.055381    calculate scale factors for segment +5
14:44:08.055436    scatter size 256x288x125
14:44:08.016648     apply lower and upper thresholds 0.25 and 2
14:44:08.016750    calculate scale factors for segment -5
14:44:08.016814    scatter size 256x288x125
14:44:08.040599     apply lower and upper thresholds 0.25 and 2
14:44:08.040701    calculate scale factors for segment +6
14:44:08.040756    scatter size 256x288x107
14:44:08.050967     apply lower and upper thresholds 0.25 and 2
14:44:08.051068    calculate scale factors for segment -6
14:44:08.051124    scatter size 256x288x107
14:44:08.059813     apply lower and upper thresholds 0.25 and 2
14:44:08.059916    calculate scale factors for segment +7
14:44:08.059973    scatter size 256x288x89
14:44:08.056134     apply lower and upper thresholds 0.25 and 2
14:44:08.056234    calculate scale factors for segment -7
14:44:08.056289    scatter size 256x288x89
14:44:08.050169     apply lower and upper thresholds 0.25 and 2
14:44:16.054113   scatter fraction at first pass=40.895%
14:44:16.040101  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_sc_ATX.s
14:44:16.040231   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_sc_ATX.s (matrix 0)
14:44:16.060185   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_sc_ATX.h33 (matrix 0)
14:44:16.060543  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_sc_ATX.s
14:44:16.006566  
14:44:16.006667 gantry model values that may have been used:
14:44:16.006713  model number=328
14:44:16.006760  defaultElements()=256
14:44:16.006836  binSize()=0.121875cm
14:44:16.006879  defaultAngles()=288
14:44:16.006929  planeSep()=0.121875cm
14:44:16.006974  crystalRadius()=23.45cm
14:44:16.007017  sinogramDepthOfInteraction()=0cm
14:44:16.007062  sinogramIntrinsicTilt()=0 degrees
14:44:16.007100  isRingArch()=false
14:44:16.007137  isPETOnlyArch()=true
14:44:16.007178  defPlaneDefSpan3D()=3
14:44:16.007220  defRingDiffMax()=67
14:44:16.007261  bucketsPerRing()=unknown
14:44:16.007303  bucketRings()=1
14:44:16.007345  axialBlocks()=13
14:44:16.007388  transBlocks()=9
14:44:16.007429  axialCrystals()=8
14:44:16.007471  transCrystals()=8
14:44:16.007558  axialBlockGaps()=0
14:44:16.007601  transBlockGaps()=0
14:44:16.007642  directPlanes()=104
14:44:16.007685  defaultLLD()=400 keV
14:44:16.007727  defaultULD()=650 keV
14:44:16.007769  nCrystalLayers()=2
14:44:16.007814   crystalLayerMaterial(0)=LSO
14:44:16.007884   crystalLayerBackgroundErgRatio(0)=14%
14:44:16.007934   crystalLayerFWHMErgRes(0)=17%
14:44:16.007981   crystalLayerDepth(0)=1cm
14:44:16.008026   crystalLayerMaterial(1)=LYSO
14:44:16.008079   crystalLayerBackgroundErgRatio(1)=14%
14:44:16.008128   crystalLayerFWHMErgRes(1)=17%
14:44:16.008175   crystalLayerDepth(1)=1cm
14:44:16.008219  maxScatterZfOV()=40cm
14:44:16.008256  
14:44:16.049772 processing time 00:00:32.5703 (hh:mm:ss)
14:44:16.049886 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:44:16.049942 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:44:16.049999 memory access pattern: 411 entries
14:44:16.050036  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1693118464
14:44:18	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:44:18	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_sc_ATX.s
14:44:18	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21.s
14:44:18	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21.ch
14:44:18	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:44:18	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.a
14:44:18	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_3D_ATX.i
14:44:18	  Method               : OPO3D
14:44:18	  Positivity constraint in sinogram space
14:44:18	  Max of sensitivity image      : 1.000000e+04
14:44:18	  Threshold for missing data    : 1.000000e-04
14:44:18	  Threshold for image update    : 1.000000e-10
14:44:18	  Maximum of image      	: 10000000000.000000
14:44:18	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:44:18	Model 999 
14:44:18	  Triming 3 planes at segment edges 
14:44:18	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:44:18	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 16 iterations (38 msec)
1	595 msec   
2	3210 msec   
3	3454 msec   
4	3303 msec   
5	574 msec   
Smooth Delays computed in 11841 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4637 msec.
Total time 16478 msec.
14:44:35	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.a: attenuation file size 651460608
14:44:35	expected file size 256x288x2209(2209)
14:44:35	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr21.a: attenuation file type 0
14:44:35	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:44:35	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:44:35	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_3D_ATX.i reconstruction started
14:44:35	  Prepare components of update equation from input data ...
14:44:40	  Read normalization and normalize delayed
14:44:40	  Apply normalization mask to prompt sinogram
14:44:44	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:45:10	  Iteration 1 in 85.070 sec
14:45:35	  Iteration 2 in 83.640 sec
14:46:00	  Iteration 3 in 84.790 sec
14:46:25	  Iteration 4 in 84.940 sec
14:46:50	  Iteration 5 in 84.800 sec
14:47:16	  Iteration 6 in 84.420 sec
14:47:40	  Iteration 7 in 83.880 sec
14:48:06	  Iteration 8 in 84.960 sec
14:48:31	  Iteration 9 in 85.250 sec
14:48:56	  Iteration 10 in 85.890 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_3D_ATX.i' complete
14:48:57	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame21_3D_ATX.i reconstruction done in 278 sec
14:48:58.049964 unknown (0x)    memory: 0 MByte
14:48:58.050065 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:48:58.050117 Revision: 275.1
14:48:58.050175 current date and time (GMT): Sat Dec  4 19:48:58 2010
14:48:58.050231 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
14:48:58.050310 free memory in memory controller: 9541.25 MByte
14:48:58.050450 memory access pattern found
14:48:58.050504 free memory in memory controller: 9541.25 MByte
14:48:58.058529 calculate acf for 1 matrix
14:48:58.058593  span=9
14:48:58.058640  maximum ring difference=67
14:48:58.058704  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.i
14:48:58.058758   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.i'
14:48:58.058805    matrix number=0
14:48:58.048182    XYSamples=128
14:48:58.048308    DeltaXY=2.4375mm
14:48:58.048354    ZSamples=207
14:48:58.048398    DeltaZ=1.21875mm
14:48:58.048438    corrections applied=
14:48:58.048478    u-map data=yes
14:48:58.048533    bed position=0mm
14:48:58.048601    scan start time=0 sec
14:48:58.048650    scan frame duration=0 sec (0 min)
14:48:58.048699    scan gate duration=0 sec (0 min)
14:48:58.048744    isotope halflife=0 sec
14:48:58.048786    lld=0 KeV
14:48:58.048828    uld=0 KeV
14:48:58.055208  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
14:48:58.055336  XYSamples=128
14:48:58.055393  DeltaXY=2.4375mm
14:48:58.055436  RhoSamples=256
14:48:58.055479  BinSizeRho=1.21875mm
14:48:58.055541  ThetaSamples=288
14:48:58.055586  plane separation=1.21875mm
14:48:58.055656  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:48:58.055700  subsets=1
14:48:58.055741  axes=1
14:48:58.055792  axis table=207 {207}
14:48:58.055831  algorithm=UW-OSEM
14:48:58.055871  use LUT=no
14:48:58.056056  time of flight bins=1
14:48:58.056103  initialize forward-projector
14:48:58.056147   angles of segment 0
14:48:58.056189    plane 0-206: 0 degrees
14:48:58.056450  start forward projection
14:48:58.018921   start forward projection of subset 0 from 128x128x207 to 256x288x207
14:48:58.019039    project segment 0
14:49:01.008630   finished forward projection of subset 0 in 2.33594 sec
14:49:01.026624   scale 207 planes of sinogram by 0.410256
14:49:01.061833  finished forward projection in 2.48438 sec
14:49:01.061979  convert emission into transmission data
14:49:01.022289  span=9
14:49:01.022407  maximum ring difference=67
14:49:01.022474  iFORE sinogram 1 from 256x288x207 to 256x288x2209
14:49:01.022671   replace values below 1 by 1
14:49:01.043604   copy 207 planes of segment 0
14:49:02.038917   create 360 degrees sinogram (512x576x207)
14:49:02.016734   calculate 3d fourier transform of sinogram
14:49:06.052137   calculate 394 planes of axis 1
14:49:06.038677    calculate fourier projection of axis 1
14:49:10.034970    calculate inverse fourier transform of axis 1
14:49:13.037709    split axis 1 into 2 segments
14:49:13.003130    calculate weighting of axis 1
14:49:14.015582   finished with axis 1
14:49:14.015696   calculate 358 planes of axis 2
14:49:14.043349    calculate fourier projection of axis 2
14:49:18.000723    calculate inverse fourier transform of axis 2
14:49:21.048692    split axis 2 into 2 segments
14:49:21.002024    calculate weighting of axis 2
14:49:22.032329   finished with axis 2
14:49:22.032453   calculate 322 planes of axis 3
14:49:22.048970    calculate fourier projection of axis 3
14:49:26.038988    calculate inverse fourier transform of axis 3
14:49:29.005025    split axis 3 into 2 segments
14:49:29.013368    calculate weighting of axis 3
14:49:30.008479   finished with axis 3
14:49:30.008607   calculate 286 planes of axis 4
14:49:30.016249    calculate fourier projection of axis 4
14:49:33.062709    calculate inverse fourier transform of axis 4
14:49:37.038352    split axis 4 into 2 segments
14:49:37.034652    calculate weighting of axis 4
14:49:38.054208   finished with axis 4
14:49:38.054322   calculate 250 planes of axis 5
14:49:38.047533    calculate fourier projection of axis 5
14:49:41.016862    calculate inverse fourier transform of axis 5
14:49:44.048482    split axis 5 into 2 segments
14:49:44.035124    calculate weighting of axis 5
14:49:45.016036   finished with axis 5
14:49:45.016160   calculate 214 planes of axis 6
14:49:45.007204    calculate fourier projection of axis 6
14:49:48.001656    calculate inverse fourier transform of axis 6
14:49:51.011722    split axis 6 into 2 segments
14:49:51.055461    calculate weighting of axis 6
14:49:51.027845   finished with axis 6
14:49:51.027978   calculate 178 planes of axis 7
14:49:52.060675    calculate fourier projection of axis 7
14:49:54.016591    calculate inverse fourier transform of axis 7
14:49:56.053830    split axis 7 into 2 segments
14:49:56.022783    calculate weighting of axis 7
14:49:57.012918   finished with axis 7
14:49:57.002364  axes=8
14:49:57.002486  axis table=2209 {207,394,358,322,286,250,214,178}
14:49:57.002554  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.a
14:49:57.002620   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.a (matrix 0)
14:49:58.058158   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.h33 (matrix 0)
14:49:58.043252  
14:49:58.043378 gantry model values that may have been used:
14:49:58.043425  model number=328
14:49:58.043472  defaultElements()=256
14:49:58.043531  binSize()=0.121875cm
14:49:58.043576  defaultAngles()=288
14:49:58.043621  planeSep()=0.121875cm
14:49:58.043669  crystalRadius()=23.45cm
14:49:58.043714  sinogramDepthOfInteraction()=0cm
14:49:58.043790  sinogramIntrinsicTilt()=0 degrees
14:49:58.043831  isRingArch()=false
14:49:58.043867  isPETOnlyArch()=true
14:49:58.043908  defPlaneDefSpan3D()=3
14:49:58.043949  defRingDiffMax()=67
14:49:58.043989  bucketsPerRing()=unknown
14:49:58.044031  bucketRings()=1
14:49:58.044072  axialBlocks()=13
14:49:58.044114  transBlocks()=9
14:49:58.044155  axialCrystals()=8
14:49:58.044196  transCrystals()=8
14:49:58.044238  axialBlockGaps()=0
14:49:58.044279  transBlockGaps()=0
14:49:58.044319  directPlanes()=104
14:49:58.044361  defaultLLD()=400 keV
14:49:58.044402  defaultULD()=650 keV
14:49:58.044444  nCrystalLayers()=2
14:49:58.044488   crystalLayerMaterial(0)=LSO
14:49:58.044558   crystalLayerBackgroundErgRatio(0)=12%
14:49:58.044608   crystalLayerFWHMErgRes(0)=17%
14:49:58.044654   crystalLayerDepth(0)=1cm
14:49:58.044699   crystalLayerMaterial(1)=LYSO
14:49:58.044751   crystalLayerBackgroundErgRatio(1)=12%
14:49:58.044806   crystalLayerFWHMErgRes(1)=17%
14:49:58.044853   crystalLayerDepth(1)=1cm
14:49:58.044897  maxScatterZfOV()=40cm
14:49:58.044934  
14:49:58.044990 processing time 00:00:59.7344 (hh:mm:ss)
14:49:58.045052 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:49:58.045107 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:49:58.045149 memory access pattern: 36 entries
14:49:58.045185  
14:49:59.055630 unknown (0x)    memory: 0 MByte
14:49:59.055739 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:49:59.055791 Revision: 275.1
14:49:59.055993 current date and time (GMT): Sat Dec  4 19:49:59 2010
14:49:59.056060 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:49:59.056171 free memory in memory controller: 9541.25 MByte
14:49:59.056332 memory access pattern found
14:49:59.056387 free memory in memory controller: 9541.25 MByte
14:49:59.056455 Default crystalLayerBackgroundErgRatio: 12,12
14:49:59.056519 Specified crystalLayerBackgroundErgRatio: 14,14
14:50:00.040391 calculate sinogram for 1 matrix
14:50:00.040508  loading the 3d emission scan (matrix 0)
14:50:00.040562   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22.tr.s'
14:50:00.040612    matrix number=0
14:50:03.022760    RhoSamples=256
14:50:03.022898    BinSizeRho=1.21875mm
14:50:03.022948    ThetaSamples=288
14:50:03.022997    mash factor=0
14:50:03.023047    plane separation=1.21875mm
14:50:03.023094    axes=8
14:50:03.023161    axis table=2209 {207,394,358,322,286,250,214,178}
14:50:03.023209    span=9
14:50:03.023255    maximum ring difference=67
14:50:03.023304    intrinsic tilt=0 degrees
14:50:03.023352    bed position=0mm
14:50:03.023401    scan start time=0 sec
14:50:03.023454    scan frame duration=0 sec (0 min)
14:50:03.023507    scan gate duration=0 sec (0 min)
14:50:03.023556    isotope halflife=0 sec
14:50:03.023603    lld=400 KeV
14:50:03.023650    uld=650 KeV
14:50:03.023692    corrections applied=
14:50:03.023762  calculating the 3d normalisation scan (matrix 0)
14:50:03.023820   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:50:04.030836    matrix number=0
14:50:04.030946    RhoSamples=256
14:50:04.031001    BinSizeRho=1.21875mm
14:50:04.031042    ThetaSamples=288
14:50:04.031082    mash factor=0
14:50:04.031124    plane separation=1.21875mm
14:50:04.031164    axes=8
14:50:04.031221    axis table=2209 {207,394,358,322,286,250,214,178}
14:50:04.031262    span=9
14:50:04.031302    maximum ring difference=67
14:50:04.031353    intrinsic tilt=0 degrees
14:50:04.031396    bed position=0mm
14:50:04.031438    scan start time=0 sec
14:50:04.031483    scan frame duration=0 sec (0 min)
14:50:04.031528    scan gate duration=0 sec (0 min)
14:50:04.031571    isotope halflife=0 sec
14:50:04.031633    lld=400 KeV
14:50:04.031671    uld=650 KeV
14:50:04.031705    corrections applied=
14:50:04.031748  normalize 3d emission
14:50:04.031784   multiply sinograms
14:50:05.006127  normalization based gap filling
14:50:05.006928    fill 207 planes 8 threads
14:50:05.006544    fill 394 planes 8 threads
14:50:06.000356    fill 358 planes 8 threads
14:50:06.040494    fill 322 planes 8 threads
14:50:06.041034    fill 286 planes 8 threads
14:50:06.029968    fill 250 planes 8 threads
14:50:07.011443    fill 214 planes 8 threads
14:50:07.006495    fill 178 planes 8 threads
14:50:07.030035   bed position in emission=0mm
14:50:07.030211   bed position in u-map=0mm
14:50:07.030302   bed position in acf=0mm
14:50:07.030362  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.i
14:50:07.030415   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.i'
14:50:07.030461    matrix number=0
14:50:07.049188    XYSamples=128
14:50:07.049328    DeltaXY=2.4375mm
14:50:07.049380    ZSamples=207
14:50:07.049429    DeltaZ=1.21875mm
14:50:07.049473    corrections applied=
14:50:07.049516    u-map data=yes
14:50:07.049564    bed position=0mm
14:50:07.049636    scan start time=0 sec
14:50:07.049691    scan frame duration=0 sec (0 min)
14:50:07.049750    scan gate duration=0 sec (0 min)
14:50:07.049800    isotope halflife=0 sec
14:50:07.049848    lld=0 KeV
14:50:07.049895    uld=0 KeV
14:50:07.049944  loading the acf (matrix 0)
14:50:07.050001   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.a'
14:50:07.050051    matrix number=0
14:50:08.053343    RhoSamples=256
14:50:08.061384    BinSizeRho=1.21875mm
14:50:08.061459    ThetaSamples=288
14:50:08.061509    mash factor=0
14:50:08.061564    plane separation=1.21875mm
14:50:08.061613    axes=8
14:50:08.061685    axis table=2209 {207,394,358,322,286,250,214,178}
14:50:08.061736    span=9
14:50:08.061784    maximum ring difference=67
14:50:08.061835    intrinsic tilt=0 degrees
14:50:08.061886    bed position=0mm
14:50:08.061960    scan start time=0 sec
14:50:08.062015    scan frame duration=0 sec (0 min)
14:50:08.062071    scan gate duration=0 sec (0 min)
14:50:08.062121    isotope halflife=0 sec
14:50:08.062171    lld=400 KeV
14:50:08.062222    uld=650 KeV
14:50:08.062271    corrections applied=
14:50:08.062340  replace values below 1 by 1
14:50:08.026280  estimate scatter sinogram
14:50:08.040030   counts in image: min=0  max=0.155842  total=53485.2
14:50:08.040194   start single-slice rebinning from 256x288x2209 to 256x288x207
14:50:08.040253   initialize SSR
14:50:08.040296    RhoSamples=256
14:50:08.040336    ThetaSamples=288
14:50:08.040376    axes=8
14:50:08.040435    axis table=2209 {207,394,358,322,286,250,214,178}
14:50:08.054200    skip 2 planes at each side of a segment
14:50:08.054325    calculate e*n*a of axis 0 (skip 2 border planes)
14:50:08.054374     calculate axis 0 of corrected sinogram
14:50:08.062841    calculate single-slice rebinning of axis 0
14:50:08.062965    ssr 203 planes
14:50:08.052751    calculate e*n*a of axis 1 (skip 2 border planes)
14:50:08.052859     calculate axis 1 of corrected sinogram
14:50:09.020388    calculate single-slice rebinning of axis 1
14:50:09.020511    ssr 193 planes
14:50:09.036619    calculate e*n*a of axis 2 (skip 2 border planes)
14:50:09.036728     calculate axis 2 of corrected sinogram
14:50:09.050471    calculate single-slice rebinning of axis 2
14:50:09.050593    ssr 175 planes
14:50:09.058840    calculate e*n*a of axis 3 (skip 2 border planes)
14:50:09.058948     calculate axis 3 of corrected sinogram
14:50:09.051879    calculate single-slice rebinning of axis 3
14:50:09.052007    ssr 157 planes
14:50:09.053665    calculate e*n*a of axis 4 (skip 2 border planes)
14:50:09.053770     calculate axis 4 of corrected sinogram
14:50:09.025547    calculate single-slice rebinning of axis 4
14:50:09.025683    ssr 139 planes
14:50:09.018876    calculate e*n*a of axis 5 (skip 2 border planes)
14:50:09.018983     calculate axis 5 of corrected sinogram
14:50:10.017728    calculate single-slice rebinning of axis 5
14:50:10.017870    ssr 121 planes
14:50:10.004005    calculate e*n*a of axis 6 (skip 2 border planes)
14:50:10.004112     calculate axis 6 of corrected sinogram
14:50:10.064325    calculate single-slice rebinning of axis 6
14:50:10.064446    ssr 103 planes
14:50:10.042616    calculate e*n*a of axis 7 (skip 2 border planes)
14:50:10.042722     calculate axis 7 of corrected sinogram
14:50:10.017608    calculate single-slice rebinning of axis 7
14:50:10.017727    ssr 85 planes
14:50:10.054709    normalize sinogram
14:50:10.038923   finished single-slice rebinning in 2 sec
14:50:10.039045   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:50:10.039107    XYSamples=128
14:50:10.039161    DeltaXY=2.4375mm
14:50:10.039203    RhoSamples=256
14:50:10.039260    BinSizeRho=1.21875mm
14:50:10.039302    ThetaSamples=288
14:50:10.039343    plane separation=1.21875mm
14:50:10.039392    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:50:10.039435    subsets=8
14:50:10.039476    axes=1
14:50:10.039521    axis table=207 {207}
14:50:10.039560    algorithm=AW-OSEM
14:50:10.039599    use LUT=small
14:50:10.039768    initialize backprojector
14:50:10.039841     angle of segment 0: 0 degrees
14:50:10.040072     create mode 1 lookup-table for backprojector: 63 MByte
14:50:10.031897     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:50:10.015497     start calculation of normalization factors for AW-OSEM
14:50:10.015689      allocate 103.5 MByte for normalization factors
14:50:10.015740      start calculation of normalization factors for subset 0
14:50:10.030643       calculate segment 0, subset 0 of 1/a sinogram
14:50:10.054546       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:50:10.003779      finished calculation of normalization factors for subset 0 in 0.117188 sec
14:50:10.003881      start calculation of normalization factors for subset 1
14:50:10.020844       calculate segment 0, subset 1 of 1/a sinogram
14:50:10.042461       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:50:10.029275      finished calculation of normalization factors for subset 1 in 0.15625 sec
14:50:10.029384      start calculation of normalization factors for subset 2
14:50:10.043778       calculate segment 0, subset 2 of 1/a sinogram
14:50:10.061413       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:50:11.058713      finished calculation of normalization factors for subset 2 in 0.113281 sec
14:50:11.058827      start calculation of normalization factors for subset 3
14:50:11.007900       calculate segment 0, subset 3 of 1/a sinogram
14:50:11.026073       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:50:11.029718      finished calculation of normalization factors for subset 3 in 0.101562 sec
14:50:11.029809      start calculation of normalization factors for subset 4
14:50:11.044923       calculate segment 0, subset 4 of 1/a sinogram
14:50:11.062992       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:50:11.003536      finished calculation of normalization factors for subset 4 in 0.105469 sec
14:50:11.003629      start calculation of normalization factors for subset 5
14:50:11.020229       calculate segment 0, subset 5 of 1/a sinogram
14:50:11.038305       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:50:11.054772      finished calculation of normalization factors for subset 5 in 0.117188 sec
14:50:11.054866      start calculation of normalization factors for subset 6
14:50:11.005522       calculate segment 0, subset 6 of 1/a sinogram
14:50:11.023655       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:50:11.027394      finished calculation of normalization factors for subset 6 in 0.101562 sec
14:50:11.027487      start calculation of normalization factors for subset 7
14:50:11.043604       calculate segment 0, subset 7 of 1/a sinogram
14:50:11.061888       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:50:11.044706      finished calculation of normalization factors for subset 7 in 0.148438 sec
14:50:11.044830     finished calculation of normalization factors in 0.960938 sec
14:50:11.044870    divide sinograms
14:50:11.012248    initialize forward-projector
14:50:11.012368     angles of segment 0
14:50:11.012412      plane 0-206: 0 degrees
14:50:11.012666     create mode 1 lookup-table for forward-projector: 126 MByte
14:50:12.015269     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:50:12.020917     start reconstruction from 256x288x207 to 128x128x207
14:50:12.021041      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:50:12.032387      start iteration 1, subset 0
14:50:12.015136      finished iteration 1, subset 0 in 0.375 sec
14:50:12.015239      start iteration 1, subset 4
14:50:12.022103      finished iteration 1, subset 4 in 0.335938 sec
14:50:12.022219      start iteration 1, subset 2
14:50:13.015681      finished iteration 1, subset 2 in 0.269531 sec
14:50:13.015789      start iteration 1, subset 6
14:50:13.037529      finished iteration 1, subset 6 in 0.285156 sec
14:50:13.037669      start iteration 1, subset 1
14:50:13.037248      finished iteration 1, subset 1 in 0.316406 sec
14:50:13.037352      start iteration 1, subset 5
14:50:14.054885      finished iteration 1, subset 5 in 0.296875 sec
14:50:14.054992      start iteration 1, subset 3
14:50:14.055989      finished iteration 1, subset 3 in 0.261719 sec
14:50:14.056106      start iteration 1, subset 7
14:50:14.002048      finished iteration 1, subset 7 in 0.273438 sec
14:50:14.002304      start iteration 2, subset 0
14:50:15.048759      finished iteration 2, subset 0 in 0.390625 sec
14:50:15.049032      start iteration 2, subset 4
14:50:15.065246      finished iteration 2, subset 4 in 0.210938 sec
14:50:15.065373      start iteration 2, subset 2
14:50:15.025083      finished iteration 2, subset 2 in 0.222656 sec
14:50:15.025239      start iteration 2, subset 6
14:50:15.019450      finished iteration 2, subset 6 in 0.191406 sec
14:50:15.019554      start iteration 2, subset 1
14:50:15.011147      finished iteration 2, subset 1 in 0.253906 sec
14:50:15.011248      start iteration 2, subset 5
14:50:16.035939      finished iteration 2, subset 5 in 0.304688 sec
14:50:16.036043      start iteration 2, subset 3
14:50:16.013695      finished iteration 2, subset 3 in 0.367188 sec
14:50:16.013806      start iteration 2, subset 7
14:50:16.056181      finished iteration 2, subset 7 in 0.300781 sec
14:50:16.056295      start iteration 3, subset 0
14:50:17.051977      finished iteration 3, subset 0 in 0.273438 sec
14:50:17.052083      start iteration 3, subset 4
14:50:17.051009      finished iteration 3, subset 4 in 0.261719 sec
14:50:17.051121      start iteration 3, subset 2
14:50:17.058139      finished iteration 3, subset 2 in 0.332031 sec
14:50:17.058243      start iteration 3, subset 6
14:50:18.027998      finished iteration 3, subset 6 in 0.316406 sec
14:50:18.028103      start iteration 3, subset 1
14:50:18.029633      finished iteration 3, subset 1 in 0.261719 sec
14:50:18.029745      start iteration 3, subset 5
14:50:18.057356      finished iteration 3, subset 5 in 0.289062 sec
14:50:18.057473      start iteration 3, subset 3
14:50:18.019803      finished iteration 3, subset 3 in 0.289062 sec
14:50:18.019947      start iteration 3, subset 7
14:50:19.009966      finished iteration 3, subset 7 in 0.269531 sec
14:50:19.010103      mask 207 planes of image
14:50:19.034496      scale image with 1.21875
14:50:19.040847      scale image with 4
14:50:19.047458     finished reconstruction in 7.02344 sec
14:50:19.047550     forward projector: 3.64453 sec
14:50:19.047593     backprojector: 2.30469 sec
14:50:19.057927   finished reconstruction of emission in 8.69141 sec
14:50:19.058013   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:50:19.002560   scale image by 4.10256
14:50:19.025583   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:50:19.025715   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:50:19.025786   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:50:19.025847   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:50:19.025884   start scatter estimation
14:50:19.025937    calculate matrix for beta-spline interpolation
14:50:19.035292    start scatter simulation
14:50:19.035372     effective detector ring radius=234.5mm (234.5mm+0mm)
14:50:19.035416     DeltaXY=2.4375mm
14:50:19.035458     DeltaZ=1.21875mm
14:50:19.035511     LLD=400 keV
14:50:19.035553     ULD=650 keV
14:50:19.045098     search bounds of object in u-map
14:50:19.005088     x bounds (-x,+x)=-93.8413mm,84.0913mm
14:50:19.005205     y bounds (-y,+y)=-103.591mm,135.279mm
14:50:19.005254     z bounds (-z,+z)=-56.6707mm,124.921mm
14:50:19.005304     length of axial scatter fov=363.178mm (max. 363.178mm)
14:50:19.005354     scatter samples (x,y,z)=8,11,16
14:50:19.005406     image size (x,y,z)=177.933mm,238.87mm,363.178mm
14:50:19.005459     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.6986mm
14:50:19.051730     start simulation of scatter sinogram (19x34x10)
14:50:19.051986      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:50:19.052146      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:50:19.052243      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:50:19.052384      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:50:19.052476      thread 2: 403 samples in plane 1 inside of object (plane 29 of full sinogram)
14:50:19.052555      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:50:19.052713      thread 7: 507 samples in plane 6 inside of object (plane 134 of full sinogram)
14:50:19.052791      thread 3: 490 samples in plane 2 inside of object (plane 50 of full sinogram)
14:50:19.052880      thread 1: 323 samples in plane 0 inside of object (plane 8 of full sinogram)
14:50:19.034382      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:50:19.034511      thread 4: 512 samples in plane 3 inside of object (plane 71 of full sinogram)
14:50:19.045344      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:50:19.045543      thread 5: 515 samples in plane 4 inside of object (plane 92 of full sinogram)
14:50:19.055267      thread 7: 509 samples in plane 7 inside of object (plane 155 of full sinogram)
14:50:19.018894      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:50:19.019081      thread 8: 512 samples in plane 8 inside of object (plane 176 of full sinogram)
14:50:19.008161      thread 6: 514 samples in plane 5 inside of object (plane 113 of full sinogram)
14:50:19.032180      thread 8: 510 samples in plane 9 inside of object (plane 197 of full sinogram)
14:50:19.024756     finished simulation of scatter sinogram
14:50:19.036407    finished scatter simulation in 0.328125 sec
14:50:19.036517    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:50:20.003696   finished scatter estimation in 1.57031 sec
14:50:20.003782   convert 2d scatter sinogram into 3d sinogram
14:50:20.003827   calculate axial scatter scale factors (smoothed with boxcar 17)
14:50:20.003894    acf threshold=1.03
14:50:21.031371    calculate scale factors for segment 0
14:50:21.031479    scatter size 256x288x207
14:50:21.010876     apply lower and upper thresholds 0.25 and 2
14:50:21.010994    calculate scale factors for segment +1
14:50:21.011049    scatter size 256x288x197
14:50:21.034285     apply lower and upper thresholds 0.25 and 2
14:50:21.034389    calculate scale factors for segment -1
14:50:21.034444    scatter size 256x288x197
14:50:21.055097     apply lower and upper thresholds 0.25 and 2
14:50:21.055208    calculate scale factors for segment +2
14:50:21.055264    scatter size 256x288x179
14:50:21.062584     apply lower and upper thresholds 0.25 and 2
14:50:21.062703    calculate scale factors for segment -2
14:50:21.062756    scatter size 256x288x179
14:50:21.000110     apply lower and upper thresholds 0.25 and 2
14:50:21.000215    calculate scale factors for segment +3
14:50:21.000270    scatter size 256x288x161
14:50:22.038812     apply lower and upper thresholds 0.25 and 2
14:50:22.038916    calculate scale factors for segment -3
14:50:22.038972    scatter size 256x288x161
14:50:22.035747     apply lower and upper thresholds 0.25 and 2
14:50:22.035868    calculate scale factors for segment +4
14:50:22.035935    scatter size 256x288x143
14:50:22.013558     apply lower and upper thresholds 0.25 and 2
14:50:22.013658    calculate scale factors for segment -4
14:50:22.013713    scatter size 256x288x143
14:50:22.054131     apply lower and upper thresholds 0.25 and 2
14:50:22.054234    calculate scale factors for segment +5
14:50:22.054289    scatter size 256x288x125
14:50:22.014285     apply lower and upper thresholds 0.25 and 2
14:50:22.014393    calculate scale factors for segment -5
14:50:22.014449    scatter size 256x288x125
14:50:22.036603     apply lower and upper thresholds 0.25 and 2
14:50:22.036704    calculate scale factors for segment +6
14:50:22.036759    scatter size 256x288x107
14:50:22.047415     apply lower and upper thresholds 0.25 and 2
14:50:22.047513    calculate scale factors for segment -6
14:50:22.047568    scatter size 256x288x107
14:50:22.054876     apply lower and upper thresholds 0.25 and 2
14:50:22.054975    calculate scale factors for segment +7
14:50:22.055029    scatter size 256x288x89
14:50:22.050157     apply lower and upper thresholds 0.25 and 2
14:50:22.050261    calculate scale factors for segment -7
14:50:22.050317    scatter size 256x288x89
14:50:22.043714     apply lower and upper thresholds 0.25 and 2
14:50:30.040250   scatter fraction at first pass=41.0284%
14:50:31.008320  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_sc_ATX.s
14:50:31.008497   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_sc_ATX.s (matrix 0)
14:50:31.028101   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_sc_ATX.h33 (matrix 0)
14:50:31.028450  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_sc_ATX.s
14:50:31.040140  
14:50:31.040243 gantry model values that may have been used:
14:50:31.040287  model number=328
14:50:31.040332  defaultElements()=256
14:50:31.040388  binSize()=0.121875cm
14:50:31.040431  defaultAngles()=288
14:50:31.040484  planeSep()=0.121875cm
14:50:31.040530  crystalRadius()=23.45cm
14:50:31.040575  sinogramDepthOfInteraction()=0cm
14:50:31.040621  sinogramIntrinsicTilt()=0 degrees
14:50:31.040706  isRingArch()=false
14:50:31.040746  isPETOnlyArch()=true
14:50:31.040789  defPlaneDefSpan3D()=3
14:50:31.040833  defRingDiffMax()=67
14:50:31.040875  bucketsPerRing()=unknown
14:50:31.040919  bucketRings()=1
14:50:31.040962  axialBlocks()=13
14:50:31.041005  transBlocks()=9
14:50:31.041050  axialCrystals()=8
14:50:31.041093  transCrystals()=8
14:50:31.041136  axialBlockGaps()=0
14:50:31.041179  transBlockGaps()=0
14:50:31.041221  directPlanes()=104
14:50:31.041265  defaultLLD()=400 keV
14:50:31.041308  defaultULD()=650 keV
14:50:31.041351  nCrystalLayers()=2
14:50:31.041397   crystalLayerMaterial(0)=LSO
14:50:31.041469   crystalLayerBackgroundErgRatio(0)=14%
14:50:31.041519   crystalLayerFWHMErgRes(0)=17%
14:50:31.041567   crystalLayerDepth(0)=1cm
14:50:31.041614   crystalLayerMaterial(1)=LYSO
14:50:31.041672   crystalLayerBackgroundErgRatio(1)=14%
14:50:31.041724   crystalLayerFWHMErgRes(1)=17%
14:50:31.041772   crystalLayerDepth(1)=1cm
14:50:31.041818  maxScatterZfOV()=40cm
14:50:31.041856  
14:50:31.019004 processing time 00:00:32.2227 (hh:mm:ss)
14:50:31.019123 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:50:31.019179 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:50:31.019223 memory access pattern: 411 entries
14:50:31.019261  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1693614080
14:50:33	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:50:33	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_sc_ATX.s
14:50:33	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22.s
14:50:33	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22.ch
14:50:33	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:50:33	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.a
14:50:33	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_3D_ATX.i
14:50:33	  Method               : OPO3D
14:50:33	  Positivity constraint in sinogram space
14:50:33	  Max of sensitivity image      : 1.000000e+04
14:50:33	  Threshold for missing data    : 1.000000e-04
14:50:33	  Threshold for image update    : 1.000000e-10
14:50:33	  Maximum of image      	: 10000000000.000000
14:50:33	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:50:33	Model 999 
14:50:33	  Triming 3 planes at segment edges 
14:50:33	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:50:33	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 15 iterations (37 msec)
1	837 msec   
2	3257 msec   
3	3520 msec   
4	3156 msec   
5	552 msec   
Smooth Delays computed in 12015 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4587 msec.
Total time 16602 msec.
14:50:49	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.a: attenuation file size 651460608
14:50:49	expected file size 256x288x2209(2209)
14:50:49	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr22.a: attenuation file type 0
14:50:49	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:50:50	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:50:50	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_3D_ATX.i reconstruction started
14:50:50	  Prepare components of update equation from input data ...
14:50:55	  Read normalization and normalize delayed
14:50:55	  Apply normalization mask to prompt sinogram
14:50:59	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:51:24	  Iteration 1 in 85.020 sec
14:51:50	  Iteration 2 in 85.810 sec
14:52:16	  Iteration 3 in 84.940 sec
14:52:41	  Iteration 4 in 85.090 sec
14:53:07	  Iteration 5 in 83.660 sec
14:53:32	  Iteration 6 in 85.120 sec
14:53:58	  Iteration 7 in 84.460 sec
14:54:23	  Iteration 8 in 84.560 sec
14:54:49	  Iteration 9 in 84.170 sec
14:55:14	  Iteration 10 in 86.070 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_3D_ATX.i' complete
14:55:16	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame22_3D_ATX.i reconstruction done in 281 sec
14:55:16.021454 unknown (0x)    memory: 0 MByte
14:55:16.021562 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:55:16.021623 Revision: 275.1
14:55:16.021681 current date and time (GMT): Sat Dec  4 19:55:16 2010
14:55:16.021736 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
14:55:16.021815 free memory in memory controller: 9541.25 MByte
14:55:16.021958 memory access pattern found
14:55:16.022014 free memory in memory controller: 9541.25 MByte
14:55:16.030911 calculate acf for 1 matrix
14:55:16.030969  span=9
14:55:16.031015  maximum ring difference=67
14:55:16.031079  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.i
14:55:16.031132   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.i'
14:55:16.031180    matrix number=0
14:55:16.016324    XYSamples=128
14:55:16.016451    DeltaXY=2.4375mm
14:55:16.016498    ZSamples=207
14:55:16.016558    DeltaZ=1.21875mm
14:55:16.016598    corrections applied=
14:55:16.016638    u-map data=yes
14:55:16.016683    bed position=0mm
14:55:16.016729    scan start time=0 sec
14:55:16.016779    scan frame duration=0 sec (0 min)
14:55:16.016829    scan gate duration=0 sec (0 min)
14:55:16.016875    isotope halflife=0 sec
14:55:16.016919    lld=0 KeV
14:55:16.016961    uld=0 KeV
14:55:16.023610  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
14:55:16.023733  XYSamples=128
14:55:16.023793  DeltaXY=2.4375mm
14:55:16.023837  RhoSamples=256
14:55:16.023882  BinSizeRho=1.21875mm
14:55:16.023926  ThetaSamples=288
14:55:16.023971  plane separation=1.21875mm
14:55:16.024021  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:55:16.024066  subsets=1
14:55:16.024109  axes=1
14:55:16.024162  axis table=207 {207}
14:55:16.024202  algorithm=UW-OSEM
14:55:16.024243  use LUT=no
14:55:16.024429  time of flight bins=1
14:55:16.024477  initialize forward-projector
14:55:16.024559   angles of segment 0
14:55:16.024605    plane 0-206: 0 degrees
14:55:16.024866  start forward projection
14:55:16.008819   start forward projection of subset 0 from 128x128x207 to 256x288x207
14:55:16.008959    project segment 0
14:55:19.018246   finished forward projection of subset 0 in 2.28906 sec
14:55:19.036121   scale 207 planes of sinogram by 0.410256
14:55:19.002961  finished forward projection in 2.45312 sec
14:55:19.003134  convert emission into transmission data
14:55:19.037111  span=9
14:55:19.037234  maximum ring difference=67
14:55:19.037301  iFORE sinogram 1 from 256x288x207 to 256x288x2209
14:55:19.037486   replace values below 1 by 1
14:55:19.058537   copy 207 planes of segment 0
14:55:20.053159   create 360 degrees sinogram (512x576x207)
14:55:20.029053   calculate 3d fourier transform of sinogram
14:55:24.038654   calculate 394 planes of axis 1
14:55:24.018079    calculate fourier projection of axis 1
14:55:27.049333    calculate inverse fourier transform of axis 1
14:55:31.014989    split axis 1 into 2 segments
14:55:31.045231    calculate weighting of axis 1
14:55:32.049901   finished with axis 1
14:55:32.050022   calculate 358 planes of axis 2
14:55:32.011000    calculate fourier projection of axis 2
14:55:36.034995    calculate inverse fourier transform of axis 2
14:55:39.044227    split axis 2 into 2 segments
14:55:39.062851    calculate weighting of axis 2
14:55:40.025364   finished with axis 2
14:55:40.025490   calculate 322 planes of axis 3
14:55:41.024062    calculate fourier projection of axis 3
14:55:44.044912    calculate inverse fourier transform of axis 3
14:55:47.061098    split axis 3 into 2 segments
14:55:47.003376    calculate weighting of axis 3
14:55:48.065387   finished with axis 3
14:55:48.065516   calculate 286 planes of axis 4
14:55:48.004362    calculate fourier projection of axis 4
14:55:51.003151    calculate inverse fourier transform of axis 4
14:55:55.026242    split axis 4 into 2 segments
14:55:55.022153    calculate weighting of axis 4
14:55:56.041645   finished with axis 4
14:55:56.041772   calculate 250 planes of axis 5
14:55:56.044486    calculate fourier projection of axis 5
14:55:59.023327    calculate inverse fourier transform of axis 5
14:56:02.019738    split axis 5 into 2 segments
14:56:02.004661    calculate weighting of axis 5
14:56:03.049703   finished with axis 5
14:56:03.049821   calculate 214 planes of axis 6
14:56:03.033807    calculate fourier projection of axis 6
14:56:06.016381    calculate inverse fourier transform of axis 6
14:56:09.027015    split axis 6 into 2 segments
14:56:09.002262    calculate weighting of axis 6
14:56:09.039430   finished with axis 6
14:56:09.039555   calculate 178 planes of axis 7
14:56:10.005071    calculate fourier projection of axis 7
14:56:12.017560    calculate inverse fourier transform of axis 7
14:56:15.055990    split axis 7 into 2 segments
14:56:15.020940    calculate weighting of axis 7
14:56:16.010732   finished with axis 7
14:56:16.001712  axes=8
14:56:16.001835  axis table=2209 {207,394,358,322,286,250,214,178}
14:56:16.001902  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.a
14:56:16.001966   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.a (matrix 0)
14:56:17.063433   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.h33 (matrix 0)
14:56:17.048263  
14:56:17.048385 gantry model values that may have been used:
14:56:17.048432  model number=328
14:56:17.048478  defaultElements()=256
14:56:17.048538  binSize()=0.121875cm
14:56:17.048583  defaultAngles()=288
14:56:17.048628  planeSep()=0.121875cm
14:56:17.048681  crystalRadius()=23.45cm
14:56:17.048728  sinogramDepthOfInteraction()=0cm
14:56:17.048775  sinogramIntrinsicTilt()=0 degrees
14:56:17.048815  isRingArch()=false
14:56:17.048853  isPETOnlyArch()=true
14:56:17.048897  defPlaneDefSpan3D()=3
14:56:17.048941  defRingDiffMax()=67
14:56:17.048984  bucketsPerRing()=unknown
14:56:17.049057  bucketRings()=1
14:56:17.049101  axialBlocks()=13
14:56:17.049145  transBlocks()=9
14:56:17.049189  axialCrystals()=8
14:56:17.049232  transCrystals()=8
14:56:17.049276  axialBlockGaps()=0
14:56:17.049319  transBlockGaps()=0
14:56:17.049382  directPlanes()=104
14:56:17.049425  defaultLLD()=400 keV
14:56:17.049468  defaultULD()=650 keV
14:56:17.049511  nCrystalLayers()=2
14:56:17.049557   crystalLayerMaterial(0)=LSO
14:56:17.049629   crystalLayerBackgroundErgRatio(0)=12%
14:56:17.049686   crystalLayerFWHMErgRes(0)=17%
14:56:17.049735   crystalLayerDepth(0)=1cm
14:56:17.049781   crystalLayerMaterial(1)=LYSO
14:56:17.049835   crystalLayerBackgroundErgRatio(1)=12%
14:56:17.049885   crystalLayerFWHMErgRes(1)=17%
14:56:17.049932   crystalLayerDepth(1)=1cm
14:56:17.049978  maxScatterZfOV()=40cm
14:56:17.050016  
14:56:17.050074 processing time 00:01:00.765625 (hh:mm:ss)
14:56:17.050138 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:56:17.050194 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:56:17.050238 memory access pattern: 36 entries
14:56:17.050276  
14:56:18.002624 unknown (0x)    memory: 0 MByte
14:56:18.002729 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
14:56:18.002781 Revision: 275.1
14:56:18.002840 current date and time (GMT): Sat Dec  4 19:56:18 2010
14:56:18.002906 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
14:56:18.003006 free memory in memory controller: 9541.25 MByte
14:56:18.003171 memory access pattern found
14:56:18.003226 free memory in memory controller: 9541.25 MByte
14:56:18.003292 Default crystalLayerBackgroundErgRatio: 12,12
14:56:18.003355 Specified crystalLayerBackgroundErgRatio: 14,14
14:56:18.019980 calculate sinogram for 1 matrix
14:56:18.020041  loading the 3d emission scan (matrix 0)
14:56:18.020091   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23.tr.s'
14:56:18.020146    matrix number=0
14:56:21.001814    RhoSamples=256
14:56:21.026782    BinSizeRho=1.21875mm
14:56:21.026855    ThetaSamples=288
14:56:21.026904    mash factor=0
14:56:21.026953    plane separation=1.21875mm
14:56:21.027001    axes=8
14:56:21.027068    axis table=2209 {207,394,358,322,286,250,214,178}
14:56:21.027117    span=9
14:56:21.027164    maximum ring difference=67
14:56:21.027212    intrinsic tilt=0 degrees
14:56:21.027262    bed position=0mm
14:56:21.027311    scan start time=0 sec
14:56:21.027366    scan frame duration=0 sec (0 min)
14:56:21.027423    scan gate duration=0 sec (0 min)
14:56:21.027473    isotope halflife=0 sec
14:56:21.027520    lld=400 KeV
14:56:21.027566    uld=650 KeV
14:56:21.027609    corrections applied=
14:56:21.027681  calculating the 3d normalisation scan (matrix 0)
14:56:21.027739   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
14:56:21.045665    matrix number=0
14:56:21.045777    RhoSamples=256
14:56:21.045832    BinSizeRho=1.21875mm
14:56:21.045873    ThetaSamples=288
14:56:21.045913    mash factor=0
14:56:21.045953    plane separation=1.21875mm
14:56:21.045994    axes=8
14:56:21.046050    axis table=2209 {207,394,358,322,286,250,214,178}
14:56:21.046091    span=9
14:56:21.046131    maximum ring difference=67
14:56:21.046172    intrinsic tilt=0 degrees
14:56:21.046222    bed position=0mm
14:56:21.046265    scan start time=0 sec
14:56:21.046311    scan frame duration=0 sec (0 min)
14:56:21.046356    scan gate duration=0 sec (0 min)
14:56:21.046398    isotope halflife=0 sec
14:56:21.046438    lld=400 KeV
14:56:21.046477    uld=650 KeV
14:56:21.046513    corrections applied=
14:56:21.046558  normalize 3d emission
14:56:21.046596   multiply sinograms
14:56:23.013046  normalization based gap filling
14:56:23.013839    fill 207 planes 8 threads
14:56:23.007979    fill 394 planes 8 threads
14:56:23.064615    fill 358 planes 8 threads
14:56:23.063331    fill 322 planes 8 threads
14:56:24.040886    fill 286 planes 8 threads
14:56:24.020955    fill 250 planes 8 threads
14:56:24.041414    fill 214 planes 8 threads
14:56:24.028498    fill 178 planes 8 threads
14:56:24.002186   bed position in emission=0mm
14:56:24.002399   bed position in u-map=0mm
14:56:24.002492   bed position in acf=0mm
14:56:24.002554  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.i
14:56:24.002609   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.i'
14:56:24.002657    matrix number=0
14:56:25.004716    XYSamples=128
14:56:25.004849    DeltaXY=2.4375mm
14:56:25.004900    ZSamples=207
14:56:25.004951    DeltaZ=1.21875mm
14:56:25.004997    corrections applied=
14:56:25.005043    u-map data=yes
14:56:25.005093    bed position=0mm
14:56:25.005144    scan start time=0 sec
14:56:25.005200    scan frame duration=0 sec (0 min)
14:56:25.005256    scan gate duration=0 sec (0 min)
14:56:25.005308    isotope halflife=0 sec
14:56:25.005358    lld=0 KeV
14:56:25.005416    uld=0 KeV
14:56:25.005503  loading the acf (matrix 0)
14:56:25.005562   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.a'
14:56:25.005616    matrix number=0
14:56:25.025688    RhoSamples=256
14:56:25.025839    BinSizeRho=1.21875mm
14:56:25.025881    ThetaSamples=288
14:56:25.025921    mash factor=0
14:56:25.025972    plane separation=1.21875mm
14:56:25.026015    axes=8
14:56:25.026074    axis table=2209 {207,394,358,322,286,250,214,178}
14:56:25.026114    span=9
14:56:25.026153    maximum ring difference=67
14:56:25.026194    intrinsic tilt=0 degrees
14:56:25.026235    bed position=0mm
14:56:25.026276    scan start time=0 sec
14:56:25.026321    scan frame duration=0 sec (0 min)
14:56:25.026369    scan gate duration=0 sec (0 min)
14:56:25.026411    isotope halflife=0 sec
14:56:25.026451    lld=400 KeV
14:56:25.026490    uld=650 KeV
14:56:25.026525    corrections applied=
14:56:25.026584  replace values below 1 by 1
14:56:26.030157  estimate scatter sinogram
14:56:26.043966   counts in image: min=0  max=0.15536  total=53504.5
14:56:26.045336   start single-slice rebinning from 256x288x2209 to 256x288x207
14:56:26.045389   initialize SSR
14:56:26.045440    RhoSamples=256
14:56:26.045479    ThetaSamples=288
14:56:26.045519    axes=8
14:56:26.045577    axis table=2209 {207,394,358,322,286,250,214,178}
14:56:26.055441    skip 2 planes at each side of a segment
14:56:26.055563    calculate e*n*a of axis 0 (skip 2 border planes)
14:56:26.055608     calculate axis 0 of corrected sinogram
14:56:26.060100    calculate single-slice rebinning of axis 0
14:56:26.060228    ssr 203 planes
14:56:26.050017    calculate e*n*a of axis 1 (skip 2 border planes)
14:56:26.050122     calculate axis 1 of corrected sinogram
14:56:26.031982    calculate single-slice rebinning of axis 1
14:56:26.032121    ssr 193 planes
14:56:26.048052    calculate e*n*a of axis 2 (skip 2 border planes)
14:56:26.048160     calculate axis 2 of corrected sinogram
14:56:26.061407    calculate single-slice rebinning of axis 2
14:56:26.061547    ssr 175 planes
14:56:26.004226    calculate e*n*a of axis 3 (skip 2 border planes)
14:56:26.004334     calculate axis 3 of corrected sinogram
14:56:27.045518    calculate single-slice rebinning of axis 3
14:56:27.045642    ssr 157 planes
14:56:27.046710    calculate e*n*a of axis 4 (skip 2 border planes)
14:56:27.046816     calculate axis 4 of corrected sinogram
14:56:27.017906    calculate single-slice rebinning of axis 4
14:56:27.018025    ssr 139 planes
14:56:27.011568    calculate e*n*a of axis 5 (skip 2 border planes)
14:56:27.011674     calculate axis 5 of corrected sinogram
14:56:27.027077    calculate single-slice rebinning of axis 5
14:56:27.027221    ssr 121 planes
14:56:27.013140    calculate e*n*a of axis 6 (skip 2 border planes)
14:56:27.013246     calculate axis 6 of corrected sinogram
14:56:27.008474    calculate single-slice rebinning of axis 6
14:56:27.008620    ssr 103 planes
14:56:27.052875    calculate e*n*a of axis 7 (skip 2 border planes)
14:56:27.052982     calculate axis 7 of corrected sinogram
14:56:27.026357    calculate single-slice rebinning of axis 7
14:56:27.026494    ssr 85 planes
14:56:27.062610    normalize sinogram
14:56:28.030152   finished single-slice rebinning in 1.98438 sec
14:56:28.030271   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
14:56:28.030332    XYSamples=128
14:56:28.030376    DeltaXY=2.4375mm
14:56:28.030427    RhoSamples=256
14:56:28.030469    BinSizeRho=1.21875mm
14:56:28.030510    ThetaSamples=288
14:56:28.030552    plane separation=1.21875mm
14:56:28.030600    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
14:56:28.030642    subsets=8
14:56:28.030682    axes=1
14:56:28.030727    axis table=207 {207}
14:56:28.030765    algorithm=AW-OSEM
14:56:28.030803    use LUT=small
14:56:28.030972    initialize backprojector
14:56:28.031044     angle of segment 0: 0 degrees
14:56:28.031275     create mode 1 lookup-table for backprojector: 63 MByte
14:56:28.023039     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
14:56:28.006209     start calculation of normalization factors for AW-OSEM
14:56:28.006414      allocate 103.5 MByte for normalization factors
14:56:28.006468      start calculation of normalization factors for subset 0
14:56:28.021339       calculate segment 0, subset 0 of 1/a sinogram
14:56:28.045201       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
14:56:28.009534      finished calculation of normalization factors for subset 0 in 0.136719 sec
14:56:28.009633      start calculation of normalization factors for subset 1
14:56:28.025022       calculate segment 0, subset 1 of 1/a sinogram
14:56:28.043244       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
14:56:28.056335      finished calculation of normalization factors for subset 1 in 0.109375 sec
14:56:28.056437      start calculation of normalization factors for subset 2
14:56:28.007639       calculate segment 0, subset 2 of 1/a sinogram
14:56:28.026070       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
14:56:28.023303      finished calculation of normalization factors for subset 2 in 0.0976562 sec
14:56:28.023401      start calculation of normalization factors for subset 3
14:56:28.037441       calculate segment 0, subset 3 of 1/a sinogram
14:56:28.055574       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
14:56:28.017460      finished calculation of normalization factors for subset 3 in 0.125 sec
14:56:28.017563      start calculation of normalization factors for subset 4
14:56:28.032954       calculate segment 0, subset 4 of 1/a sinogram
14:56:28.050983       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
14:56:28.041435      finished calculation of normalization factors for subset 4 in 0.152344 sec
14:56:28.041536      start calculation of normalization factors for subset 5
14:56:28.060670       calculate segment 0, subset 5 of 1/a sinogram
14:56:28.013610       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
14:56:28.036689      finished calculation of normalization factors for subset 5 in 0.125 sec
14:56:28.036783      start calculation of normalization factors for subset 6
14:56:28.053007       calculate segment 0, subset 6 of 1/a sinogram
14:56:28.005222       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
14:56:29.019827      finished calculation of normalization factors for subset 6 in 0.128906 sec
14:56:29.019930      start calculation of normalization factors for subset 7
14:56:29.038687       calculate segment 0, subset 7 of 1/a sinogram
14:56:29.057892       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
14:56:29.032217      finished calculation of normalization factors for subset 7 in 0.144531 sec
14:56:29.032352     finished calculation of normalization factors in 1.02734 sec
14:56:29.032402    divide sinograms
14:56:29.000087    initialize forward-projector
14:56:29.000214     angles of segment 0
14:56:29.000258      plane 0-206: 0 degrees
14:56:29.000515     create mode 1 lookup-table for forward-projector: 126 MByte
14:56:29.021223     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
14:56:29.020866     start reconstruction from 256x288x207 to 128x128x207
14:56:29.020994      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
14:56:29.032661      start iteration 1, subset 0
14:56:30.051243      finished iteration 1, subset 0 in 0.296875 sec
14:56:30.051365      start iteration 1, subset 4
14:56:30.043758      finished iteration 1, subset 4 in 0.320312 sec
14:56:30.043864      start iteration 1, subset 2
14:56:30.000103      finished iteration 1, subset 2 in 0.285156 sec
14:56:30.000229      start iteration 1, subset 6
14:56:31.049608      finished iteration 1, subset 6 in 0.394531 sec
14:56:31.049757      start iteration 1, subset 1
14:56:31.064188      finished iteration 1, subset 1 in 0.269531 sec
14:56:31.064302      start iteration 1, subset 5
14:56:31.014660      finished iteration 1, subset 5 in 0.210938 sec
14:56:31.014768      start iteration 1, subset 3
14:56:31.020535      finished iteration 1, subset 3 in 0.332031 sec
14:56:31.020668      start iteration 1, subset 7
14:56:32.030174      finished iteration 1, subset 7 in 0.222656 sec
14:56:32.030291      start iteration 2, subset 0
14:56:32.027199      finished iteration 2, subset 0 in 0.257812 sec
14:56:32.027303      start iteration 2, subset 4
14:56:32.013470      finished iteration 2, subset 4 in 0.3125 sec
14:56:32.013574      start iteration 2, subset 2
14:56:32.061568      finished iteration 2, subset 2 in 0.3125 sec
14:56:32.061671      start iteration 2, subset 6
14:56:33.055879      finished iteration 2, subset 6 in 0.335938 sec
14:56:33.055990      start iteration 2, subset 1
14:56:33.041513      finished iteration 2, subset 1 in 0.25 sec
14:56:33.041618      start iteration 2, subset 5
14:56:33.013688      finished iteration 2, subset 5 in 0.234375 sec
14:56:33.013792      start iteration 2, subset 3
14:56:34.039466      finished iteration 2, subset 3 in 0.238281 sec
14:56:34.039580      start iteration 2, subset 7
14:56:34.056338      finished iteration 2, subset 7 in 0.28125 sec
14:56:34.056444      start iteration 3, subset 0
14:56:34.052519      finished iteration 3, subset 0 in 0.320312 sec
14:56:34.052625      start iteration 3, subset 4
14:56:34.032865      finished iteration 3, subset 4 in 0.308594 sec
14:56:34.032974      start iteration 3, subset 2
14:56:35.004731      finished iteration 3, subset 2 in 0.253906 sec
14:56:35.004845      start iteration 3, subset 6
14:56:35.022997      finished iteration 3, subset 6 in 0.214844 sec
14:56:35.023119      start iteration 3, subset 1
14:56:35.053846      finished iteration 3, subset 1 in 0.355469 sec
14:56:35.053949      start iteration 3, subset 5
14:56:36.010779      finished iteration 3, subset 5 in 0.304688 sec
14:56:36.010929      start iteration 3, subset 3
14:56:36.040747      finished iteration 3, subset 3 in 0.21875 sec
14:56:36.040872      start iteration 3, subset 7
14:56:36.020583      finished iteration 3, subset 7 in 0.238281 sec
14:56:36.020731      mask 207 planes of image
14:56:36.035237      scale image with 1.21875
14:56:36.041589      scale image with 4
14:56:36.048246     finished reconstruction in 6.83203 sec
14:56:36.048338     forward projector: 3.37109 sec
14:56:36.048382     backprojector: 2.44141 sec
14:56:36.058375   finished reconstruction of emission in 8.55078 sec
14:56:36.058462   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
14:56:36.057058   scale image by 4.10256
14:56:36.008141   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:56:36.008259   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:56:36.008330   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:56:36.008390   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
14:56:36.008427   start scatter estimation
14:56:36.008495    calculate matrix for beta-spline interpolation
14:56:36.018289    start scatter simulation
14:56:36.018360     effective detector ring radius=234.5mm (234.5mm+0mm)
14:56:36.018403     DeltaXY=2.4375mm
14:56:36.018451     DeltaZ=1.21875mm
14:56:36.018505     LLD=400 keV
14:56:36.018547     ULD=650 keV
14:56:36.028121     search bounds of object in u-map
14:56:36.053651     x bounds (-x,+x)=-91.4038mm,86.5288mm
14:56:36.053767     y bounds (-y,+y)=-103.591mm,135.279mm
14:56:36.053816     z bounds (-z,+z)=-56.6707mm,124.921mm
14:56:36.053866     length of axial scatter fov=363.178mm (max. 363.178mm)
14:56:36.053915     scatter samples (x,y,z)=8,11,16
14:56:36.053967     image size (x,y,z)=177.933mm,238.87mm,363.178mm
14:56:36.054020     scatter_grid size (x,y,z)=22.2416mm,21.7155mm,22.6986mm
14:56:36.034830     start simulation of scatter sinogram (19x34x10)
14:56:36.035105      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
14:56:36.035182      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
14:56:36.035261      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
14:56:36.035415      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
14:56:36.035503      thread 1: 325 samples in plane 0 inside of object (plane 8 of full sinogram)
14:56:36.035583      thread 4: 512 samples in plane 3 inside of object (plane 71 of full sinogram)
14:56:36.035655      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
14:56:36.035724      thread 2: 411 samples in plane 1 inside of object (plane 29 of full sinogram)
14:56:36.035791      thread 3: 495 samples in plane 2 inside of object (plane 50 of full sinogram)
14:56:36.036126      thread 5: 510 samples in plane 4 inside of object (plane 92 of full sinogram)
14:56:36.016408      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
14:56:36.016643      thread 6: 509 samples in plane 5 inside of object (plane 113 of full sinogram)
14:56:36.018794      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
14:56:36.019064      thread 7: 511 samples in plane 6 inside of object (plane 134 of full sinogram)
14:56:36.054771      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
14:56:36.054961      thread 8: 514 samples in plane 8 inside of object (plane 176 of full sinogram)
14:56:36.018740      thread 7: 511 samples in plane 7 inside of object (plane 155 of full sinogram)
14:56:36.054572      thread 8: 509 samples in plane 9 inside of object (plane 197 of full sinogram)
14:56:37.030529     finished simulation of scatter sinogram
14:56:37.044106    finished scatter simulation in 0.304688 sec
14:56:37.044219    calculate beta-spline interpolation from 17x34x10 to 256x288x207
14:56:38.004664   finished scatter estimation in 1.53516 sec
14:56:38.004749   convert 2d scatter sinogram into 3d sinogram
14:56:38.004793   calculate axial scatter scale factors (smoothed with boxcar 17)
14:56:38.004874    acf threshold=1.03
14:56:38.050679    calculate scale factors for segment 0
14:56:38.050785    scatter size 256x288x207
14:56:38.037300     apply lower and upper thresholds 0.25 and 2
14:56:38.037423    calculate scale factors for segment +1
14:56:38.037479    scatter size 256x288x197
14:56:38.060186     apply lower and upper thresholds 0.25 and 2
14:56:38.060313    calculate scale factors for segment -1
14:56:38.060371    scatter size 256x288x197
14:56:38.013646     apply lower and upper thresholds 0.25 and 2
14:56:38.013759    calculate scale factors for segment +2
14:56:38.013814    scatter size 256x288x179
14:56:39.007381     apply lower and upper thresholds 0.25 and 2
14:56:39.007486    calculate scale factors for segment -2
14:56:39.007543    scatter size 256x288x179
14:56:39.010538     apply lower and upper thresholds 0.25 and 2
14:56:39.010651    calculate scale factors for segment +3
14:56:39.010707    scatter size 256x288x161
14:56:39.065325     apply lower and upper thresholds 0.25 and 2
14:56:39.065427    calculate scale factors for segment -3
14:56:39.065482    scatter size 256x288x161
14:56:39.051980     apply lower and upper thresholds 0.25 and 2
14:56:39.052082    calculate scale factors for segment +4
14:56:39.052138    scatter size 256x288x143
14:56:39.030325     apply lower and upper thresholds 0.25 and 2
14:56:39.030431    calculate scale factors for segment -4
14:56:39.030486    scatter size 256x288x143
14:56:39.003091     apply lower and upper thresholds 0.25 and 2
14:56:39.003194    calculate scale factors for segment +5
14:56:39.003251    scatter size 256x288x125
14:56:39.029568     apply lower and upper thresholds 0.25 and 2
14:56:39.029674    calculate scale factors for segment -5
14:56:39.029730    scatter size 256x288x125
14:56:39.052538     apply lower and upper thresholds 0.25 and 2
14:56:39.052638    calculate scale factors for segment +6
14:56:39.052694    scatter size 256x288x107
14:56:39.062105     apply lower and upper thresholds 0.25 and 2
14:56:39.062212    calculate scale factors for segment -6
14:56:39.062270    scatter size 256x288x107
14:56:40.052645     apply lower and upper thresholds 0.25 and 2
14:56:40.052753    calculate scale factors for segment +7
14:56:40.052809    scatter size 256x288x89
14:56:40.047941     apply lower and upper thresholds 0.25 and 2
14:56:40.048038    calculate scale factors for segment -7
14:56:40.048092    scatter size 256x288x89
14:56:40.041775     apply lower and upper thresholds 0.25 and 2
14:56:47.005847   scatter fraction at first pass=41.2121%
14:56:47.049349  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_sc_ATX.s
14:56:47.049480   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_sc_ATX.s (matrix 0)
14:56:47.004946   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_sc_ATX.h33 (matrix 0)
14:56:47.005300  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_sc_ATX.s
14:56:47.018218  
14:56:47.018322 gantry model values that may have been used:
14:56:47.018369  model number=328
14:56:47.018415  defaultElements()=256
14:56:47.018473  binSize()=0.121875cm
14:56:47.018519  defaultAngles()=288
14:56:47.018572  planeSep()=0.121875cm
14:56:47.018620  crystalRadius()=23.45cm
14:56:47.018666  sinogramDepthOfInteraction()=0cm
14:56:47.018713  sinogramIntrinsicTilt()=0 degrees
14:56:47.018753  isRingArch()=false
14:56:47.018792  isPETOnlyArch()=true
14:56:47.018836  defPlaneDefSpan3D()=3
14:56:47.018882  defRingDiffMax()=67
14:56:47.018925  bucketsPerRing()=unknown
14:56:47.018985  bucketRings()=1
14:56:47.019030  axialBlocks()=13
14:56:47.019074  transBlocks()=9
14:56:47.019118  axialCrystals()=8
14:56:47.019162  transCrystals()=8
14:56:47.019206  axialBlockGaps()=0
14:56:47.019251  transBlockGaps()=0
14:56:47.019296  directPlanes()=104
14:56:47.019341  defaultLLD()=400 keV
14:56:47.019385  defaultULD()=650 keV
14:56:47.019429  nCrystalLayers()=2
14:56:47.019477   crystalLayerMaterial(0)=LSO
14:56:47.019549   crystalLayerBackgroundErgRatio(0)=14%
14:56:47.019619   crystalLayerFWHMErgRes(0)=17%
14:56:47.019667   crystalLayerDepth(0)=1cm
14:56:47.019714   crystalLayerMaterial(1)=LYSO
14:56:47.019768   crystalLayerBackgroundErgRatio(1)=14%
14:56:47.019818   crystalLayerFWHMErgRes(1)=17%
14:56:47.019866   crystalLayerDepth(1)=1cm
14:56:47.019912  maxScatterZfOV()=40cm
14:56:47.019950  
14:56:47.060894 processing time 00:00:29.6484 (hh:mm:ss)
14:56:47.061012 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
14:56:47.061069 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
14:56:47.061113 memory access pattern: 411 entries
14:56:47.061152  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1695305728
14:56:49	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
14:56:49	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_sc_ATX.s
14:56:49	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23.s
14:56:49	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23.ch
14:56:49	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
14:56:49	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.a
14:56:49	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_3D_ATX.i
14:56:49	  Method               : OPO3D
14:56:49	  Positivity constraint in sinogram space
14:56:49	  Max of sensitivity image      : 1.000000e+04
14:56:49	  Threshold for missing data    : 1.000000e-04
14:56:49	  Threshold for image update    : 1.000000e-10
14:56:49	  Maximum of image      	: 10000000000.000000
14:56:49	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:014:56:49	Model 999 
14:56:49	  Triming 3 planes at segment edges 
14:56:49	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
14:56:49	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 14 iterations (37 msec)
1	729 msec   
2	3256 msec   
3	3408 msec   
4	3213 msec   
5	573 msec   
Smooth Delays computed in 11870 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4627 msec.
Total time 16497 msec.
14:57:06	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.a: attenuation file size 651460608
14:57:06	expected file size 256x288x2209(2209)
14:57:06	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr23.a: attenuation file type 0
14:57:06	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
14:57:06	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
14:57:06	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_3D_ATX.i reconstruction started
14:57:06	  Prepare components of update equation from input data ...
14:57:11	  Read normalization and normalize delayed
14:57:11	  Apply normalization mask to prompt sinogram
14:57:15	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
14:57:41	  Iteration 1 in 84.450 sec
14:58:06	  Iteration 2 in 85.220 sec
14:58:32	  Iteration 3 in 83.670 sec
14:58:57	  Iteration 4 in 86.290 sec
14:59:22	  Iteration 5 in 84.430 sec
14:59:48	  Iteration 6 in 85.370 sec
15:00:14	  Iteration 7 in 85.820 sec
15:00:40	  Iteration 8 in 84.740 sec
15:01:06	  Iteration 9 in 83.880 sec
15:01:31	  Iteration 10 in 83.560 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_3D_ATX.i' complete
15:01:32	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame23_3D_ATX.i reconstruction done in 282 sec
15:01:32.035608 unknown (0x)    memory: 0 MByte
15:01:32.035713 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:01:32.035769 Revision: 275.1
15:01:32.035830 current date and time (GMT): Sat Dec  4 20:01:32 2010
15:01:32.035889 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
15:01:32.035972 free memory in memory controller: 9541.25 MByte
15:01:32.036120 memory access pattern found
15:01:32.036177 free memory in memory controller: 9541.25 MByte
15:01:32.045735 calculate acf for 1 matrix
15:01:32.045797  span=9
15:01:32.045847  maximum ring difference=67
15:01:32.045915  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.i
15:01:32.045973   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.i'
15:01:32.046038    matrix number=0
15:01:32.029997    XYSamples=128
15:01:32.030123    DeltaXY=2.4375mm
15:01:32.030170    ZSamples=207
15:01:32.030216    DeltaZ=1.21875mm
15:01:32.030257    corrections applied=
15:01:32.030297    u-map data=yes
15:01:32.030356    bed position=0mm
15:01:32.030401    scan start time=0 sec
15:01:32.030452    scan frame duration=0 sec (0 min)
15:01:32.030502    scan gate duration=0 sec (0 min)
15:01:32.030548    isotope halflife=0 sec
15:01:32.030592    lld=0 KeV
15:01:32.030635    uld=0 KeV
15:01:32.037166  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
15:01:32.037292  XYSamples=128
15:01:32.037371  DeltaXY=2.4375mm
15:01:32.037416  RhoSamples=256
15:01:32.037462  BinSizeRho=1.21875mm
15:01:32.037505  ThetaSamples=288
15:01:32.037550  plane separation=1.21875mm
15:01:32.037601  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:01:32.037645  subsets=1
15:01:32.037688  axes=1
15:01:32.037741  axis table=207 {207}
15:01:32.037782  algorithm=UW-OSEM
15:01:32.037824  use LUT=no
15:01:32.038011  time of flight bins=1
15:01:32.038059  initialize forward-projector
15:01:32.038104   angles of segment 0
15:01:32.038148    plane 0-206: 0 degrees
15:01:32.038415  start forward projection
15:01:32.001697   start forward projection of subset 0 from 128x128x207 to 256x288x207
15:01:32.001817    project segment 0
15:01:35.046262   finished forward projection of subset 0 in 2.45312 sec
15:01:35.064119   scale 207 planes of sinogram by 0.410256
15:01:35.028306  finished forward projection in 2.59766 sec
15:01:35.028420  convert emission into transmission data
15:01:36.038694  span=9
15:01:36.038815  maximum ring difference=67
15:01:36.038901  iFORE sinogram 1 from 256x288x207 to 256x288x2209
15:01:36.039083   replace values below 1 by 1
15:01:36.060185   copy 207 planes of segment 0
15:01:36.005155   create 360 degrees sinogram (512x576x207)
15:01:37.029878   calculate 3d fourier transform of sinogram
15:01:40.052479   calculate 394 planes of axis 1
15:01:41.020264    calculate fourier projection of axis 1
15:01:44.037204    calculate inverse fourier transform of axis 1
15:01:47.036839    split axis 1 into 2 segments
15:01:47.003692    calculate weighting of axis 1
15:01:48.040605   finished with axis 1
15:01:48.040731   calculate 358 planes of axis 2
15:01:49.053111    calculate fourier projection of axis 2
15:01:52.019389    calculate inverse fourier transform of axis 2
15:01:55.050079    split axis 2 into 2 segments
15:01:55.005789    calculate weighting of axis 2
15:01:56.000668   finished with axis 2
15:01:56.000800   calculate 322 planes of axis 3
15:01:56.018495    calculate fourier projection of axis 3
15:01:59.027707    calculate inverse fourier transform of axis 3
15:02:02.021123    split axis 3 into 2 segments
15:02:02.047091    calculate weighting of axis 3
15:02:03.063299   finished with axis 3
15:02:03.063416   calculate 286 planes of axis 4
15:02:04.048859    calculate fourier projection of axis 4
15:02:07.024446    calculate inverse fourier transform of axis 4
15:02:10.057714    split axis 4 into 2 segments
15:02:10.055301    calculate weighting of axis 4
15:02:11.038625   finished with axis 4
15:02:11.038752   calculate 250 planes of axis 5
15:02:11.032673    calculate fourier projection of axis 5
15:02:14.010629    calculate inverse fourier transform of axis 5
15:02:17.003753    split axis 5 into 2 segments
15:02:17.054647    calculate weighting of axis 5
15:02:17.006826   finished with axis 5
15:02:17.006954   calculate 214 planes of axis 6
15:02:18.040388    calculate fourier projection of axis 6
15:02:20.040556    calculate inverse fourier transform of axis 6
15:02:23.058967    split axis 6 into 2 segments
15:02:23.035219    calculate weighting of axis 6
15:02:24.010431   finished with axis 6
15:02:24.010561   calculate 178 planes of axis 7
15:02:24.053943    calculate fourier projection of axis 7
15:02:27.062994    calculate inverse fourier transform of axis 7
15:02:29.058721    split axis 7 into 2 segments
15:02:29.042125    calculate weighting of axis 7
15:02:29.037723   finished with axis 7
15:02:29.028248  axes=8
15:02:29.028368  axis table=2209 {207,394,358,322,286,250,214,178}
15:02:29.028433  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.a
15:02:29.028495   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.a (matrix 0)
15:02:30.026403   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.h33 (matrix 0)
15:02:30.014107  
15:02:30.014237 gantry model values that may have been used:
15:02:30.014285  model number=328
15:02:30.014331  defaultElements()=256
15:02:30.014391  binSize()=0.121875cm
15:02:30.014436  defaultAngles()=288
15:02:30.014482  planeSep()=0.121875cm
15:02:30.014530  crystalRadius()=23.45cm
15:02:30.014587  sinogramDepthOfInteraction()=0cm
15:02:30.014635  sinogramIntrinsicTilt()=0 degrees
15:02:30.014675  isRingArch()=false
15:02:30.014714  isPETOnlyArch()=true
15:02:30.014758  defPlaneDefSpan3D()=3
15:02:30.014803  defRingDiffMax()=67
15:02:30.014846  bucketsPerRing()=unknown
15:02:30.014890  bucketRings()=1
15:02:30.014935  axialBlocks()=13
15:02:30.014978  transBlocks()=9
15:02:30.015022  axialCrystals()=8
15:02:30.015066  transCrystals()=8
15:02:30.015110  axialBlockGaps()=0
15:02:30.015154  transBlockGaps()=0
15:02:30.015198  directPlanes()=104
15:02:30.015243  defaultLLD()=400 keV
15:02:30.015287  defaultULD()=650 keV
15:02:30.015331  nCrystalLayers()=2
15:02:30.015378   crystalLayerMaterial(0)=LSO
15:02:30.015450   crystalLayerBackgroundErgRatio(0)=12%
15:02:30.015503   crystalLayerFWHMErgRes(0)=17%
15:02:30.015558   crystalLayerDepth(0)=1cm
15:02:30.015608   crystalLayerMaterial(1)=LYSO
15:02:30.015663   crystalLayerBackgroundErgRatio(1)=12%
15:02:30.015715   crystalLayerFWHMErgRes(1)=17%
15:02:30.015764   crystalLayerDepth(1)=1cm
15:02:30.015811  maxScatterZfOV()=40cm
15:02:30.015851  
15:02:30.015910 processing time 00:00:58.1094 (hh:mm:ss)
15:02:30.015977 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:02:30.016035 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:02:30.016080 memory access pattern: 36 entries
15:02:30.016120  
15:02:31.024977 unknown (0x)    memory: 0 MByte
15:02:31.025080 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:02:31.025133 Revision: 275.1
15:02:31.025192 current date and time (GMT): Sat Dec  4 20:02:31 2010
15:02:31.025258 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
15:02:31.025345 free memory in memory controller: 9541.25 MByte
15:02:31.025511 memory access pattern found
15:02:31.025570 free memory in memory controller: 9541.25 MByte
15:02:31.025640 Default crystalLayerBackgroundErgRatio: 12,12
15:02:31.025706 Specified crystalLayerBackgroundErgRatio: 14,14
15:02:31.032944 calculate sinogram for 1 matrix
15:02:31.033015  loading the 3d emission scan (matrix 0)
15:02:31.033070   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24.tr.s'
15:02:31.033118    matrix number=0
15:02:34.028217    RhoSamples=256
15:02:34.028352    BinSizeRho=1.21875mm
15:02:34.028396    ThetaSamples=288
15:02:34.028438    mash factor=0
15:02:34.028481    plane separation=1.21875mm
15:02:34.028523    axes=8
15:02:34.028581    axis table=2209 {207,394,358,322,286,250,214,178}
15:02:34.028623    span=9
15:02:34.028664    maximum ring difference=67
15:02:34.028707    intrinsic tilt=0 degrees
15:02:34.028750    bed position=0mm
15:02:34.028793    scan start time=0 sec
15:02:34.028840    scan frame duration=0 sec (0 min)
15:02:34.028888    scan gate duration=0 sec (0 min)
15:02:34.028931    isotope halflife=0 sec
15:02:34.028972    lld=400 KeV
15:02:34.029035    uld=650 KeV
15:02:34.029072    corrections applied=
15:02:34.029126  calculating the 3d normalisation scan (matrix 0)
15:02:34.029175   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
15:02:35.044160    matrix number=0
15:02:35.044267    RhoSamples=256
15:02:35.044320    BinSizeRho=1.21875mm
15:02:35.044358    ThetaSamples=288
15:02:35.044407    mash factor=0
15:02:35.044448    plane separation=1.21875mm
15:02:35.044485    axes=8
15:02:35.044549    axis table=2209 {207,394,358,322,286,250,214,178}
15:02:35.044588    span=9
15:02:35.044624    maximum ring difference=67
15:02:35.044663    intrinsic tilt=0 degrees
15:02:35.044702    bed position=0mm
15:02:35.044741    scan start time=0 sec
15:02:35.044785    scan frame duration=0 sec (0 min)
15:02:35.044828    scan gate duration=0 sec (0 min)
15:02:35.044867    isotope halflife=0 sec
15:02:35.044907    lld=400 KeV
15:02:35.044945    uld=650 KeV
15:02:35.044987    corrections applied=
15:02:35.045030  normalize 3d emission
15:02:35.045066   multiply sinograms
15:02:36.031744  normalization based gap filling
15:02:36.032578    fill 207 planes 8 threads
15:02:36.024751    fill 394 planes 8 threads
15:02:37.058547    fill 358 planes 8 threads
15:02:37.052681    fill 322 planes 8 threads
15:02:37.012981    fill 286 planes 8 threads
15:02:38.043359    fill 250 planes 8 threads
15:02:38.064112    fill 214 planes 8 threads
15:02:38.045926    fill 178 planes 8 threads
15:02:38.044474   bed position in emission=0mm
15:02:38.044656   bed position in u-map=0mm
15:02:38.044766   bed position in acf=0mm
15:02:38.044827  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.i
15:02:38.044880   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.i'
15:02:38.044928    matrix number=0
15:02:38.063232    XYSamples=128
15:02:38.063362    DeltaXY=2.4375mm
15:02:38.063410    ZSamples=207
15:02:38.063454    DeltaZ=1.21875mm
15:02:38.063494    corrections applied=
15:02:38.063533    u-map data=yes
15:02:38.063577    bed position=0mm
15:02:38.063627    scan start time=0 sec
15:02:38.063677    scan frame duration=0 sec (0 min)
15:02:38.063727    scan gate duration=0 sec (0 min)
15:02:38.063772    isotope halflife=0 sec
15:02:38.063815    lld=0 KeV
15:02:38.063857    uld=0 KeV
15:02:38.063900  loading the acf (matrix 0)
15:02:38.063952   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.a'
15:02:38.064022    matrix number=0
15:02:39.003472    RhoSamples=256
15:02:39.003602    BinSizeRho=1.21875mm
15:02:39.003647    ThetaSamples=288
15:02:39.003690    mash factor=0
15:02:39.003735    plane separation=1.21875mm
15:02:39.003778    axes=8
15:02:39.003841    axis table=2209 {207,394,358,322,286,250,214,178}
15:02:39.003890    span=9
15:02:39.003933    maximum ring difference=67
15:02:39.003978    intrinsic tilt=0 degrees
15:02:39.004022    bed position=0mm
15:02:39.004067    scan start time=0 sec
15:02:39.004116    scan frame duration=0 sec (0 min)
15:02:39.004167    scan gate duration=0 sec (0 min)
15:02:39.004213    isotope halflife=0 sec
15:02:39.004268    lld=400 KeV
15:02:39.004312    uld=650 KeV
15:02:39.004351    corrections applied=
15:02:39.004414  replace values below 1 by 1
15:02:39.025424  estimate scatter sinogram
15:02:39.039300   counts in image: min=0  max=0.155713  total=53305.8
15:02:39.039485   start single-slice rebinning from 256x288x2209 to 256x288x207
15:02:39.039528   initialize SSR
15:02:39.039573    RhoSamples=256
15:02:39.039617    ThetaSamples=288
15:02:39.039680    axes=8
15:02:39.039743    axis table=2209 {207,394,358,322,286,250,214,178}
15:02:39.042312    skip 2 planes at each side of a segment
15:02:39.042444    calculate e*n*a of axis 0 (skip 2 border planes)
15:02:39.042497     calculate axis 0 of corrected sinogram
15:02:39.040893    calculate single-slice rebinning of axis 0
15:02:39.041042    ssr 203 planes
15:02:39.031448    calculate e*n*a of axis 1 (skip 2 border planes)
15:02:39.031575     calculate axis 1 of corrected sinogram
15:02:40.055126    calculate single-slice rebinning of axis 1
15:02:40.055293    ssr 193 planes
15:02:40.006306    calculate e*n*a of axis 2 (skip 2 border planes)
15:02:40.006413     calculate axis 2 of corrected sinogram
15:02:40.020670    calculate single-slice rebinning of axis 2
15:02:40.020794    ssr 175 planes
15:02:40.029309    calculate e*n*a of axis 3 (skip 2 border planes)
15:02:40.029415     calculate axis 3 of corrected sinogram
15:02:40.022923    calculate single-slice rebinning of axis 3
15:02:40.023051    ssr 157 planes
15:02:40.024307    calculate e*n*a of axis 4 (skip 2 border planes)
15:02:40.024415     calculate axis 4 of corrected sinogram
15:02:40.062068    calculate single-slice rebinning of axis 4
15:02:40.062192    ssr 139 planes
15:02:40.056036    calculate e*n*a of axis 5 (skip 2 border planes)
15:02:40.056141     calculate axis 5 of corrected sinogram
15:02:41.058654    calculate single-slice rebinning of axis 5
15:02:41.058781    ssr 121 planes
15:02:41.045582    calculate e*n*a of axis 6 (skip 2 border planes)
15:02:41.045689     calculate axis 6 of corrected sinogram
15:02:41.041113    calculate single-slice rebinning of axis 6
15:02:41.041239    ssr 103 planes
15:02:41.020588    calculate e*n*a of axis 7 (skip 2 border planes)
15:02:41.020695     calculate axis 7 of corrected sinogram
15:02:41.060319    calculate single-slice rebinning of axis 7
15:02:41.060441    ssr 85 planes
15:02:41.032487    normalize sinogram
15:02:41.017247   finished single-slice rebinning in 1.97656 sec
15:02:41.017371   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
15:02:41.017452    XYSamples=128
15:02:41.017496    DeltaXY=2.4375mm
15:02:41.017537    RhoSamples=256
15:02:41.017579    BinSizeRho=1.21875mm
15:02:41.017619    ThetaSamples=288
15:02:41.017676    plane separation=1.21875mm
15:02:41.017724    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:02:41.017766    subsets=8
15:02:41.017805    axes=1
15:02:41.017851    axis table=207 {207}
15:02:41.017890    algorithm=AW-OSEM
15:02:41.017929    use LUT=small
15:02:41.018098    initialize backprojector
15:02:41.018171     angle of segment 0: 0 degrees
15:02:41.018403     create mode 1 lookup-table for backprojector: 63 MByte
15:02:41.010083     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
15:02:41.059688     start calculation of normalization factors for AW-OSEM
15:02:41.059877      allocate 103.5 MByte for normalization factors
15:02:41.059929      start calculation of normalization factors for subset 0
15:02:41.009045       calculate segment 0, subset 0 of 1/a sinogram
15:02:41.032475       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
15:02:41.055034      finished calculation of normalization factors for subset 0 in 0.125 sec
15:02:41.055131      start calculation of normalization factors for subset 1
15:02:41.004283       calculate segment 0, subset 1 of 1/a sinogram
15:02:41.021945       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
15:02:41.009959      finished calculation of normalization factors for subset 1 in 0.152344 sec
15:02:41.010054      start calculation of normalization factors for subset 2
15:02:42.008165       calculate segment 0, subset 2 of 1/a sinogram
15:02:42.025829       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
15:02:42.015741      finished calculation of normalization factors for subset 2 in 0.15625 sec
15:02:42.015835      start calculation of normalization factors for subset 3
15:02:42.030646       calculate segment 0, subset 3 of 1/a sinogram
15:02:42.048498       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
15:02:42.021269      finished calculation of normalization factors for subset 3 in 0.136719 sec
15:02:42.021363      start calculation of normalization factors for subset 4
15:02:42.036046       calculate segment 0, subset 4 of 1/a sinogram
15:02:42.054394       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
15:02:42.039951      finished calculation of normalization factors for subset 4 in 0.214844 sec
15:02:42.040068      start calculation of normalization factors for subset 5
15:02:42.057201       calculate segment 0, subset 5 of 1/a sinogram
15:02:42.009654       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
15:02:42.032270      finished calculation of normalization factors for subset 5 in 0.121094 sec
15:02:42.032374      start calculation of normalization factors for subset 6
15:02:42.047819       calculate segment 0, subset 6 of 1/a sinogram
15:02:42.000182       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
15:02:42.022300      finished calculation of normalization factors for subset 6 in 0.121094 sec
15:02:42.022406      start calculation of normalization factors for subset 7
15:02:42.038917       calculate segment 0, subset 7 of 1/a sinogram
15:02:42.056931       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
15:02:42.040375      finished calculation of normalization factors for subset 7 in 0.148438 sec
15:02:42.040506     finished calculation of normalization factors in 1.17578 sec
15:02:42.040556    divide sinograms
15:02:42.005688    initialize forward-projector
15:02:42.005812     angles of segment 0
15:02:42.005856      plane 0-206: 0 degrees
15:02:42.006099     create mode 1 lookup-table for forward-projector: 126 MByte
15:02:43.009153     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
15:02:43.013140     start reconstruction from 256x288x207 to 128x128x207
15:02:43.013284      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
15:02:43.024888      start iteration 1, subset 0
15:02:43.061133      finished iteration 1, subset 0 in 0.230469 sec
15:02:43.061251      start iteration 1, subset 4
15:02:44.051335      finished iteration 1, subset 4 in 0.335938 sec
15:02:44.051438      start iteration 1, subset 2
15:02:44.031277      finished iteration 1, subset 2 in 0.308594 sec
15:02:44.031393      start iteration 1, subset 6
15:02:44.040736      finished iteration 1, subset 6 in 0.269531 sec
15:02:44.046558      start iteration 1, subset 1
15:02:44.035871      finished iteration 1, subset 1 in 0.316406 sec
15:02:44.035995      start iteration 1, subset 5
15:02:45.015096      finished iteration 1, subset 5 in 0.257812 sec
15:02:45.015202      start iteration 1, subset 3
15:02:45.030742      finished iteration 1, subset 3 in 0.277344 sec
15:02:45.030848      start iteration 1, subset 7
15:02:45.046190      finished iteration 1, subset 7 in 0.410156 sec
15:02:45.046306      start iteration 2, subset 0
15:02:46.011140      finished iteration 2, subset 0 in 0.308594 sec
15:02:46.011244      start iteration 2, subset 4
15:02:46.063829      finished iteration 2, subset 4 in 0.316406 sec
15:02:46.063944      start iteration 2, subset 2
15:02:46.015863      finished iteration 2, subset 2 in 0.277344 sec
15:02:46.015975      start iteration 2, subset 6
15:02:47.037687      finished iteration 2, subset 6 in 0.367188 sec
15:02:47.037800      start iteration 2, subset 1
15:02:47.027197      finished iteration 2, subset 1 in 0.316406 sec
15:02:47.027300      start iteration 2, subset 5
15:02:47.023554      finished iteration 2, subset 5 in 0.390625 sec
15:02:47.023689      start iteration 2, subset 3
15:02:48.037945      finished iteration 2, subset 3 in 0.292969 sec
15:02:48.038046      start iteration 2, subset 7
15:02:48.062198      finished iteration 2, subset 7 in 0.289062 sec
15:02:48.062317      start iteration 3, subset 0
15:02:48.012747      finished iteration 3, subset 0 in 0.34375 sec
15:02:48.012850      start iteration 3, subset 4
15:02:49.056006      finished iteration 3, subset 4 in 0.453125 sec
15:02:49.056120      start iteration 3, subset 2
15:02:49.003375      finished iteration 3, subset 2 in 0.273438 sec
15:02:49.003479      start iteration 3, subset 6
15:02:49.048952      finished iteration 3, subset 6 in 0.175781 sec
15:02:49.049089      start iteration 3, subset 1
15:02:49.006716      finished iteration 3, subset 1 in 0.210938 sec
15:02:49.006842      start iteration 3, subset 5
15:02:50.027334      finished iteration 3, subset 5 in 0.363281 sec
15:02:50.027453      start iteration 3, subset 3
15:02:50.030828      finished iteration 3, subset 3 in 0.265625 sec
15:02:50.030933      start iteration 3, subset 7
15:02:50.060594      finished iteration 3, subset 7 in 0.226562 sec
15:02:50.060765      mask 207 planes of image
15:02:50.009773      scale image with 1.21875
15:02:50.016366      scale image with 4
15:02:50.023076     finished reconstruction in 7.33594 sec
15:02:50.023169     forward projector: 3.89062 sec
15:02:50.023232     backprojector: 2.45312 sec
15:02:50.034363   finished reconstruction of emission in 9.21484 sec
15:02:50.034471   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
15:02:50.040336   scale image by 4.10256
15:02:50.058008   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:02:50.058127   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:02:50.058197   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:02:50.058258   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:02:50.058297   start scatter estimation
15:02:50.058349    calculate matrix for beta-spline interpolation
15:02:50.002132    start scatter simulation
15:02:50.002203     effective detector ring radius=234.5mm (234.5mm+0mm)
15:02:50.002247     DeltaXY=2.4375mm
15:02:50.002289     DeltaZ=1.21875mm
15:02:50.002342     LLD=400 keV
15:02:50.002385     ULD=650 keV
15:02:50.011960     search bounds of object in u-map
15:02:51.022496     x bounds (-x,+x)=-91.4038mm,91.4038mm
15:02:51.022608     y bounds (-y,+y)=-106.029mm,135.279mm
15:02:51.022657     z bounds (-z,+z)=-53.0144mm,126.139mm
15:02:51.022708     length of axial scatter fov=358.303mm (max. 358.303mm)
15:02:51.022758     scatter samples (x,y,z)=8,11,16
15:02:51.022811     image size (x,y,z)=182.808mm,241.308mm,358.303mm
15:02:51.022864     scatter_grid size (x,y,z)=22.851mm,21.9371mm,22.3939mm
15:02:51.003810     start simulation of scatter sinogram (19x34x10)
15:02:51.004055      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
15:02:51.004130      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
15:02:51.004273      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
15:02:51.004427      thread 3: 463 samples in plane 2 inside of object (plane 50 of full sinogram)
15:02:51.004511      thread 1: 299 samples in plane 0 inside of object (plane 8 of full sinogram)
15:02:51.005151      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
15:02:51.005246      thread 2: 385 samples in plane 1 inside of object (plane 29 of full sinogram)
15:02:51.005329      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
15:02:51.005406      thread 4: 500 samples in plane 3 inside of object (plane 71 of full sinogram)
15:02:51.005504      thread 6: 497 samples in plane 5 inside of object (plane 113 of full sinogram)
15:02:51.008818      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
15:02:51.009139      thread 7: 502 samples in plane 6 inside of object (plane 134 of full sinogram)
15:02:51.010169      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
15:02:51.010546      thread 8: 507 samples in plane 8 inside of object (plane 176 of full sinogram)
15:02:51.023981      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
15:02:51.024214      thread 5: 489 samples in plane 4 inside of object (plane 92 of full sinogram)
15:02:51.013391      thread 8: 494 samples in plane 9 inside of object (plane 197 of full sinogram)
15:02:51.003515      thread 7: 503 samples in plane 7 inside of object (plane 155 of full sinogram)
15:02:51.060840     finished simulation of scatter sinogram
15:02:51.006944    finished scatter simulation in 0.285156 sec
15:02:51.007055    calculate beta-spline interpolation from 17x34x10 to 256x288x207
15:02:52.033385   finished scatter estimation in 1.51562 sec
15:02:52.033496   convert 2d scatter sinogram into 3d sinogram
15:02:52.033542   calculate axial scatter scale factors (smoothed with boxcar 17)
15:02:52.033607    acf threshold=1.03
15:02:52.013925    calculate scale factors for segment 0
15:02:52.014031    scatter size 256x288x207
15:02:52.058957     apply lower and upper thresholds 0.25 and 2
15:02:52.059073    calculate scale factors for segment +1
15:02:52.059129    scatter size 256x288x197
15:02:53.000402     apply lower and upper thresholds 0.25 and 2
15:02:53.000509    calculate scale factors for segment -1
15:02:53.000565    scatter size 256x288x197
15:02:53.021666     apply lower and upper thresholds 0.25 and 2
15:02:53.021771    calculate scale factors for segment +2
15:02:53.021827    scatter size 256x288x179
15:02:53.030468     apply lower and upper thresholds 0.25 and 2
15:02:53.030572    calculate scale factors for segment -2
15:02:53.030627    scatter size 256x288x179
15:02:53.036544     apply lower and upper thresholds 0.25 and 2
15:02:53.036650    calculate scale factors for segment +3
15:02:53.036706    scatter size 256x288x161
15:02:53.028252     apply lower and upper thresholds 0.25 and 2
15:02:53.028355    calculate scale factors for segment -3
15:02:53.028411    scatter size 256x288x161
15:02:53.016855     apply lower and upper thresholds 0.25 and 2
15:02:53.016957    calculate scale factors for segment +4
15:02:53.017013    scatter size 256x288x143
15:02:53.058976     apply lower and upper thresholds 0.25 and 2
15:02:53.059079    calculate scale factors for segment -4
15:02:53.059146    scatter size 256x288x143
15:02:53.032843     apply lower and upper thresholds 0.25 and 2
15:02:53.032945    calculate scale factors for segment +5
15:02:53.033001    scatter size 256x288x125
15:02:54.042917     apply lower and upper thresholds 0.25 and 2
15:02:54.043020    calculate scale factors for segment -5
15:02:54.043076    scatter size 256x288x125
15:02:54.001979     apply lower and upper thresholds 0.25 and 2
15:02:54.002081    calculate scale factors for segment +6
15:02:54.002137    scatter size 256x288x107
15:02:54.013967     apply lower and upper thresholds 0.25 and 2
15:02:54.014074    calculate scale factors for segment -6
15:02:54.014130    scatter size 256x288x107
15:02:54.023367     apply lower and upper thresholds 0.25 and 2
15:02:54.023478    calculate scale factors for segment +7
15:02:54.023535    scatter size 256x288x89
15:02:54.019973     apply lower and upper thresholds 0.25 and 2
15:02:54.020074    calculate scale factors for segment -7
15:02:54.020130    scatter size 256x288x89
15:02:54.014142     apply lower and upper thresholds 0.25 and 2
15:03:02.055306   scatter fraction at first pass=41.1302%
15:03:02.030006  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_sc_ATX.s
15:03:02.030136   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_sc_ATX.s (matrix 0)
15:03:02.051514   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_sc_ATX.h33 (matrix 0)
15:03:02.051865  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_sc_ATX.s
15:03:02.064706  
15:03:02.064813 gantry model values that may have been used:
15:03:02.064860  model number=328
15:03:02.064906  defaultElements()=256
15:03:02.064964  binSize()=0.121875cm
15:03:02.065010  defaultAngles()=288
15:03:02.065063  planeSep()=0.121875cm
15:03:02.065111  crystalRadius()=23.45cm
15:03:02.065171  sinogramDepthOfInteraction()=0cm
15:03:02.065221  sinogramIntrinsicTilt()=0 degrees
15:03:02.065262  isRingArch()=false
15:03:02.065302  isPETOnlyArch()=true
15:03:02.065346  defPlaneDefSpan3D()=3
15:03:02.065391  defRingDiffMax()=67
15:03:02.065435  bucketsPerRing()=unknown
15:03:02.065479  bucketRings()=1
15:03:02.065524  axialBlocks()=13
15:03:02.000033  transBlocks()=9
15:03:02.000078  axialCrystals()=8
15:03:02.000123  transCrystals()=8
15:03:02.000168  axialBlockGaps()=0
15:03:02.000213  transBlockGaps()=0
15:03:02.000257  directPlanes()=104
15:03:02.000323  defaultLLD()=400 keV
15:03:02.000366  defaultULD()=650 keV
15:03:02.000409  nCrystalLayers()=2
15:03:02.000456   crystalLayerMaterial(0)=LSO
15:03:02.000527   crystalLayerBackgroundErgRatio(0)=14%
15:03:02.000578   crystalLayerFWHMErgRes(0)=17%
15:03:02.000630   crystalLayerDepth(0)=1cm
15:03:02.000679   crystalLayerMaterial(1)=LYSO
15:03:02.000732   crystalLayerBackgroundErgRatio(1)=14%
15:03:02.000782   crystalLayerFWHMErgRes(1)=17%
15:03:02.000830   crystalLayerDepth(1)=1cm
15:03:02.000875  maxScatterZfOV()=40cm
15:03:02.000913  
15:03:02.042920 processing time 00:00:30.9492 (hh:mm:ss)
15:03:02.043037 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:03:02.043107 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:03:02.043152 memory access pattern: 411 entries
15:03:02.043191  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1694748672
15:03:04	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
15:03:04	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_sc_ATX.s
15:03:04	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24.s
15:03:04	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24.ch
15:03:04	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
15:03:04	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.a
15:03:04	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_3D_ATX.i
15:03:04	  Method               : OPO3D
15:03:04	  Positivity constraint in sinogram space
15:03:04	  Max of sensitivity image      : 1.000000e+04
15:03:04	  Threshold for missing data    : 1.000000e-04
15:03:04	  Threshold for image update    : 1.000000e-10
15:03:04	  Maximum of image      	: 10000000000.000000
15:03:04	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:015:03:04	Model 999 
15:03:04	  Triming 3 planes at segment edges 
15:03:04	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
15:03:04	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 13 iterations (31 msec)
1	653 msec   
2	3303 msec   
3	3832 msec   
4	3617 msec   
5	499 msec   
Smooth Delays computed in 12584 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4616 msec.
Total time 17200 msec.
15:03:21	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.a: attenuation file size 651460608
15:03:21	expected file size 256x288x2209(2209)
15:03:21	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr24.a: attenuation file type 0
15:03:21	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
15:03:22	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
15:03:22	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_3D_ATX.i reconstruction started
15:03:22	  Prepare components of update equation from input data ...
15:03:27	  Read normalization and normalize delayed
15:03:27	  Apply normalization mask to prompt sinogram
15:03:30	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
15:03:56	  Iteration 1 in 84.480 sec
15:04:21	  Iteration 2 in 85.030 sec
15:04:47	  Iteration 3 in 85.500 sec
15:05:13	  Iteration 4 in 84.570 sec
15:05:38	  Iteration 5 in 83.980 sec
15:06:04	  Iteration 6 in 84.330 sec
15:06:29	  Iteration 7 in 84.760 sec
15:06:54	  Iteration 8 in 84.320 sec
15:07:20	  Iteration 9 in 84.260 sec
15:07:45	  Iteration 10 in 84.440 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_3D_ATX.i' complete
15:07:46	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame24_3D_ATX.i reconstruction done in 281 sec
15:07:46.052334 unknown (0x)    memory: 0 MByte
15:07:46.052442 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:07:46.052494 Revision: 275.1
15:07:46.052553 current date and time (GMT): Sat Dec  4 20:07:46 2010
15:07:46.052625 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
15:07:46.052703 free memory in memory controller: 9541.25 MByte
15:07:46.052844 memory access pattern found
15:07:46.052897 free memory in memory controller: 9541.25 MByte
15:07:46.063430 calculate acf for 1 matrix
15:07:46.063485  span=9
15:07:46.063530  maximum ring difference=67
15:07:46.063594  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.i
15:07:46.063647   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.i'
15:07:46.063694    matrix number=0
15:07:47.043849    XYSamples=128
15:07:47.043973    DeltaXY=2.4375mm
15:07:47.044019    ZSamples=207
15:07:47.044064    DeltaZ=1.21875mm
15:07:47.044103    corrections applied=
15:07:47.044143    u-map data=yes
15:07:47.044187    bed position=0mm
15:07:47.044232    scan start time=0 sec
15:07:47.044291    scan frame duration=0 sec (0 min)
15:07:47.044342    scan gate duration=0 sec (0 min)
15:07:47.044387    isotope halflife=0 sec
15:07:47.044431    lld=0 KeV
15:07:47.044473    uld=0 KeV
15:07:47.050988  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
15:07:47.051111  XYSamples=128
15:07:47.051169  DeltaXY=2.4375mm
15:07:47.051213  RhoSamples=256
15:07:47.051257  BinSizeRho=1.21875mm
15:07:47.051319  ThetaSamples=288
15:07:47.051363  plane separation=1.21875mm
15:07:47.051413  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:07:47.051457  subsets=1
15:07:47.051499  axes=1
15:07:47.051551  axis table=207 {207}
15:07:47.051592  algorithm=UW-OSEM
15:07:47.051632  use LUT=no
15:07:47.051818  time of flight bins=1
15:07:47.051865  initialize forward-projector
15:07:47.051909   angles of segment 0
15:07:47.051952    plane 0-206: 0 degrees
15:07:47.052213  start forward projection
15:07:47.014896   start forward projection of subset 0 from 128x128x207 to 256x288x207
15:07:47.015018    project segment 0
15:07:49.004039   finished forward projection of subset 0 in 2.31641 sec
15:07:49.021976   scale 207 planes of sinogram by 0.410256
15:07:49.051066  finished forward projection in 2.45703 sec
15:07:49.051200  convert emission into transmission data
15:07:50.064254  span=9
15:07:50.064371  maximum ring difference=67
15:07:50.064439  iFORE sinogram 1 from 256x288x207 to 256x288x2209
15:07:50.064615   replace values below 1 by 1
15:07:50.020329   copy 207 planes of segment 0
15:07:50.033357   create 360 degrees sinogram (512x576x207)
15:07:51.059405   calculate 3d fourier transform of sinogram
15:07:54.035441   calculate 394 planes of axis 1
15:07:55.063077    calculate fourier projection of axis 1
15:07:58.021856    calculate inverse fourier transform of axis 1
15:08:02.038036    split axis 1 into 2 segments
15:08:02.001119    calculate weighting of axis 1
15:08:03.006177   finished with axis 1
15:08:03.006309   calculate 358 planes of axis 2
15:08:03.032639    calculate fourier projection of axis 2
15:08:07.035685    calculate inverse fourier transform of axis 2
15:08:10.039913    split axis 2 into 2 segments
15:08:10.063246    calculate weighting of axis 2
15:08:11.033691   finished with axis 2
15:08:11.033823   calculate 322 planes of axis 3
15:08:12.032012    calculate fourier projection of axis 3
15:08:15.038375    calculate inverse fourier transform of axis 3
15:08:18.007315    split axis 3 into 2 segments
15:08:18.014915    calculate weighting of axis 3
15:08:19.007051   finished with axis 3
15:08:19.007178   calculate 286 planes of axis 4
15:08:20.059984    calculate fourier projection of axis 4
15:08:22.046981    calculate inverse fourier transform of axis 4
15:08:26.052143    split axis 4 into 2 segments
15:08:26.047855    calculate weighting of axis 4
15:08:27.007669   finished with axis 4
15:08:27.007800   calculate 250 planes of axis 5
15:08:28.049583    calculate fourier projection of axis 5
15:08:30.030029    calculate inverse fourier transform of axis 5
15:08:34.056714    split axis 5 into 2 segments
15:08:34.042108    calculate weighting of axis 5
15:08:35.031063   finished with axis 5
15:08:35.031195   calculate 214 planes of axis 6
15:08:35.017740    calculate fourier projection of axis 6
15:08:38.033656    calculate inverse fourier transform of axis 6
15:08:41.052908    split axis 6 into 2 segments
15:08:41.028700    calculate weighting of axis 6
15:08:42.049996   finished with axis 6
15:08:42.050121   calculate 178 planes of axis 7
15:08:42.022995    calculate fourier projection of axis 7
15:08:45.023380    calculate inverse fourier transform of axis 7
15:08:47.010762    split axis 7 into 2 segments
15:08:47.042835    calculate weighting of axis 7
15:08:47.054912   finished with axis 7
15:08:47.044733  axes=8
15:08:47.044856  axis table=2209 {207,394,358,322,286,250,214,178}
15:08:47.044935  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.a
15:08:47.045002   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.a (matrix 0)
15:08:48.065404   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.h33 (matrix 0)
15:08:48.048742  
15:08:48.048865 gantry model values that may have been used:
15:08:48.048913  model number=328
15:08:48.048959  defaultElements()=256
15:08:48.049018  binSize()=0.121875cm
15:08:48.049064  defaultAngles()=288
15:08:48.049109  planeSep()=0.121875cm
15:08:48.049156  crystalRadius()=23.45cm
15:08:48.049203  sinogramDepthOfInteraction()=0cm
15:08:48.049250  sinogramIntrinsicTilt()=0 degrees
15:08:48.049291  isRingArch()=false
15:08:48.049330  isPETOnlyArch()=true
15:08:48.049374  defPlaneDefSpan3D()=3
15:08:48.049418  defRingDiffMax()=67
15:08:48.049468  bucketsPerRing()=unknown
15:08:48.049512  bucketRings()=1
15:08:48.049557  axialBlocks()=13
15:08:48.049601  transBlocks()=9
15:08:48.049644  axialCrystals()=8
15:08:48.049688  transCrystals()=8
15:08:48.049732  axialBlockGaps()=0
15:08:48.049776  transBlockGaps()=0
15:08:48.049819  directPlanes()=104
15:08:48.049863  defaultLLD()=400 keV
15:08:48.049908  defaultULD()=650 keV
15:08:48.049952  nCrystalLayers()=2
15:08:48.049999   crystalLayerMaterial(0)=LSO
15:08:48.050073   crystalLayerBackgroundErgRatio(0)=12%
15:08:48.050125   crystalLayerFWHMErgRes(0)=17%
15:08:48.050192   crystalLayerDepth(0)=1cm
15:08:48.050237   crystalLayerMaterial(1)=LYSO
15:08:48.050290   crystalLayerBackgroundErgRatio(1)=12%
15:08:48.050339   crystalLayerFWHMErgRes(1)=17%
15:08:48.050385   crystalLayerDepth(1)=1cm
15:08:48.050429  maxScatterZfOV()=40cm
15:08:48.050473  
15:08:48.050529 processing time 00:01:01.86328 (hh:mm:ss)
15:08:48.050594 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:08:48.050649 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:08:48.050692 memory access pattern: 36 entries
15:08:48.050728  
15:08:49.060013 unknown (0x)    memory: 0 MByte
15:08:49.060118 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:08:49.060169 Revision: 275.1
15:08:49.060229 current date and time (GMT): Sat Dec  4 20:08:49 2010
15:08:49.060294 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
15:08:49.060381 free memory in memory controller: 9541.25 MByte
15:08:49.060591 memory access pattern found
15:08:49.060648 free memory in memory controller: 9541.25 MByte
15:08:49.060715 Default crystalLayerBackgroundErgRatio: 12,12
15:08:49.060779 Specified crystalLayerBackgroundErgRatio: 14,14
15:08:51.023785 calculate sinogram for 1 matrix
15:08:51.023901  loading the 3d emission scan (matrix 0)
15:08:51.023956   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25.tr.s'
15:08:51.024007    matrix number=0
15:08:53.007826    RhoSamples=256
15:08:53.007975    BinSizeRho=1.21875mm
15:08:53.008026    ThetaSamples=288
15:08:53.008073    mash factor=0
15:08:53.008123    plane separation=1.21875mm
15:08:53.008171    axes=8
15:08:53.008239    axis table=2209 {207,394,358,322,286,250,214,178}
15:08:53.008287    span=9
15:08:53.008334    maximum ring difference=67
15:08:53.008384    intrinsic tilt=0 degrees
15:08:53.008434    bed position=0mm
15:08:53.008482    scan start time=0 sec
15:08:53.008537    scan frame duration=0 sec (0 min)
15:08:53.008591    scan gate duration=0 sec (0 min)
15:08:53.008641    isotope halflife=0 sec
15:08:53.008688    lld=400 KeV
15:08:53.008735    uld=650 KeV
15:08:53.008778    corrections applied=
15:08:53.008843  calculating the 3d normalisation scan (matrix 0)
15:08:53.008902   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
15:08:54.009807    matrix number=0
15:08:54.009916    RhoSamples=256
15:08:54.009972    BinSizeRho=1.21875mm
15:08:54.010014    ThetaSamples=288
15:08:54.010055    mash factor=0
15:08:54.010097    plane separation=1.21875mm
15:08:54.010138    axes=8
15:08:54.010196    axis table=2209 {207,394,358,322,286,250,214,178}
15:08:54.010236    span=9
15:08:54.010276    maximum ring difference=67
15:08:54.010318    intrinsic tilt=0 degrees
15:08:54.010360    bed position=0mm
15:08:54.010402    scan start time=0 sec
15:08:54.010449    scan frame duration=0 sec (0 min)
15:08:54.010494    scan gate duration=0 sec (0 min)
15:08:54.010547    isotope halflife=0 sec
15:08:54.010589    lld=400 KeV
15:08:54.010629    uld=650 KeV
15:08:54.010666    corrections applied=
15:08:54.010711  normalize 3d emission
15:08:54.010749   multiply sinograms
15:08:55.036946  normalization based gap filling
15:08:55.037750    fill 207 planes 8 threads
15:08:55.011031    fill 394 planes 8 threads
15:08:56.065513    fill 358 planes 8 threads
15:08:56.037582    fill 322 planes 8 threads
15:08:56.032734    fill 286 planes 8 threads
15:08:57.063286    fill 250 planes 8 threads
15:08:57.036630    fill 214 planes 8 threads
15:08:57.020933    fill 178 planes 8 threads
15:08:57.049725   bed position in emission=0mm
15:08:57.049919   bed position in u-map=0mm
15:08:57.050028   bed position in acf=0mm
15:08:57.050115  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.i
15:08:57.050195   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.i'
15:08:57.050252    matrix number=0
15:08:57.004185    XYSamples=128
15:08:57.004320    DeltaXY=2.4375mm
15:08:57.004370    ZSamples=207
15:08:57.004420    DeltaZ=1.21875mm
15:08:57.004464    corrections applied=
15:08:57.004508    u-map data=yes
15:08:57.004557    bed position=0mm
15:08:57.004607    scan start time=0 sec
15:08:57.004663    scan frame duration=0 sec (0 min)
15:08:57.004720    scan gate duration=0 sec (0 min)
15:08:57.004770    isotope halflife=0 sec
15:08:57.004832    lld=0 KeV
15:08:57.004880    uld=0 KeV
15:08:57.004928  loading the acf (matrix 0)
15:08:57.004986   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.a'
15:08:57.005037    matrix number=0
15:08:58.004521    RhoSamples=256
15:08:58.004653    BinSizeRho=1.21875mm
15:08:58.004696    ThetaSamples=288
15:08:58.004738    mash factor=0
15:08:58.004780    plane separation=1.21875mm
15:08:58.004822    axes=8
15:08:58.004882    axis table=2209 {207,394,358,322,286,250,214,178}
15:08:58.004927    span=9
15:08:58.004970    maximum ring difference=67
15:08:58.005014    intrinsic tilt=0 degrees
15:08:58.005059    bed position=0mm
15:08:58.005103    scan start time=0 sec
15:08:58.005168    scan frame duration=0 sec (0 min)
15:08:58.005217    scan gate duration=0 sec (0 min)
15:08:58.005261    isotope halflife=0 sec
15:08:58.005302    lld=400 KeV
15:08:58.005342    uld=650 KeV
15:08:58.005378    corrections applied=
15:08:58.005445  replace values below 1 by 1
15:08:58.026190  estimate scatter sinogram
15:08:58.039978   counts in image: min=0  max=0.155146  total=53079.2
15:08:58.040139   start single-slice rebinning from 256x288x2209 to 256x288x207
15:08:58.040179   initialize SSR
15:08:58.040220    RhoSamples=256
15:08:58.040263    ThetaSamples=288
15:08:58.040305    axes=8
15:08:58.040367    axis table=2209 {207,394,358,322,286,250,214,178}
15:08:58.049080    skip 2 planes at each side of a segment
15:08:58.049204    calculate e*n*a of axis 0 (skip 2 border planes)
15:08:58.049253     calculate axis 0 of corrected sinogram
15:08:58.062427    calculate single-slice rebinning of axis 0
15:08:58.062552    ssr 203 planes
15:08:59.036956    calculate e*n*a of axis 1 (skip 2 border planes)
15:08:59.037062     calculate axis 1 of corrected sinogram
15:08:59.026204    calculate single-slice rebinning of axis 1
15:08:59.026351    ssr 193 planes
15:08:59.044654    calculate e*n*a of axis 2 (skip 2 border planes)
15:08:59.044779     calculate axis 2 of corrected sinogram
15:08:59.060125    calculate single-slice rebinning of axis 2
15:08:59.060249    ssr 175 planes
15:08:59.004707    calculate e*n*a of axis 3 (skip 2 border planes)
15:08:59.004815     calculate axis 3 of corrected sinogram
15:08:59.064374    calculate single-slice rebinning of axis 3
15:08:59.064497    ssr 157 planes
15:08:59.000924    calculate e*n*a of axis 4 (skip 2 border planes)
15:08:59.001031     calculate axis 4 of corrected sinogram
15:09:00.022322    calculate single-slice rebinning of axis 4
15:09:00.022446    ssr 139 planes
15:09:00.017691    calculate e*n*a of axis 5 (skip 2 border planes)
15:09:00.017798     calculate axis 5 of corrected sinogram
15:09:00.034040    calculate single-slice rebinning of axis 5
15:09:00.034164    ssr 121 planes
15:09:00.021413    calculate e*n*a of axis 6 (skip 2 border planes)
15:09:00.021519     calculate axis 6 of corrected sinogram
15:09:00.016480    calculate single-slice rebinning of axis 6
15:09:00.016602    ssr 103 planes
15:09:00.061384    calculate e*n*a of axis 7 (skip 2 border planes)
15:09:00.061490     calculate axis 7 of corrected sinogram
15:09:00.035699    calculate single-slice rebinning of axis 7
15:09:00.035825    ssr 85 planes
15:09:00.007319    normalize sinogram
15:09:00.057959   finished single-slice rebinning in 2.01562 sec
15:09:00.058081   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
15:09:00.058143    XYSamples=128
15:09:00.058205    DeltaXY=2.4375mm
15:09:00.058248    RhoSamples=256
15:09:00.058292    BinSizeRho=1.21875mm
15:09:00.058334    ThetaSamples=288
15:09:00.058377    plane separation=1.21875mm
15:09:00.058427    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:09:00.058470    subsets=8
15:09:00.058511    axes=1
15:09:00.058557    axis table=207 {207}
15:09:00.058598    algorithm=AW-OSEM
15:09:00.058638    use LUT=small
15:09:00.058821    initialize backprojector
15:09:00.058897     angle of segment 0: 0 degrees
15:09:00.059129     create mode 1 lookup-table for backprojector: 63 MByte
15:09:00.050960     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
15:09:00.035676     start calculation of normalization factors for AW-OSEM
15:09:00.035884      allocate 103.5 MByte for normalization factors
15:09:00.035936      start calculation of normalization factors for subset 0
15:09:00.050265       calculate segment 0, subset 0 of 1/a sinogram
15:09:00.008460       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
15:09:01.035651      finished calculation of normalization factors for subset 0 in 0.148438 sec
15:09:01.035762      start calculation of normalization factors for subset 1
15:09:01.050632       calculate segment 0, subset 1 of 1/a sinogram
15:09:01.004709       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
15:09:01.029465      finished calculation of normalization factors for subset 1 in 0.125 sec
15:09:01.029569      start calculation of normalization factors for subset 2
15:09:01.046715       calculate segment 0, subset 2 of 1/a sinogram
15:09:01.065403       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
15:09:01.021192      finished calculation of normalization factors for subset 2 in 0.125 sec
15:09:01.021321      start calculation of normalization factors for subset 3
15:09:01.036446       calculate segment 0, subset 3 of 1/a sinogram
15:09:01.054476       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
15:09:01.036970      finished calculation of normalization factors for subset 3 in 0.144531 sec
15:09:01.037063      start calculation of normalization factors for subset 4
15:09:01.052109       calculate segment 0, subset 4 of 1/a sinogram
15:09:01.004362       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
15:09:01.005792      finished calculation of normalization factors for subset 4 in 0.101562 sec
15:09:01.005891      start calculation of normalization factors for subset 5
15:09:01.023526       calculate segment 0, subset 5 of 1/a sinogram
15:09:01.041539       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
15:09:01.046122      finished calculation of normalization factors for subset 5 in 0.105469 sec
15:09:01.046215      start calculation of normalization factors for subset 6
15:09:01.062435       calculate segment 0, subset 6 of 1/a sinogram
15:09:01.014846       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
15:09:01.011683      finished calculation of normalization factors for subset 6 in 0.0976562 sec
15:09:01.011776      start calculation of normalization factors for subset 7
15:09:01.029341       calculate segment 0, subset 7 of 1/a sinogram
15:09:01.047158       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
15:09:01.046297      finished calculation of normalization factors for subset 7 in 0.0976562 sec
15:09:01.046424     finished calculation of normalization factors in 0.945312 sec
15:09:01.046464    divide sinograms
15:09:01.008394    initialize forward-projector
15:09:01.008519     angles of segment 0
15:09:01.008563      plane 0-206: 0 degrees
15:09:01.008807     create mode 1 lookup-table for forward-projector: 126 MByte
15:09:02.014449     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
15:09:02.016986     start reconstruction from 256x288x207 to 128x128x207
15:09:02.017110      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
15:09:02.028634      start iteration 1, subset 0
15:09:02.020538      finished iteration 1, subset 0 in 0.320312 sec
15:09:02.020675      start iteration 1, subset 4
15:09:03.011014      finished iteration 1, subset 4 in 0.269531 sec
15:09:03.011124      start iteration 1, subset 2
15:09:03.023755      finished iteration 1, subset 2 in 0.273438 sec
15:09:03.023860      start iteration 1, subset 6
15:09:03.064685      finished iteration 1, subset 6 in 0.304688 sec
15:09:03.064820      start iteration 1, subset 1
15:09:03.058665      finished iteration 1, subset 1 in 0.378906 sec
15:09:03.058770      start iteration 1, subset 5
15:09:04.036128      finished iteration 1, subset 5 in 0.257812 sec
15:09:04.036234      start iteration 1, subset 3
15:09:04.022702      finished iteration 1, subset 3 in 0.3125 sec
15:09:04.022808      start iteration 1, subset 7
15:09:04.022535      finished iteration 1, subset 7 in 0.261719 sec
15:09:04.022651      start iteration 2, subset 0
15:09:05.057866      finished iteration 2, subset 0 in 0.378906 sec
15:09:05.057968      start iteration 2, subset 4
15:09:05.033577      finished iteration 2, subset 4 in 0.304688 sec
15:09:05.033700      start iteration 2, subset 2
15:09:05.005580      finished iteration 2, subset 2 in 0.300781 sec
15:09:05.005686      start iteration 2, subset 6
15:09:06.016747      finished iteration 2, subset 6 in 0.355469 sec
15:09:06.016852      start iteration 2, subset 1
15:09:06.032919      finished iteration 2, subset 1 in 0.34375 sec
15:09:06.033025      start iteration 2, subset 5
15:09:06.059013      finished iteration 2, subset 5 in 0.289062 sec
15:09:06.059117      start iteration 2, subset 3
15:09:06.010797      finished iteration 2, subset 3 in 0.210938 sec
15:09:06.010903      start iteration 2, subset 7
15:09:07.056863      finished iteration 2, subset 7 in 0.261719 sec
15:09:07.056989      start iteration 3, subset 0
15:09:07.053754      finished iteration 3, subset 0 in 0.257812 sec
15:09:07.053860      start iteration 3, subset 4
15:09:07.010304      finished iteration 3, subset 4 in 0.351562 sec
15:09:07.010419      start iteration 3, subset 2
15:09:08.064157      finished iteration 3, subset 2 in 0.265625 sec
15:09:08.064261      start iteration 3, subset 6
15:09:08.022821      finished iteration 3, subset 6 in 0.222656 sec
15:09:08.022926      start iteration 3, subset 1
15:09:08.045106      finished iteration 3, subset 1 in 0.21875 sec
15:09:08.045212      start iteration 3, subset 5
15:09:08.006479      finished iteration 3, subset 5 in 0.222656 sec
15:09:08.006623      start iteration 3, subset 3
15:09:09.060173      finished iteration 3, subset 3 in 0.25 sec
15:09:09.060296      start iteration 3, subset 7
15:09:09.010214      finished iteration 3, subset 7 in 0.34375 sec
15:09:09.010361      mask 207 planes of image
15:09:09.024794      scale image with 1.21875
15:09:09.031266      scale image with 4
15:09:09.038006     finished reconstruction in 7.01953 sec
15:09:09.038099     forward projector: 3.67578 sec
15:09:09.038144     backprojector: 2.33594 sec
15:09:09.047069   finished reconstruction of emission in 8.66406 sec
15:09:09.047154   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
15:09:09.049532   scale image by 4.10256
15:09:09.001608   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:09:09.001728   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:09:09.001801   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:09:09.001863   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:09:09.001902   start scatter estimation
15:09:09.001956    calculate matrix for beta-spline interpolation
15:09:09.012386    start scatter simulation
15:09:09.012494     effective detector ring radius=234.5mm (234.5mm+0mm)
15:09:09.012539     DeltaXY=2.4375mm
15:09:09.012587     DeltaZ=1.21875mm
15:09:09.012642     LLD=400 keV
15:09:09.012686     ULD=650 keV
15:09:09.023250     search bounds of object in u-map
15:09:09.048211     x bounds (-x,+x)=-91.4038mm,86.5288mm
15:09:09.048352     y bounds (-y,+y)=-106.029mm,135.279mm
15:09:09.048400     z bounds (-z,+z)=-51.7957mm,126.139mm
15:09:09.048452     length of axial scatter fov=355.865mm (max. 355.865mm)
15:09:09.048502     scatter samples (x,y,z)=8,11,16
15:09:09.048555     image size (x,y,z)=177.933mm,241.308mm,355.865mm
15:09:09.048623     scatter_grid size (x,y,z)=22.2416mm,21.9371mm,22.2416mm
15:09:09.029242     start simulation of scatter sinogram (19x34x10)
15:09:09.029466      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
15:09:09.029544      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
15:09:09.029677      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
15:09:09.029745      thread 2: 384 samples in plane 1 inside of object (plane 29 of full sinogram)
15:09:09.029810      thread 1: 303 samples in plane 0 inside of object (plane 8 of full sinogram)
15:09:09.032250      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
15:09:09.032412      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
15:09:09.032661      thread 6: 513 samples in plane 5 inside of object (plane 113 of full sinogram)
15:09:09.032742      thread 4: 512 samples in plane 3 inside of object (plane 71 of full sinogram)
15:09:09.037078      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
15:09:09.037437      thread 7: 507 samples in plane 6 inside of object (plane 134 of full sinogram)
15:09:09.040223      thread 3: 472 samples in plane 2 inside of object (plane 50 of full sinogram)
15:09:09.007686      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
15:09:09.007891      thread 5: 515 samples in plane 4 inside of object (plane 92 of full sinogram)
15:09:09.034462      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
15:09:09.034658      thread 8: 515 samples in plane 8 inside of object (plane 176 of full sinogram)
15:09:09.043460      thread 7: 506 samples in plane 7 inside of object (plane 155 of full sinogram)
15:09:09.028730      thread 8: 511 samples in plane 9 inside of object (plane 197 of full sinogram)
15:09:09.021445     finished simulation of scatter sinogram
15:09:09.033502    finished scatter simulation in 0.285156 sec
15:09:09.033634    calculate beta-spline interpolation from 17x34x10 to 256x288x207
15:09:11.043094   finished scatter estimation in 1.51953 sec
15:09:11.043182   convert 2d scatter sinogram into 3d sinogram
15:09:11.043227   calculate axial scatter scale factors (smoothed with boxcar 17)
15:09:11.043292    acf threshold=1.03
15:09:11.022422    calculate scale factors for segment 0
15:09:11.022530    scatter size 256x288x207
15:09:11.012781     apply lower and upper thresholds 0.25 and 2
15:09:11.012900    calculate scale factors for segment +1
15:09:11.012957    scatter size 256x288x197
15:09:11.039518     apply lower and upper thresholds 0.25 and 2
15:09:11.039623    calculate scale factors for segment -1
15:09:11.039679    scatter size 256x288x197
15:09:11.061652     apply lower and upper thresholds 0.25 and 2
15:09:11.061755    calculate scale factors for segment +2
15:09:11.061811    scatter size 256x288x179
15:09:11.006320     apply lower and upper thresholds 0.25 and 2
15:09:11.006430    calculate scale factors for segment -2
15:09:11.006486    scatter size 256x288x179
15:09:12.062382     apply lower and upper thresholds 0.25 and 2
15:09:12.062485    calculate scale factors for segment +3
15:09:12.062541    scatter size 256x288x161
15:09:12.055176     apply lower and upper thresholds 0.25 and 2
15:09:12.055282    calculate scale factors for segment -3
15:09:12.055339    scatter size 256x288x161
15:09:12.045044     apply lower and upper thresholds 0.25 and 2
15:09:12.045147    calculate scale factors for segment +4
15:09:12.045202    scatter size 256x288x143
15:09:12.022534     apply lower and upper thresholds 0.25 and 2
15:09:12.022635    calculate scale factors for segment -4
15:09:12.022699    scatter size 256x288x143
15:09:12.063010     apply lower and upper thresholds 0.25 and 2
15:09:12.063119    calculate scale factors for segment +5
15:09:12.063176    scatter size 256x288x125
15:09:12.025643     apply lower and upper thresholds 0.25 and 2
15:09:12.025744    calculate scale factors for segment -5
15:09:12.025799    scatter size 256x288x125
15:09:12.055830     apply lower and upper thresholds 0.25 and 2
15:09:12.055936    calculate scale factors for segment +6
15:09:12.055993    scatter size 256x288x107
15:09:12.002488     apply lower and upper thresholds 0.25 and 2
15:09:12.002596    calculate scale factors for segment -6
15:09:12.002653    scatter size 256x288x107
15:09:12.012355     apply lower and upper thresholds 0.25 and 2
15:09:12.012454    calculate scale factors for segment +7
15:09:12.012511    scatter size 256x288x89
15:09:12.012322     apply lower and upper thresholds 0.25 and 2
15:09:12.012426    calculate scale factors for segment -7
15:09:12.012487    scatter size 256x288x89
15:09:13.056882     apply lower and upper thresholds 0.25 and 2
15:09:20.016810   scatter fraction at first pass=41.3217%
15:09:21.035497  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_sc_ATX.s
15:09:21.035626   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_sc_ATX.s (matrix 0)
15:09:21.057333   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_sc_ATX.h33 (matrix 0)
15:09:21.057692  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_sc_ATX.s
15:09:21.005065  
15:09:21.005168 gantry model values that may have been used:
15:09:21.005213  model number=328
15:09:21.005261  defaultElements()=256
15:09:21.005319  binSize()=0.121875cm
15:09:21.005363  defaultAngles()=288
15:09:21.005415  planeSep()=0.121875cm
15:09:21.005463  crystalRadius()=23.45cm
15:09:21.005508  sinogramDepthOfInteraction()=0cm
15:09:21.005555  sinogramIntrinsicTilt()=0 degrees
15:09:21.005595  isRingArch()=false
15:09:21.005634  isPETOnlyArch()=true
15:09:21.005677  defPlaneDefSpan3D()=3
15:09:21.005721  defRingDiffMax()=67
15:09:21.005764  bucketsPerRing()=unknown
15:09:21.005807  bucketRings()=1
15:09:21.005851  axialBlocks()=13
15:09:21.005895  transBlocks()=9
15:09:21.005938  axialCrystals()=8
15:09:21.005982  transCrystals()=8
15:09:21.006025  axialBlockGaps()=0
15:09:21.006077  transBlockGaps()=0
15:09:21.006120  directPlanes()=104
15:09:21.006164  defaultLLD()=400 keV
15:09:21.006208  defaultULD()=650 keV
15:09:21.006251  nCrystalLayers()=2
15:09:21.006299   crystalLayerMaterial(0)=LSO
15:09:21.006371   crystalLayerBackgroundErgRatio(0)=14%
15:09:21.006422   crystalLayerFWHMErgRes(0)=17%
15:09:21.006471   crystalLayerDepth(0)=1cm
15:09:21.006518   crystalLayerMaterial(1)=LYSO
15:09:21.006572   crystalLayerBackgroundErgRatio(1)=14%
15:09:21.006623   crystalLayerFWHMErgRes(1)=17%
15:09:21.006671   crystalLayerDepth(1)=1cm
15:09:21.006718  maxScatterZfOV()=40cm
15:09:21.006756  
15:09:21.044908 processing time 00:00:31.8516 (hh:mm:ss)
15:09:21.045026 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:09:21.045084 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:09:21.045127 memory access pattern: 411 entries
15:09:21.045166  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1694445568
15:09:23	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
15:09:23	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_sc_ATX.s
15:09:23	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25.s
15:09:23	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25.ch
15:09:23	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
15:09:23	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.a
15:09:23	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_3D_ATX.i
15:09:23	  Method               : OPO3D
15:09:23	  Positivity constraint in sinogram space
15:09:23	  Max of sensitivity image      : 1.000000e+04
15:09:23	  Threshold for missing data    : 1.000000e-04
15:09:23	  Threshold for image update    : 1.000000e-10
15:09:23	  Maximum of image      	: 10000000000.000000
15:09:23	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:015:09:23	Model 999 
15:09:23	  Triming 3 planes at segment edges 
15:09:23	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
15:09:23	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 12 iterations (29 msec)
1	597 msec   
2	3302 msec   
3	3435 msec   
4	3284 msec   
5	596 msec   
Smooth Delays computed in 11895 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4862 msec.
Total time 16757 msec.
15:09:40	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.a: attenuation file size 651460608
15:09:40	expected file size 256x288x2209(2209)
15:09:40	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr25.a: attenuation file type 0
15:09:40	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
15:09:40	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
15:09:40	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_3D_ATX.i reconstruction started
15:09:40	  Prepare components of update equation from input data ...
15:09:45	  Read normalization and normalize delayed
15:09:45	  Apply normalization mask to prompt sinogram
15:09:49	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
15:10:14	  Iteration 1 in 83.400 sec
15:10:39	  Iteration 2 in 85.150 sec
15:11:05	  Iteration 3 in 83.880 sec
15:11:30	  Iteration 4 in 85.550 sec
15:11:57	  Iteration 5 in 84.100 sec
15:12:22	  Iteration 6 in 84.320 sec
15:12:48	  Iteration 7 in 85.470 sec
15:13:14	  Iteration 8 in 84.720 sec
15:13:39	  Iteration 9 in 84.860 sec
15:14:05	  Iteration 10 in 85.100 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_3D_ATX.i' complete
15:14:06	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame25_3D_ATX.i reconstruction done in 282 sec
15:14:06.040343 unknown (0x)    memory: 0 MByte
15:14:06.040463 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:14:06.040515 Revision: 275.1
15:14:06.040573 current date and time (GMT): Sat Dec  4 20:14:06 2010
15:14:06.040628 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
15:14:06.040709 free memory in memory controller: 9541.25 MByte
15:14:06.040851 memory access pattern found
15:14:06.040908 free memory in memory controller: 9541.25 MByte
15:14:06.063327 calculate acf for 1 matrix
15:14:06.063421  span=9
15:14:06.063469  maximum ring difference=67
15:14:06.063535  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.i
15:14:06.063592   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.i'
15:14:06.063641    matrix number=0
15:14:07.038786    XYSamples=128
15:14:07.038915    DeltaXY=2.4375mm
15:14:07.038961    ZSamples=207
15:14:07.039008    DeltaZ=1.21875mm
15:14:07.039049    corrections applied=
15:14:07.039090    u-map data=yes
15:14:07.039135    bed position=0mm
15:14:07.039181    scan start time=0 sec
15:14:07.039252    scan frame duration=0 sec (0 min)
15:14:07.039302    scan gate duration=0 sec (0 min)
15:14:07.039347    isotope halflife=0 sec
15:14:07.039391    lld=0 KeV
15:14:07.039434    uld=0 KeV
15:14:07.046435  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
15:14:07.046550  XYSamples=128
15:14:07.046602  DeltaXY=2.4375mm
15:14:07.046640  RhoSamples=256
15:14:07.046679  BinSizeRho=1.21875mm
15:14:07.046716  ThetaSamples=288
15:14:07.046764  plane separation=1.21875mm
15:14:07.046807  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:14:07.046846  subsets=1
15:14:07.046882  axes=1
15:14:07.046927  axis table=207 {207}
15:14:07.046962  algorithm=UW-OSEM
15:14:07.046997  use LUT=no
15:14:07.047156  time of flight bins=1
15:14:07.047197  initialize forward-projector
15:14:07.047236   angles of segment 0
15:14:07.047272    plane 0-206: 0 degrees
15:14:07.047499  start forward projection
15:14:07.007365   start forward projection of subset 0 from 128x128x207 to 256x288x207
15:14:07.007487    project segment 0
15:14:09.056081   finished forward projection of subset 0 in 2.3125 sec
15:14:09.006764   scale 207 planes of sinogram by 0.410256
15:14:09.036158  finished forward projection in 2.44531 sec
15:14:09.036279  convert emission into transmission data
15:14:10.050730  span=9
15:14:10.050851  maximum ring difference=67
15:14:10.050918  iFORE sinogram 1 from 256x288x207 to 256x288x2209
15:14:10.051097   replace values below 1 by 1
15:14:10.006470   copy 207 planes of segment 0
15:14:10.018310   create 360 degrees sinogram (512x576x207)
15:14:11.049088   calculate 3d fourier transform of sinogram
15:14:14.010311   calculate 394 planes of axis 1
15:14:15.038630    calculate fourier projection of axis 1
15:14:18.017986    calculate inverse fourier transform of axis 1
15:14:22.042970    split axis 1 into 2 segments
15:14:22.007208    calculate weighting of axis 1
15:14:23.043817   finished with axis 1
15:14:23.043944   calculate 358 planes of axis 2
15:14:23.010317    calculate fourier projection of axis 2
15:14:26.061187    calculate inverse fourier transform of axis 2
15:14:30.002824    split axis 2 into 2 segments
15:14:30.021440    calculate weighting of axis 2
15:14:31.015163   finished with axis 2
15:14:31.015302   calculate 322 planes of axis 3
15:14:31.030783    calculate fourier projection of axis 3
15:14:34.047836    calculate inverse fourier transform of axis 3
15:14:38.064745    split axis 3 into 2 segments
15:14:38.005984    calculate weighting of axis 3
15:14:39.026899   finished with axis 3
15:14:39.027037   calculate 286 planes of axis 4
15:14:39.034206    calculate fourier projection of axis 4
15:14:42.032890    calculate inverse fourier transform of axis 4
15:14:46.014288    split axis 4 into 2 segments
15:14:46.009748    calculate weighting of axis 4
15:14:47.054902   finished with axis 4
15:14:47.055044   calculate 250 planes of axis 5
15:14:47.050583    calculate fourier projection of axis 5
15:14:50.063058    calculate inverse fourier transform of axis 5
15:14:53.002806    split axis 5 into 2 segments
15:14:54.048917    calculate weighting of axis 5
15:14:54.012573   finished with axis 5
15:14:54.012701   calculate 214 planes of axis 6
15:14:55.046935    calculate fourier projection of axis 6
15:14:57.035904    calculate inverse fourier transform of axis 6
15:15:00.013909    split axis 6 into 2 segments
15:15:00.056358    calculate weighting of axis 6
15:15:01.032460   finished with axis 6
15:15:01.032587   calculate 178 planes of axis 7
15:15:01.010373    calculate fourier projection of axis 7
15:15:04.041330    calculate inverse fourier transform of axis 7
15:15:06.001842    split axis 7 into 2 segments
15:15:06.033898    calculate weighting of axis 7
15:15:07.037760   finished with axis 7
15:15:07.029365  axes=8
15:15:07.029485  axis table=2209 {207,394,358,322,286,250,214,178}
15:15:07.029549  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.a
15:15:07.029621   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.a (matrix 0)
15:15:08.034674   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.h33 (matrix 0)
15:15:08.018107  
15:15:08.018233 gantry model values that may have been used:
15:15:08.018281  model number=328
15:15:08.018327  defaultElements()=256
15:15:08.018387  binSize()=0.121875cm
15:15:08.018433  defaultAngles()=288
15:15:08.018478  planeSep()=0.121875cm
15:15:08.018526  crystalRadius()=23.45cm
15:15:08.018571  sinogramDepthOfInteraction()=0cm
15:15:08.018619  sinogramIntrinsicTilt()=0 degrees
15:15:08.018663  isRingArch()=false
15:15:08.018702  isPETOnlyArch()=true
15:15:08.018746  defPlaneDefSpan3D()=3
15:15:08.018791  defRingDiffMax()=67
15:15:08.018834  bucketsPerRing()=unknown
15:15:08.018886  bucketRings()=1
15:15:08.018935  axialBlocks()=13
15:15:08.018979  transBlocks()=9
15:15:08.019023  axialCrystals()=8
15:15:08.019068  transCrystals()=8
15:15:08.019112  axialBlockGaps()=0
15:15:08.019157  transBlockGaps()=0
15:15:08.019200  directPlanes()=104
15:15:08.019257  defaultLLD()=400 keV
15:15:08.019302  defaultULD()=650 keV
15:15:08.019346  nCrystalLayers()=2
15:15:08.019394   crystalLayerMaterial(0)=LSO
15:15:08.019467   crystalLayerBackgroundErgRatio(0)=12%
15:15:08.019519   crystalLayerFWHMErgRes(0)=17%
15:15:08.019568   crystalLayerDepth(0)=1cm
15:15:08.019616   crystalLayerMaterial(1)=LYSO
15:15:08.019672   crystalLayerBackgroundErgRatio(1)=12%
15:15:08.019723   crystalLayerFWHMErgRes(1)=17%
15:15:08.019772   crystalLayerDepth(1)=1cm
15:15:08.019819  maxScatterZfOV()=40cm
15:15:08.019867  
15:15:08.019936 processing time 00:01:01.39062 (hh:mm:ss)
15:15:08.020002 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:15:08.020060 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:15:08.020105 memory access pattern: 36 entries
15:15:08.020145  
15:15:09.043264 unknown (0x)    memory: 0 MByte
15:15:09.043371 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:15:09.043423 Revision: 275.1
15:15:09.043482 current date and time (GMT): Sat Dec  4 20:15:09 2010
15:15:09.043549 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
15:15:09.043643 free memory in memory controller: 9541.25 MByte
15:15:09.043805 memory access pattern found
15:15:09.043862 free memory in memory controller: 9541.25 MByte
15:15:09.043931 Default crystalLayerBackgroundErgRatio: 12,12
15:15:09.043997 Specified crystalLayerBackgroundErgRatio: 14,14
15:15:09.061508 calculate sinogram for 1 matrix
15:15:09.061565  loading the 3d emission scan (matrix 0)
15:15:09.061638   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26.tr.s'
15:15:09.061686    matrix number=0
15:15:11.018233    RhoSamples=256
15:15:11.037807    BinSizeRho=1.21875mm
15:15:11.037878    ThetaSamples=288
15:15:11.037923    mash factor=0
15:15:11.037969    plane separation=1.21875mm
15:15:11.038014    axes=8
15:15:11.038079    axis table=2209 {207,394,358,322,286,250,214,178}
15:15:11.038125    span=9
15:15:11.038169    maximum ring difference=67
15:15:11.038215    intrinsic tilt=0 degrees
15:15:11.038261    bed position=0mm
15:15:11.038307    scan start time=0 sec
15:15:11.038360    scan frame duration=0 sec (0 min)
15:15:11.038412    scan gate duration=0 sec (0 min)
15:15:11.038459    isotope halflife=0 sec
15:15:11.038503    lld=400 KeV
15:15:11.038546    uld=650 KeV
15:15:11.038586    corrections applied=
15:15:11.038656  calculating the 3d normalisation scan (matrix 0)
15:15:11.038718   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
15:15:12.052611    matrix number=0
15:15:12.052727    RhoSamples=256
15:15:12.052783    BinSizeRho=1.21875mm
15:15:12.052825    ThetaSamples=288
15:15:12.052865    mash factor=0
15:15:12.052907    plane separation=1.21875mm
15:15:12.052948    axes=8
15:15:12.053006    axis table=2209 {207,394,358,322,286,250,214,178}
15:15:12.053046    span=9
15:15:12.053086    maximum ring difference=67
15:15:12.053127    intrinsic tilt=0 degrees
15:15:12.053170    bed position=0mm
15:15:12.053212    scan start time=0 sec
15:15:12.053258    scan frame duration=0 sec (0 min)
15:15:12.053348    scan gate duration=0 sec (0 min)
15:15:12.053393    isotope halflife=0 sec
15:15:12.053434    lld=400 KeV
15:15:12.053474    uld=650 KeV
15:15:12.053511    corrections applied=
15:15:12.053556  normalize 3d emission
15:15:12.053596   multiply sinograms
15:15:14.008864  normalization based gap filling
15:15:14.009666    fill 207 planes 8 threads
15:15:14.047783    fill 394 planes 8 threads
15:15:14.045328    fill 358 planes 8 threads
15:15:14.023970    fill 322 planes 8 threads
15:15:15.022627    fill 286 planes 8 threads
15:15:15.051763    fill 250 planes 8 threads
15:15:15.039671    fill 214 planes 8 threads
15:15:15.048627    fill 178 planes 8 threads
15:15:15.054963   bed position in emission=0mm
15:15:15.055176   bed position in u-map=0mm
15:15:15.055285   bed position in acf=0mm
15:15:15.055357  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.i
15:15:15.055417   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.i'
15:15:15.055474    matrix number=0
15:15:15.008878    XYSamples=128
15:15:15.009018    DeltaXY=2.4375mm
15:15:15.009072    ZSamples=207
15:15:15.009125    DeltaZ=1.21875mm
15:15:15.009172    corrections applied=
15:15:15.009218    u-map data=yes
15:15:15.009270    bed position=0mm
15:15:15.009335    scan start time=0 sec
15:15:15.009394    scan frame duration=0 sec (0 min)
15:15:15.009452    scan gate duration=0 sec (0 min)
15:15:15.009505    isotope halflife=0 sec
15:15:15.009556    lld=0 KeV
15:15:15.009606    uld=0 KeV
15:15:15.009657  loading the acf (matrix 0)
15:15:15.009716   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.a'
15:15:15.009770    matrix number=0
15:15:16.010172    RhoSamples=256
15:15:16.010300    BinSizeRho=1.21875mm
15:15:16.010346    ThetaSamples=288
15:15:16.010390    mash factor=0
15:15:16.010434    plane separation=1.21875mm
15:15:16.010479    axes=8
15:15:16.010541    axis table=2209 {207,394,358,322,286,250,214,178}
15:15:16.010585    span=9
15:15:16.010628    maximum ring difference=67
15:15:16.010673    intrinsic tilt=0 degrees
15:15:16.010718    bed position=0mm
15:15:16.010763    scan start time=0 sec
15:15:16.010812    scan frame duration=0 sec (0 min)
15:15:16.010861    scan gate duration=0 sec (0 min)
15:15:16.010915    isotope halflife=0 sec
15:15:16.010961    lld=400 KeV
15:15:16.011004    uld=650 KeV
15:15:16.011043    corrections applied=
15:15:16.011104  replace values below 1 by 1
15:15:16.032445  estimate scatter sinogram
15:15:16.046249   counts in image: min=0  max=0.155203  total=53185.2
15:15:16.046500   start single-slice rebinning from 256x288x2209 to 256x288x207
15:15:16.046545   initialize SSR
15:15:16.046588    RhoSamples=256
15:15:16.046629    ThetaSamples=288
15:15:16.046670    axes=8
15:15:16.046729    axis table=2209 {207,394,358,322,286,250,214,178}
15:15:16.049567    skip 2 planes at each side of a segment
15:15:16.049720    calculate e*n*a of axis 0 (skip 2 border planes)
15:15:16.049778     calculate axis 0 of corrected sinogram
15:15:17.031321    calculate single-slice rebinning of axis 0
15:15:17.031449    ssr 203 planes
15:15:17.023440    calculate e*n*a of axis 1 (skip 2 border planes)
15:15:17.023550     calculate axis 1 of corrected sinogram
15:15:17.061793    calculate single-slice rebinning of axis 1
15:15:17.061940    ssr 193 planes
15:15:17.013663    calculate e*n*a of axis 2 (skip 2 border planes)
15:15:17.013771     calculate axis 2 of corrected sinogram
15:15:17.026994    calculate single-slice rebinning of axis 2
15:15:17.027148    ssr 175 planes
15:15:17.037667    calculate e*n*a of axis 3 (skip 2 border planes)
15:15:17.037774     calculate axis 3 of corrected sinogram
15:15:17.029529    calculate single-slice rebinning of axis 3
15:15:17.029651    ssr 157 planes
15:15:18.015034    calculate e*n*a of axis 4 (skip 2 border planes)
15:15:18.015141     calculate axis 4 of corrected sinogram
15:15:18.051991    calculate single-slice rebinning of axis 4
15:15:18.052119    ssr 139 planes
15:15:18.046902    calculate e*n*a of axis 5 (skip 2 border planes)
15:15:18.047009     calculate axis 5 of corrected sinogram
15:15:18.062477    calculate single-slice rebinning of axis 5
15:15:18.062617    ssr 121 planes
15:15:18.049742    calculate e*n*a of axis 6 (skip 2 border planes)
15:15:18.049848     calculate axis 6 of corrected sinogram
15:15:18.044327    calculate single-slice rebinning of axis 6
15:15:18.044449    ssr 103 planes
15:15:18.024717    calculate e*n*a of axis 7 (skip 2 border planes)
15:15:18.024822     calculate axis 7 of corrected sinogram
15:15:18.063693    calculate single-slice rebinning of axis 7
15:15:18.063815    ssr 85 planes
15:15:18.035578    normalize sinogram
15:15:18.020087   finished single-slice rebinning in 1.97266 sec
15:15:18.020209   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
15:15:18.020271    XYSamples=128
15:15:18.020323    DeltaXY=2.4375mm
15:15:18.020364    RhoSamples=256
15:15:18.020405    BinSizeRho=1.21875mm
15:15:18.020445    ThetaSamples=288
15:15:18.020486    plane separation=1.21875mm
15:15:18.020536    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:15:18.020577    subsets=8
15:15:18.020617    axes=1
15:15:18.020662    axis table=207 {207}
15:15:18.020701    algorithm=AW-OSEM
15:15:18.020739    use LUT=small
15:15:18.020908    initialize backprojector
15:15:18.020981     angle of segment 0: 0 degrees
15:15:18.021213     create mode 1 lookup-table for backprojector: 63 MByte
15:15:18.013235     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
15:15:18.063614     start calculation of normalization factors for AW-OSEM
15:15:18.063819      allocate 103.5 MByte for normalization factors
15:15:18.063872      start calculation of normalization factors for subset 0
15:15:18.013253       calculate segment 0, subset 0 of 1/a sinogram
15:15:19.020040       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
15:15:19.004885      finished calculation of normalization factors for subset 0 in 0.15625 sec
15:15:19.004978      start calculation of normalization factors for subset 1
15:15:19.019660       calculate segment 0, subset 1 of 1/a sinogram
15:15:19.037286       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
15:15:19.057593      finished calculation of normalization factors for subset 1 in 0.117188 sec
15:15:19.057690      start calculation of normalization factors for subset 2
15:15:19.007110       calculate segment 0, subset 2 of 1/a sinogram
15:15:19.025154       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
15:15:19.044043      finished calculation of normalization factors for subset 2 in 0.183594 sec
15:15:19.044150      start calculation of normalization factors for subset 3
15:15:19.059568       calculate segment 0, subset 3 of 1/a sinogram
15:15:19.012240       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
15:15:19.014891      finished calculation of normalization factors for subset 3 in 0.101562 sec
15:15:19.014986      start calculation of normalization factors for subset 4
15:15:19.030099       calculate segment 0, subset 4 of 1/a sinogram
15:15:19.047822       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
15:15:19.063851      finished calculation of normalization factors for subset 4 in 0.113281 sec
15:15:19.063945      start calculation of normalization factors for subset 5
15:15:19.014456       calculate segment 0, subset 5 of 1/a sinogram
15:15:19.032567       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
15:15:19.050562      finished calculation of normalization factors for subset 5 in 0.117188 sec
15:15:19.050677      start calculation of normalization factors for subset 6
15:15:19.004013       calculate segment 0, subset 6 of 1/a sinogram
15:15:19.023999       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
15:15:19.042987      finished calculation of normalization factors for subset 6 in 0.1875 sec
15:15:19.043078      start calculation of normalization factors for subset 7
15:15:19.059353       calculate segment 0, subset 7 of 1/a sinogram
15:15:19.011900       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
15:15:20.056164      finished calculation of normalization factors for subset 7 in 0.160156 sec
15:15:20.056299     finished calculation of normalization factors in 1.14062 sec
15:15:20.056340    divide sinograms
15:15:20.015049    initialize forward-projector
15:15:20.015174     angles of segment 0
15:15:20.015217      plane 0-206: 0 degrees
15:15:20.015458     create mode 1 lookup-table for forward-projector: 126 MByte
15:15:20.054992     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
15:15:20.005199     start reconstruction from 256x288x207 to 128x128x207
15:15:20.005326      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
15:15:20.016790      start iteration 1, subset 0
15:15:20.009193      finished iteration 1, subset 0 in 0.253906 sec
15:15:20.009299      start iteration 1, subset 4
15:15:21.024289      finished iteration 1, subset 4 in 0.230469 sec
15:15:21.024392      start iteration 1, subset 2
15:15:21.053999      finished iteration 1, subset 2 in 0.289062 sec
15:15:21.054103      start iteration 1, subset 6
15:15:21.060645      finished iteration 1, subset 6 in 0.269531 sec
15:15:21.060751      start iteration 1, subset 1
15:15:22.050610      finished iteration 1, subset 1 in 0.269531 sec
15:15:22.050743      start iteration 1, subset 5
15:15:22.050676      finished iteration 1, subset 5 in 0.246094 sec
15:15:22.050783      start iteration 1, subset 3
15:15:22.009036      finished iteration 1, subset 3 in 0.285156 sec
15:15:22.009146      start iteration 1, subset 7
15:15:22.056829      finished iteration 1, subset 7 in 0.3125 sec
15:15:22.056941      start iteration 2, subset 0
15:15:23.002897      finished iteration 2, subset 0 in 0.222656 sec
15:15:23.003002      start iteration 2, subset 4
15:15:23.012272      finished iteration 2, subset 4 in 0.402344 sec
15:15:23.012397      start iteration 2, subset 2
15:15:23.005593      finished iteration 2, subset 2 in 0.257812 sec
15:15:23.005698      start iteration 2, subset 6
15:15:24.019179      finished iteration 2, subset 6 in 0.226562 sec
15:15:24.019282      start iteration 2, subset 1
15:15:24.028386      finished iteration 2, subset 1 in 0.335938 sec
15:15:24.028494      start iteration 2, subset 5
15:15:24.022059      finished iteration 2, subset 5 in 0.320312 sec
15:15:24.022184      start iteration 2, subset 3
15:15:24.042345      finished iteration 2, subset 3 in 0.285156 sec
15:15:24.042447      start iteration 2, subset 7
15:15:25.060455      finished iteration 2, subset 7 in 0.230469 sec
15:15:25.060561      start iteration 3, subset 0
15:15:25.029568      finished iteration 3, subset 0 in 0.296875 sec
15:15:25.029671      start iteration 3, subset 4
15:15:25.024330      finished iteration 3, subset 4 in 0.257812 sec
15:15:25.024435      start iteration 3, subset 2
15:15:26.015241      finished iteration 3, subset 2 in 0.269531 sec
15:15:26.015382      start iteration 3, subset 6
15:15:26.055957      finished iteration 3, subset 6 in 0.300781 sec
15:15:26.056058      start iteration 3, subset 1
15:15:26.009166      finished iteration 3, subset 1 in 0.347656 sec
15:15:26.009278      start iteration 3, subset 5
15:15:26.026743      finished iteration 3, subset 5 in 0.214844 sec
15:15:26.026847      start iteration 3, subset 3
15:15:27.044543      finished iteration 3, subset 3 in 0.230469 sec
15:15:27.054402      start iteration 3, subset 7
15:15:27.029251      finished iteration 3, subset 7 in 0.300781 sec
15:15:27.029385      mask 207 planes of image
15:15:27.043565      scale image with 1.21875
15:15:27.049941      scale image with 4
15:15:27.056602     finished reconstruction in 6.72266 sec
15:15:27.056695     forward projector: 3.37109 sec
15:15:27.056738     backprojector: 2.35547 sec
15:15:27.000862   finished reconstruction of emission in 8.58984 sec
15:15:27.000955   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
15:15:27.064024   scale image by 4.10256
15:15:27.016241   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:15:27.016360   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:15:27.016430   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:15:27.016491   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:15:27.016529   start scatter estimation
15:15:27.016596    calculate matrix for beta-spline interpolation
15:15:27.025955    start scatter simulation
15:15:27.026028     effective detector ring radius=234.5mm (234.5mm+0mm)
15:15:27.026072     DeltaXY=2.4375mm
15:15:27.026114     DeltaZ=1.21875mm
15:15:27.026166     LLD=400 keV
15:15:27.026209     ULD=650 keV
15:15:27.035985     search bounds of object in u-map
15:15:27.061273     x bounds (-x,+x)=-91.4038mm,86.5288mm
15:15:27.061387     y bounds (-y,+y)=-106.029mm,135.279mm
15:15:27.061436     z bounds (-z,+z)=-51.7957mm,126.139mm
15:15:27.061486     length of axial scatter fov=355.865mm (max. 355.865mm)
15:15:27.061535     scatter samples (x,y,z)=8,11,16
15:15:27.061600     image size (x,y,z)=177.933mm,241.308mm,355.865mm
15:15:27.061655     scatter_grid size (x,y,z)=22.2416mm,21.9371mm,22.2416mm
15:15:27.042489     start simulation of scatter sinogram (19x34x10)
15:15:27.042724      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
15:15:27.042790      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
15:15:27.042887      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
15:15:27.043039      thread 3: 475 samples in plane 2 inside of object (plane 50 of full sinogram)
15:15:27.043124      thread 1: 303 samples in plane 0 inside of object (plane 8 of full sinogram)
15:15:27.043203      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
15:15:27.043279      thread 2: 385 samples in plane 1 inside of object (plane 29 of full sinogram)
15:15:27.047385      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
15:15:27.047647      thread 6: 516 samples in plane 5 inside of object (plane 113 of full sinogram)
15:15:27.054256      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
15:15:27.054579      thread 5: 513 samples in plane 4 inside of object (plane 92 of full sinogram)
15:15:27.058346      thread 4: 507 samples in plane 3 inside of object (plane 71 of full sinogram)
15:15:27.024783      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
15:15:27.025002      thread 7: 504 samples in plane 6 inside of object (plane 134 of full sinogram)
15:15:27.032797      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
15:15:27.033010      thread 8: 517 samples in plane 8 inside of object (plane 176 of full sinogram)
15:15:27.018425      thread 7: 507 samples in plane 7 inside of object (plane 155 of full sinogram)
15:15:27.027997      thread 8: 509 samples in plane 9 inside of object (plane 197 of full sinogram)
15:15:27.021206     finished simulation of scatter sinogram
15:15:27.032498    finished scatter simulation in 0.265625 sec
15:15:27.032610    calculate beta-spline interpolation from 17x34x10 to 256x288x207
15:15:29.052559   finished scatter estimation in 1.51172 sec
15:15:29.052656   convert 2d scatter sinogram into 3d sinogram
15:15:29.052702   calculate axial scatter scale factors (smoothed with boxcar 17)
15:15:29.052771    acf threshold=1.03
15:15:29.032433    calculate scale factors for segment 0
15:15:29.032543    scatter size 256x288x207
15:15:29.002274     apply lower and upper thresholds 0.25 and 2
15:15:29.002389    calculate scale factors for segment +1
15:15:29.002445    scatter size 256x288x197
15:15:29.026452     apply lower and upper thresholds 0.25 and 2
15:15:29.026555    calculate scale factors for segment -1
15:15:29.026610    scatter size 256x288x197
15:15:29.048614     apply lower and upper thresholds 0.25 and 2
15:15:29.048721    calculate scale factors for segment +2
15:15:29.048777    scatter size 256x288x179
15:15:29.058623     apply lower and upper thresholds 0.25 and 2
15:15:29.058726    calculate scale factors for segment -2
15:15:29.058781    scatter size 256x288x179
15:15:30.048259     apply lower and upper thresholds 0.25 and 2
15:15:30.048366    calculate scale factors for segment +3
15:15:30.048422    scatter size 256x288x161
15:15:30.044549     apply lower and upper thresholds 0.25 and 2
15:15:30.044655    calculate scale factors for segment -3
15:15:30.044711    scatter size 256x288x161
15:15:30.037762     apply lower and upper thresholds 0.25 and 2
15:15:30.037878    calculate scale factors for segment +4
15:15:30.037936    scatter size 256x288x143
15:15:30.014551     apply lower and upper thresholds 0.25 and 2
15:15:30.014653    calculate scale factors for segment -4
15:15:30.014708    scatter size 256x288x143
15:15:30.054732     apply lower and upper thresholds 0.25 and 2
15:15:30.054835    calculate scale factors for segment +5
15:15:30.054890    scatter size 256x288x125
15:15:30.016457     apply lower and upper thresholds 0.25 and 2
15:15:30.016556    calculate scale factors for segment -5
15:15:30.016612    scatter size 256x288x125
15:15:30.041236     apply lower and upper thresholds 0.25 and 2
15:15:30.041337    calculate scale factors for segment +6
15:15:30.041392    scatter size 256x288x107
15:15:30.053807     apply lower and upper thresholds 0.25 and 2
15:15:30.053910    calculate scale factors for segment -6
15:15:30.053966    scatter size 256x288x107
15:15:30.063969     apply lower and upper thresholds 0.25 and 2
15:15:30.064070    calculate scale factors for segment +7
15:15:30.064125    scatter size 256x288x89
15:15:30.061190     apply lower and upper thresholds 0.25 and 2
15:15:30.061289    calculate scale factors for segment -7
15:15:30.061344    scatter size 256x288x89
15:15:31.039324     apply lower and upper thresholds 0.25 and 2
15:15:38.046182   scatter fraction at first pass=42.1605%
15:15:39.001705  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_sc_ATX.s
15:15:39.001846   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_sc_ATX.s (matrix 0)
15:15:39.022511   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_sc_ATX.h33 (matrix 0)
15:15:39.022861  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_sc_ATX.s
15:15:39.035120  
15:15:39.035254 gantry model values that may have been used:
15:15:39.035299  model number=328
15:15:39.035343  defaultElements()=256
15:15:39.035397  binSize()=0.121875cm
15:15:39.035441  defaultAngles()=288
15:15:39.035491  planeSep()=0.121875cm
15:15:39.035536  crystalRadius()=23.45cm
15:15:39.035579  sinogramDepthOfInteraction()=0cm
15:15:39.035624  sinogramIntrinsicTilt()=0 degrees
15:15:39.035661  isRingArch()=false
15:15:39.035698  isPETOnlyArch()=true
15:15:39.035740  defPlaneDefSpan3D()=3
15:15:39.035783  defRingDiffMax()=67
15:15:39.035823  bucketsPerRing()=unknown
15:15:39.035865  bucketRings()=1
15:15:39.035907  axialBlocks()=13
15:15:39.035948  transBlocks()=9
15:15:39.035990  axialCrystals()=8
15:15:39.036032  transCrystals()=8
15:15:39.036074  axialBlockGaps()=0
15:15:39.036115  transBlockGaps()=0
15:15:39.036156  directPlanes()=104
15:15:39.036203  defaultLLD()=400 keV
15:15:39.036247  defaultULD()=650 keV
15:15:39.036290  nCrystalLayers()=2
15:15:39.036335   crystalLayerMaterial(0)=LSO
15:15:39.036404   crystalLayerBackgroundErgRatio(0)=14%
15:15:39.036454   crystalLayerFWHMErgRes(0)=17%
15:15:39.036509   crystalLayerDepth(0)=1cm
15:15:39.036553   crystalLayerMaterial(1)=LYSO
15:15:39.036605   crystalLayerBackgroundErgRatio(1)=14%
15:15:39.036653   crystalLayerFWHMErgRes(1)=17%
15:15:39.036699   crystalLayerDepth(1)=1cm
15:15:39.036743  maxScatterZfOV()=40cm
15:15:39.036779  
15:15:39.008090 processing time 00:00:29.8984 (hh:mm:ss)
15:15:39.008210 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:15:39.008265 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:15:39.008308 memory access pattern: 411 entries
15:15:39.008345  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1694838784
15:15:41	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
15:15:41	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_sc_ATX.s
15:15:41	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26.s
15:15:41	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26.ch
15:15:41	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
15:15:41	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.a
15:15:41	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_3D_ATX.i
15:15:41	  Method               : OPO3D
15:15:41	  Positivity constraint in sinogram space
15:15:41	  Max of sensitivity image      : 1.000000e+04
15:15:41	  Threshold for missing data    : 1.000000e-04
15:15:41	  Threshold for image update    : 1.000000e-10
15:15:41	  Maximum of image      	: 10000000000.000000
15:15:41	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:015:15:41	Model 999 
15:15:41	  Triming 3 planes at segment edges 
15:15:41	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
15:15:41	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 11 iterations (29 msec)
1	604 msec   
2	3368 msec   
3	3584 msec   
4	3226 msec   
5	525 msec   
Smooth Delays computed in 11984 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4769 msec.
Total time 16753 msec.
15:15:57	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.a: attenuation file size 651460608
15:15:57	expected file size 256x288x2209(2209)
15:15:57	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr26.a: attenuation file type 0
15:15:57	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
15:15:58	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
15:15:58	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_3D_ATX.i reconstruction started
15:15:58	  Prepare components of update equation from input data ...
15:16:02	  Read normalization and normalize delayed
15:16:02	  Apply normalization mask to prompt sinogram
15:16:06	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
15:16:32	  Iteration 1 in 83.940 sec
15:16:57	  Iteration 2 in 84.620 sec
15:17:22	  Iteration 3 in 84.460 sec
15:17:48	  Iteration 4 in 84.630 sec
15:18:13	  Iteration 5 in 84.490 sec
15:18:38	  Iteration 6 in 85.380 sec
15:19:05	  Iteration 7 in 84.780 sec
15:19:31	  Iteration 8 in 83.610 sec
15:19:56	  Iteration 9 in 83.750 sec
15:20:22	  Iteration 10 in 84.560 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_3D_ATX.i' complete
15:20:23	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame26_3D_ATX.i reconstruction done in 281 sec
15:20:24.048413 unknown (0x)    memory: 0 MByte
15:20:24.048540 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:20:24.048591 Revision: 275.1
15:20:24.048654 current date and time (GMT): Sat Dec  4 20:20:24 2010
15:20:24.048709 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
15:20:24.048791 free memory in memory controller: 9541.25 MByte
15:20:24.048933 memory access pattern found
15:20:24.048986 free memory in memory controller: 9541.25 MByte
15:20:24.057595 calculate acf for 1 matrix
15:20:24.057685  span=9
15:20:24.057731  maximum ring difference=67
15:20:24.057796  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.i
15:20:24.057851   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.i'
15:20:24.057899    matrix number=0
15:20:24.043284    XYSamples=128
15:20:24.043425    DeltaXY=2.4375mm
15:20:24.043476    ZSamples=207
15:20:24.043521    DeltaZ=1.21875mm
15:20:24.043562    corrections applied=
15:20:24.043602    u-map data=yes
15:20:24.043647    bed position=0mm
15:20:24.043693    scan start time=0 sec
15:20:24.043743    scan frame duration=0 sec (0 min)
15:20:24.043793    scan gate duration=0 sec (0 min)
15:20:24.043839    isotope halflife=0 sec
15:20:24.043882    lld=0 KeV
15:20:24.043925    uld=0 KeV
15:20:24.063286  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
15:20:24.063411  XYSamples=128
15:20:24.063465  DeltaXY=2.4375mm
15:20:24.063522  RhoSamples=256
15:20:24.063561  BinSizeRho=1.21875mm
15:20:24.063599  ThetaSamples=288
15:20:24.063637  plane separation=1.21875mm
15:20:24.063680  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:20:24.063719  subsets=1
15:20:24.063756  axes=1
15:20:24.063802  axis table=207 {207}
15:20:24.063837  algorithm=UW-OSEM
15:20:24.063873  use LUT=no
15:20:24.064033  time of flight bins=1
15:20:24.064075  initialize forward-projector
15:20:24.064114   angles of segment 0
15:20:24.064152    plane 0-206: 0 degrees
15:20:24.064397  start forward projection
15:20:24.034771   start forward projection of subset 0 from 128x128x207 to 256x288x207
15:20:24.034916    project segment 0
15:20:26.032744   finished forward projection of subset 0 in 2.39062 sec
15:20:26.050656   scale 207 planes of sinogram by 0.410256
15:20:26.017597  finished forward projection in 2.54297 sec
15:20:26.017701  convert emission into transmission data
15:20:27.033057  span=9
15:20:27.033183  maximum ring difference=67
15:20:27.033249  iFORE sinogram 1 from 256x288x207 to 256x288x2209
15:20:27.033427   replace values below 1 by 1
15:20:27.054657   copy 207 planes of segment 0
15:20:28.052009   create 360 degrees sinogram (512x576x207)
15:20:28.036396   calculate 3d fourier transform of sinogram
15:20:32.046273   calculate 394 planes of axis 1
15:20:32.027864    calculate fourier projection of axis 1
15:20:35.046725    calculate inverse fourier transform of axis 1
15:20:39.026923    split axis 1 into 2 segments
15:20:39.013290    calculate weighting of axis 1
15:20:40.057989   finished with axis 1
15:20:40.058121   calculate 358 planes of axis 2
15:20:41.002789    calculate fourier projection of axis 2
15:20:44.042583    calculate inverse fourier transform of axis 2
15:20:47.023563    split axis 2 into 2 segments
15:20:47.042410    calculate weighting of axis 2
15:20:48.033643   finished with axis 2
15:20:48.033767   calculate 322 planes of axis 3
15:20:49.031287    calculate fourier projection of axis 3
15:20:52.036739    calculate inverse fourier transform of axis 3
15:20:55.050432    split axis 3 into 2 segments
15:20:55.058301    calculate weighting of axis 3
15:20:56.009060   finished with axis 3
15:20:56.009189   calculate 286 planes of axis 4
15:20:56.013256    calculate fourier projection of axis 4
15:20:59.050986    calculate inverse fourier transform of axis 4
15:21:03.052840    split axis 4 into 2 segments
15:21:03.058926    calculate weighting of axis 4
15:21:04.046107   finished with axis 4
15:21:04.046238   calculate 250 planes of axis 5
15:21:04.038226    calculate fourier projection of axis 5
15:21:07.024216    calculate inverse fourier transform of axis 5
15:21:10.010884    split axis 5 into 2 segments
15:21:10.061490    calculate weighting of axis 5
15:21:11.061838   finished with axis 5
15:21:11.061969   calculate 214 planes of axis 6
15:21:11.050829    calculate fourier projection of axis 6
15:21:14.063029    calculate inverse fourier transform of axis 6
15:21:17.056635    split axis 6 into 2 segments
15:21:17.033840    calculate weighting of axis 6
15:21:18.009147   finished with axis 6
15:21:18.009349   calculate 178 planes of axis 7
15:21:18.014963    calculate fourier projection of axis 7
15:21:21.000631    calculate inverse fourier transform of axis 7
15:21:24.025046    split axis 7 into 2 segments
15:21:24.057925    calculate weighting of axis 7
15:21:24.012673   finished with axis 7
15:21:24.002731  axes=8
15:21:24.002854  axis table=2209 {207,394,358,322,286,250,214,178}
15:21:24.002920  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.a
15:21:24.002983   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.a (matrix 0)
15:21:25.056354   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.h33 (matrix 0)
15:21:25.040036  
15:21:25.040166 gantry model values that may have been used:
15:21:25.040214  model number=328
15:21:25.040261  defaultElements()=256
15:21:25.040319  binSize()=0.121875cm
15:21:25.040364  defaultAngles()=288
15:21:25.040408  planeSep()=0.121875cm
15:21:25.040475  crystalRadius()=23.45cm
15:21:25.040518  sinogramDepthOfInteraction()=0cm
15:21:25.040563  sinogramIntrinsicTilt()=0 degrees
15:21:25.040601  isRingArch()=false
15:21:25.040636  isPETOnlyArch()=true
15:21:25.040677  defPlaneDefSpan3D()=3
15:21:25.040719  defRingDiffMax()=67
15:21:25.040759  bucketsPerRing()=unknown
15:21:25.040801  bucketRings()=1
15:21:25.040842  axialBlocks()=13
15:21:25.040883  transBlocks()=9
15:21:25.040924  axialCrystals()=8
15:21:25.040965  transCrystals()=8
15:21:25.041006  axialBlockGaps()=0
15:21:25.041047  transBlockGaps()=0
15:21:25.041087  directPlanes()=104
15:21:25.041138  defaultLLD()=400 keV
15:21:25.041186  defaultULD()=650 keV
15:21:25.041226  nCrystalLayers()=2
15:21:25.041270   crystalLayerMaterial(0)=LSO
15:21:25.041340   crystalLayerBackgroundErgRatio(0)=12%
15:21:25.041388   crystalLayerFWHMErgRes(0)=17%
15:21:25.041433   crystalLayerDepth(0)=1cm
15:21:25.041476   crystalLayerMaterial(1)=LYSO
15:21:25.041527   crystalLayerBackgroundErgRatio(1)=12%
15:21:25.041574   crystalLayerFWHMErgRes(1)=17%
15:21:25.041619   crystalLayerDepth(1)=1cm
15:21:25.041663  maxScatterZfOV()=40cm
15:21:25.041698  
15:21:25.041752 processing time 00:01:01.51562 (hh:mm:ss)
15:21:25.041814 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:21:25.041868 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:21:25.041909 memory access pattern: 36 entries
15:21:25.041944  
15:21:26.051184 unknown (0x)    memory: 0 MByte
15:21:26.051292 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:21:26.051344 Revision: 275.1
15:21:26.051403 current date and time (GMT): Sat Dec  4 20:21:26 2010
15:21:26.051469 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
15:21:26.051556 free memory in memory controller: 9541.25 MByte
15:21:26.051715 memory access pattern found
15:21:26.051772 free memory in memory controller: 9541.25 MByte
15:21:26.051840 Default crystalLayerBackgroundErgRatio: 12,12
15:21:26.051906 Specified crystalLayerBackgroundErgRatio: 14,14
15:21:27.002718 calculate sinogram for 1 matrix
15:21:27.002858  loading the 3d emission scan (matrix 0)
15:21:27.002917   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27.tr.s'
15:21:27.002970    matrix number=0
15:21:30.016286    RhoSamples=256
15:21:30.016425    BinSizeRho=1.21875mm
15:21:30.016474    ThetaSamples=288
15:21:30.016522    mash factor=0
15:21:30.016572    plane separation=1.21875mm
15:21:30.016628    axes=8
15:21:30.016695    axis table=2209 {207,394,358,322,286,250,214,178}
15:21:30.016745    span=9
15:21:30.016791    maximum ring difference=67
15:21:30.016840    intrinsic tilt=0 degrees
15:21:30.016889    bed position=0mm
15:21:30.016937    scan start time=0 sec
15:21:30.016991    scan frame duration=0 sec (0 min)
15:21:30.017045    scan gate duration=0 sec (0 min)
15:21:30.017094    isotope halflife=0 sec
15:21:30.017141    lld=400 KeV
15:21:30.017186    uld=650 KeV
15:21:30.017230    corrections applied=
15:21:30.017297  calculating the 3d normalisation scan (matrix 0)
15:21:30.017354   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
15:21:31.016347    matrix number=0
15:21:31.016473    RhoSamples=256
15:21:31.016529    BinSizeRho=1.21875mm
15:21:31.016570    ThetaSamples=288
15:21:31.016611    mash factor=0
15:21:31.016653    plane separation=1.21875mm
15:21:31.016693    axes=8
15:21:31.016751    axis table=2209 {207,394,358,322,286,250,214,178}
15:21:31.016792    span=9
15:21:31.016832    maximum ring difference=67
15:21:31.016874    intrinsic tilt=0 degrees
15:21:31.016918    bed position=0mm
15:21:31.016960    scan start time=0 sec
15:21:31.017006    scan frame duration=0 sec (0 min)
15:21:31.017071    scan gate duration=0 sec (0 min)
15:21:31.017111    isotope halflife=0 sec
15:21:31.017149    lld=400 KeV
15:21:31.017186    uld=650 KeV
15:21:31.017220    corrections applied=
15:21:31.017264  normalize 3d emission
15:21:31.017300   multiply sinograms
15:21:32.061094  normalization based gap filling
15:21:32.061896    fill 207 planes 8 threads
15:21:32.055946    fill 394 planes 8 threads
15:21:33.001142    fill 358 planes 8 threads
15:21:33.060241    fill 322 planes 8 threads
15:21:33.044665    fill 286 planes 8 threads
15:21:33.013457    fill 250 planes 8 threads
15:21:34.005828    fill 214 planes 8 threads
15:21:34.009223    fill 178 planes 8 threads
15:21:34.035877   bed position in emission=0mm
15:21:34.036078   bed position in u-map=0mm
15:21:34.036195   bed position in acf=0mm
15:21:34.036280  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.i
15:21:34.036339   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.i'
15:21:34.036390    matrix number=0
15:21:34.055143    XYSamples=128
15:21:34.055267    DeltaXY=2.4375mm
15:21:34.055309    ZSamples=207
15:21:34.055351    DeltaZ=1.21875mm
15:21:34.055388    corrections applied=
15:21:34.055424    u-map data=yes
15:21:34.055464    bed position=0mm
15:21:34.055505    scan start time=0 sec
15:21:34.055552    scan frame duration=0 sec (0 min)
15:21:34.055602    scan gate duration=0 sec (0 min)
15:21:34.055645    isotope halflife=0 sec
15:21:34.055686    lld=0 KeV
15:21:34.055725    uld=0 KeV
15:21:34.055766  loading the acf (matrix 0)
15:21:34.055815   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.a'
15:21:34.055858    matrix number=0
15:21:35.053924    RhoSamples=256
15:21:35.054051    BinSizeRho=1.21875mm
15:21:35.054093    ThetaSamples=288
15:21:35.054132    mash factor=0
15:21:35.054174    plane separation=1.21875mm
15:21:35.054214    axes=8
15:21:35.054274    axis table=2209 {207,394,358,322,286,250,214,178}
15:21:35.054314    span=9
15:21:35.054354    maximum ring difference=67
15:21:35.054395    intrinsic tilt=0 degrees
15:21:35.054436    bed position=0mm
15:21:35.054477    scan start time=0 sec
15:21:35.054523    scan frame duration=0 sec (0 min)
15:21:35.054572    scan gate duration=0 sec (0 min)
15:21:35.054614    isotope halflife=0 sec
15:21:35.054654    lld=400 KeV
15:21:35.054693    uld=650 KeV
15:21:35.054728    corrections applied=
15:21:35.054788  replace values below 1 by 1
15:21:35.009552  estimate scatter sinogram
15:21:35.023352   counts in image: min=0  max=0.155136  total=53114.5
15:21:35.023511   start single-slice rebinning from 256x288x2209 to 256x288x207
15:21:35.023551   initialize SSR
15:21:35.023593    RhoSamples=256
15:21:35.023633    ThetaSamples=288
15:21:35.023674    axes=8
15:21:35.023748    axis table=2209 {207,394,358,322,286,250,214,178}
15:21:35.035823    skip 2 planes at each side of a segment
15:21:35.035944    calculate e*n*a of axis 0 (skip 2 border planes)
15:21:35.035993     calculate axis 0 of corrected sinogram
15:21:35.043781    calculate single-slice rebinning of axis 0
15:21:35.043910    ssr 203 planes
15:21:35.035764    calculate e*n*a of axis 1 (skip 2 border planes)
15:21:35.035871     calculate axis 1 of corrected sinogram
15:21:36.062225    calculate single-slice rebinning of axis 1
15:21:36.062355    ssr 193 planes
15:21:36.015542    calculate e*n*a of axis 2 (skip 2 border planes)
15:21:36.015649     calculate axis 2 of corrected sinogram
15:21:36.031346    calculate single-slice rebinning of axis 2
15:21:36.031489    ssr 175 planes
15:21:36.042520    calculate e*n*a of axis 3 (skip 2 border planes)
15:21:36.042628     calculate axis 3 of corrected sinogram
15:21:36.037417    calculate single-slice rebinning of axis 3
15:21:36.037544    ssr 157 planes
15:21:36.040835    calculate e*n*a of axis 4 (skip 2 border planes)
15:21:36.040942     calculate axis 4 of corrected sinogram
15:21:36.015186    calculate single-slice rebinning of axis 4
15:21:36.015310    ssr 139 planes
15:21:36.011130    calculate e*n*a of axis 5 (skip 2 border planes)
15:21:36.011256     calculate axis 5 of corrected sinogram
15:21:37.012006    calculate single-slice rebinning of axis 5
15:21:37.012133    ssr 121 planes
15:21:37.065523    calculate e*n*a of axis 6 (skip 2 border planes)
15:21:37.000106     calculate axis 6 of corrected sinogram
15:21:37.061641    calculate single-slice rebinning of axis 6
15:21:37.061765    ssr 103 planes
15:21:37.042002    calculate e*n*a of axis 7 (skip 2 border planes)
15:21:37.042106     calculate axis 7 of corrected sinogram
15:21:37.016826    calculate single-slice rebinning of axis 7
15:21:37.016966    ssr 85 planes
15:21:37.054949    normalize sinogram
15:21:37.042403   finished single-slice rebinning in 2.01953 sec
15:21:37.042525   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
15:21:37.042587    XYSamples=128
15:21:37.042648    DeltaXY=2.4375mm
15:21:37.042689    RhoSamples=256
15:21:37.042731    BinSizeRho=1.21875mm
15:21:37.042771    ThetaSamples=288
15:21:37.042813    plane separation=1.21875mm
15:21:37.042874    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:21:37.042915    subsets=8
15:21:37.042955    axes=1
15:21:37.043000    axis table=207 {207}
15:21:37.043038    algorithm=AW-OSEM
15:21:37.043076    use LUT=small
15:21:37.043245    initialize backprojector
15:21:37.043319     angle of segment 0: 0 degrees
15:21:37.043550     create mode 1 lookup-table for backprojector: 63 MByte
15:21:37.036022     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
15:21:37.020661     start calculation of normalization factors for AW-OSEM
15:21:37.020863      allocate 103.5 MByte for normalization factors
15:21:37.020918      start calculation of normalization factors for subset 0
15:21:37.035809       calculate segment 0, subset 0 of 1/a sinogram
15:21:37.059606       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
15:21:37.022984      finished calculation of normalization factors for subset 0 in 0.132812 sec
15:21:37.023088      start calculation of normalization factors for subset 1
15:21:37.037865       calculate segment 0, subset 1 of 1/a sinogram
15:21:37.055708       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
15:21:37.048698      finished calculation of normalization factors for subset 1 in 0.0898438 sec
15:21:37.048805      start calculation of normalization factors for subset 2
15:21:37.063582       calculate segment 0, subset 2 of 1/a sinogram
15:21:37.015979       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
15:21:38.024882      finished calculation of normalization factors for subset 2 in 0.125 sec
15:21:38.024988      start calculation of normalization factors for subset 3
15:21:38.042669       calculate segment 0, subset 3 of 1/a sinogram
15:21:38.060804       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
15:21:38.061406      finished calculation of normalization factors for subset 3 in 0.101562 sec
15:21:38.061501      start calculation of normalization factors for subset 4
15:21:38.011626       calculate segment 0, subset 4 of 1/a sinogram
15:21:38.029620       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
15:21:38.023787      finished calculation of normalization factors for subset 4 in 0.09375 sec
15:21:38.023879      start calculation of normalization factors for subset 5
15:21:38.041027       calculate segment 0, subset 5 of 1/a sinogram
15:21:38.058941       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
15:21:38.056279      finished calculation of normalization factors for subset 5 in 0.0976562 sec
15:21:38.056371      start calculation of normalization factors for subset 6
15:21:38.008336       calculate segment 0, subset 6 of 1/a sinogram
15:21:38.025859       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
15:21:38.024340      finished calculation of normalization factors for subset 6 in 0.101562 sec
15:21:38.024486      start calculation of normalization factors for subset 7
15:21:38.040711       calculate segment 0, subset 7 of 1/a sinogram
15:21:38.058689       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
15:21:38.055265      finished calculation of normalization factors for subset 7 in 0.09375 sec
15:21:38.055401     finished calculation of normalization factors in 0.835938 sec
15:21:38.055443    divide sinograms
15:21:38.012448    initialize forward-projector
15:21:38.012579     angles of segment 0
15:21:38.012623      plane 0-206: 0 degrees
15:21:38.012864     create mode 1 lookup-table for forward-projector: 126 MByte
15:21:39.017826     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
15:21:39.014450     start reconstruction from 256x288x207 to 128x128x207
15:21:39.014582      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
15:21:39.025897      start iteration 1, subset 0
15:21:39.012667      finished iteration 1, subset 0 in 0.316406 sec
15:21:39.012768      start iteration 1, subset 4
15:21:39.025237      finished iteration 1, subset 4 in 0.273438 sec
15:21:39.038888      start iteration 1, subset 2
15:21:39.047941      finished iteration 1, subset 2 in 0.203125 sec
15:21:39.048065      start iteration 1, subset 6
15:21:40.011535      finished iteration 1, subset 6 in 0.375 sec
15:21:40.011643      start iteration 1, subset 1
15:21:40.020739      finished iteration 1, subset 1 in 0.207031 sec
15:21:40.020846      start iteration 1, subset 5
15:21:40.055207      finished iteration 1, subset 5 in 0.292969 sec
15:21:40.055316      start iteration 1, subset 3
15:21:41.057413      finished iteration 1, subset 3 in 0.28125 sec
15:21:41.057519      start iteration 1, subset 7
15:21:41.061764      finished iteration 1, subset 7 in 0.199219 sec
15:21:41.061890      start iteration 2, subset 0
15:21:41.024688      finished iteration 2, subset 0 in 0.226562 sec
15:21:41.024793      start iteration 2, subset 4
15:21:41.032618      finished iteration 2, subset 4 in 0.269531 sec
15:21:41.032725      start iteration 2, subset 2
15:21:42.042214      finished iteration 2, subset 2 in 0.289062 sec
15:21:42.042327      start iteration 2, subset 6
15:21:42.048058      finished iteration 2, subset 6 in 0.332031 sec
15:21:42.048202      start iteration 2, subset 1
15:21:42.038601      finished iteration 2, subset 1 in 0.316406 sec
15:21:42.038716      start iteration 2, subset 5
15:21:43.009322      finished iteration 2, subset 5 in 0.316406 sec
15:21:43.009428      start iteration 2, subset 3
15:21:43.022883      finished iteration 2, subset 3 in 0.277344 sec
15:21:43.022985      start iteration 2, subset 7
15:21:43.022027      finished iteration 2, subset 7 in 0.324219 sec
15:21:43.022141      start iteration 3, subset 0
15:21:43.043885      finished iteration 3, subset 0 in 0.285156 sec
15:21:43.044017      start iteration 3, subset 4
15:21:44.003998      finished iteration 3, subset 4 in 0.304688 sec
15:21:44.004106      start iteration 3, subset 2
15:21:44.059386      finished iteration 3, subset 2 in 0.449219 sec
15:21:44.059492      start iteration 3, subset 6
15:21:44.003904      finished iteration 3, subset 6 in 0.273438 sec
15:21:44.004051      start iteration 3, subset 1
15:21:45.061165      finished iteration 3, subset 1 in 0.324219 sec
15:21:45.061286      start iteration 3, subset 5
15:21:45.007006      finished iteration 3, subset 5 in 0.273438 sec
15:21:45.007112      start iteration 3, subset 3
15:21:45.056292      finished iteration 3, subset 3 in 0.308594 sec
15:21:45.056396      start iteration 3, subset 7
15:21:46.033932      finished iteration 3, subset 7 in 0.320312 sec
15:21:46.034080      mask 207 planes of image
15:21:46.048323      scale image with 1.21875
15:21:46.055104      scale image with 4
15:21:46.062323     finished reconstruction in 7.11328 sec
15:21:46.062415     forward projector: 3.88672 sec
15:21:46.062460     backprojector: 2.19922 sec
15:21:46.006127   finished reconstruction of emission in 8.63672 sec
15:21:46.006215   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
15:21:46.005029   scale image by 4.10256
15:21:46.023574   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:21:46.023692   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:21:46.023762   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:21:46.023823   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:21:46.023860   start scatter estimation
15:21:46.023913    calculate matrix for beta-spline interpolation
15:21:46.033260    start scatter simulation
15:21:46.033330     effective detector ring radius=234.5mm (234.5mm+0mm)
15:21:46.033374     DeltaXY=2.4375mm
15:21:46.033415     DeltaZ=1.21875mm
15:21:46.033467     LLD=400 keV
15:21:46.033510     ULD=650 keV
15:21:46.043072     search bounds of object in u-map
15:21:46.002865     x bounds (-x,+x)=-88.9663mm,93.8413mm
15:21:46.002995     y bounds (-y,+y)=-108.466mm,132.841mm
15:21:46.003044     z bounds (-z,+z)=-51.7957mm,126.139mm
15:21:46.003095     length of axial scatter fov=355.865mm (max. 355.865mm)
15:21:46.003144     scatter samples (x,y,z)=8,11,16
15:21:46.003197     image size (x,y,z)=182.808mm,241.308mm,355.865mm
15:21:46.003249     scatter_grid size (x,y,z)=22.851mm,21.9371mm,22.2416mm
15:21:46.051003     start simulation of scatter sinogram (19x34x10)
15:21:46.051284      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
15:21:46.051384      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
15:21:46.051544      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
15:21:46.051662      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
15:21:46.051747      thread 2: 384 samples in plane 1 inside of object (plane 29 of full sinogram)
15:21:46.051827      thread 4: 507 samples in plane 3 inside of object (plane 71 of full sinogram)
15:21:46.051902      thread 3: 464 samples in plane 2 inside of object (plane 50 of full sinogram)
15:21:46.052021      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
15:21:46.052096      thread 1: 297 samples in plane 0 inside of object (plane 8 of full sinogram)
15:21:46.052188      thread 8: 516 samples in plane 8 inside of object (plane 176 of full sinogram)
15:21:46.054592      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
15:21:46.054855      thread 6: 509 samples in plane 5 inside of object (plane 113 of full sinogram)
15:21:46.006046      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
15:21:46.006284      thread 7: 495 samples in plane 6 inside of object (plane 134 of full sinogram)
15:21:46.013314      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
15:21:46.013599      thread 5: 502 samples in plane 4 inside of object (plane 92 of full sinogram)
15:21:46.007391      thread 7: 503 samples in plane 7 inside of object (plane 155 of full sinogram)
15:21:46.028330      thread 8: 500 samples in plane 9 inside of object (plane 197 of full sinogram)
15:21:46.020144     finished simulation of scatter sinogram
15:21:46.031337    finished scatter simulation in 0.261719 sec
15:21:46.031446    calculate beta-spline interpolation from 17x34x10 to 256x288x207
15:21:47.060536   finished scatter estimation in 1.49609 sec
15:21:47.060620   convert 2d scatter sinogram into 3d sinogram
15:21:47.060665   calculate axial scatter scale factors (smoothed with boxcar 17)
15:21:47.060747    acf threshold=1.03
15:21:48.023685    calculate scale factors for segment 0
15:21:48.023795    scatter size 256x288x207
15:21:48.002495     apply lower and upper thresholds 0.25 and 2
15:21:48.002613    calculate scale factors for segment +1
15:21:48.002670    scatter size 256x288x197
15:21:48.026267     apply lower and upper thresholds 0.25 and 2
15:21:48.026371    calculate scale factors for segment -1
15:21:48.026427    scatter size 256x288x197
15:21:48.052094     apply lower and upper thresholds 0.25 and 2
15:21:48.052201    calculate scale factors for segment +2
15:21:48.052271    scatter size 256x288x179
15:21:48.064688     apply lower and upper thresholds 0.25 and 2
15:21:48.064801    calculate scale factors for segment -2
15:21:48.064858    scatter size 256x288x179
15:21:48.004033     apply lower and upper thresholds 0.25 and 2
15:21:48.004143    calculate scale factors for segment +3
15:21:48.004202    scatter size 256x288x161
15:21:49.043950     apply lower and upper thresholds 0.25 and 2
15:21:49.044054    calculate scale factors for segment -3
15:21:49.044109    scatter size 256x288x161
15:21:49.032880     apply lower and upper thresholds 0.25 and 2
15:21:49.032985    calculate scale factors for segment +4
15:21:49.033041    scatter size 256x288x143
15:21:49.008820     apply lower and upper thresholds 0.25 and 2
15:21:49.008922    calculate scale factors for segment -4
15:21:49.008990    scatter size 256x288x143
15:21:49.047569     apply lower and upper thresholds 0.25 and 2
15:21:49.047671    calculate scale factors for segment +5
15:21:49.047727    scatter size 256x288x125
15:21:49.008655     apply lower and upper thresholds 0.25 and 2
15:21:49.008760    calculate scale factors for segment -5
15:21:49.008815    scatter size 256x288x125
15:21:49.032781     apply lower and upper thresholds 0.25 and 2
15:21:49.032883    calculate scale factors for segment +6
15:21:49.032938    scatter size 256x288x107
15:21:49.044823     apply lower and upper thresholds 0.25 and 2
15:21:49.044928    calculate scale factors for segment -6
15:21:49.044983    scatter size 256x288x107
15:21:49.053604     apply lower and upper thresholds 0.25 and 2
15:21:49.053704    calculate scale factors for segment +7
15:21:49.053760    scatter size 256x288x89
15:21:49.050182     apply lower and upper thresholds 0.25 and 2
15:21:49.050281    calculate scale factors for segment -7
15:21:49.050336    scatter size 256x288x89
15:21:49.044568     apply lower and upper thresholds 0.25 and 2
15:21:57.041499   scatter fraction at first pass=41.2473%
15:21:58.056310  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_sc_ATX.s
15:21:58.056438   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_sc_ATX.s (matrix 0)
15:21:58.010760   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_sc_ATX.h33 (matrix 0)
15:21:58.011107  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_sc_ATX.s
15:21:58.023272  
15:21:58.023374 gantry model values that may have been used:
15:21:58.023420  model number=328
15:21:58.023465  defaultElements()=256
15:21:58.023523  binSize()=0.121875cm
15:21:58.023568  defaultAngles()=288
15:21:58.023620  planeSep()=0.121875cm
15:21:58.023668  crystalRadius()=23.45cm
15:21:58.023713  sinogramDepthOfInteraction()=0cm
15:21:58.023760  sinogramIntrinsicTilt()=0 degrees
15:21:58.023800  isRingArch()=false
15:21:58.023838  isPETOnlyArch()=true
15:21:58.023882  defPlaneDefSpan3D()=3
15:21:58.023926  defRingDiffMax()=67
15:21:58.023969  bucketsPerRing()=unknown
15:21:58.024013  bucketRings()=1
15:21:58.024057  axialBlocks()=13
15:21:58.024101  transBlocks()=9
15:21:58.024158  axialCrystals()=8
15:21:58.024202  transCrystals()=8
15:21:58.024245  axialBlockGaps()=0
15:21:58.024289  transBlockGaps()=0
15:21:58.024331  directPlanes()=104
15:21:58.024376  defaultLLD()=400 keV
15:21:58.024420  defaultULD()=650 keV
15:21:58.024463  nCrystalLayers()=2
15:21:58.024510   crystalLayerMaterial(0)=LSO
15:21:58.024582   crystalLayerBackgroundErgRatio(0)=14%
15:21:58.024634   crystalLayerFWHMErgRes(0)=17%
15:21:58.024683   crystalLayerDepth(0)=1cm
15:21:58.024729   crystalLayerMaterial(1)=LYSO
15:21:58.024784   crystalLayerBackgroundErgRatio(1)=14%
15:21:58.024835   crystalLayerFWHMErgRes(1)=17%
15:21:58.024883   crystalLayerDepth(1)=1cm
15:21:58.024930  maxScatterZfOV()=40cm
15:21:58.024969  
15:21:58.001249 processing time 00:00:31.8203 (hh:mm:ss)
15:21:58.001368 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:21:58.001426 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:21:58.001471 memory access pattern: 411 entries
15:21:58.001529  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1696342016
15:22:00	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
15:22:00	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_sc_ATX.s
15:22:00	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27.s
15:22:00	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27.ch
15:22:00	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
15:22:00	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.a
15:22:00	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_3D_ATX.i
15:22:00	  Method               : OPO3D
15:22:00	  Positivity constraint in sinogram space
15:22:00	  Max of sensitivity image      : 1.000000e+04
15:22:00	  Threshold for missing data    : 1.000000e-04
15:22:00	  Threshold for image update    : 1.000000e-10
15:22:00	  Maximum of image      	: 10000000000.000000
15:22:00	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:015:22:00	Model 999 
15:22:00	  Triming 3 planes at segment edges 
15:22:00	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
15:22:00	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 10 iterations (27 msec)
1	689 msec   
2	3263 msec   
3	3554 msec   
4	3152 msec   
5	597 msec   
Smooth Delays computed in 11942 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4740 msec.
Total time 16682 msec.
15:22:16	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.a: attenuation file size 651460608
15:22:16	expected file size 256x288x2209(2209)
15:22:16	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr27.a: attenuation file type 0
15:22:16	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
15:22:17	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
15:22:17	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_3D_ATX.i reconstruction started
15:22:17	  Prepare components of update equation from input data ...
15:22:22	  Read normalization and normalize delayed
15:22:22	  Apply normalization mask to prompt sinogram
15:22:25	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
15:22:51	  Iteration 1 in 84.400 sec
15:23:16	  Iteration 2 in 84.230 sec
15:23:41	  Iteration 3 in 85.030 sec
15:24:07	  Iteration 4 in 85.350 sec
15:24:32	  Iteration 5 in 84.790 sec
15:24:58	  Iteration 6 in 84.100 sec
15:25:23	  Iteration 7 in 84.540 sec
15:25:49	  Iteration 8 in 84.710 sec
15:26:14	  Iteration 9 in 84.520 sec
15:26:39	  Iteration 10 in 85.600 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_3D_ATX.i' complete
15:26:41	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame27_3D_ATX.i reconstruction done in 279 sec
15:26:41.000759 unknown (0x)    memory: 0 MByte
15:26:41.000866 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:26:41.000919 Revision: 275.1
15:26:41.000977 current date and time (GMT): Sat Dec  4 20:26:41 2010
15:26:41.001046 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
15:26:41.001126 free memory in memory controller: 9541.25 MByte
15:26:41.001268 memory access pattern found
15:26:41.001323 free memory in memory controller: 9541.25 MByte
15:26:41.010495 calculate acf for 1 matrix
15:26:41.010550  span=9
15:26:41.010596  maximum ring difference=67
15:26:41.010660  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.i
15:26:41.010713   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.i'
15:26:41.010761    matrix number=0
15:26:41.005113    XYSamples=128
15:26:41.005243    DeltaXY=2.4375mm
15:26:41.005290    ZSamples=207
15:26:41.005335    DeltaZ=1.21875mm
15:26:41.005376    corrections applied=
15:26:41.005416    u-map data=yes
15:26:41.005461    bed position=0mm
15:26:41.005508    scan start time=0 sec
15:26:41.005557    scan frame duration=0 sec (0 min)
15:26:41.005608    scan gate duration=0 sec (0 min)
15:26:41.005654    isotope halflife=0 sec
15:26:41.005698    lld=0 KeV
15:26:41.005742    uld=0 KeV
15:26:41.012130  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
15:26:41.012258  XYSamples=128
15:26:41.012316  DeltaXY=2.4375mm
15:26:41.012360  RhoSamples=256
15:26:41.012405  BinSizeRho=1.21875mm
15:26:41.012448  ThetaSamples=288
15:26:41.012493  plane separation=1.21875mm
15:26:41.012543  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:26:41.012587  subsets=1
15:26:41.012630  axes=1
15:26:41.012683  axis table=207 {207}
15:26:41.012723  algorithm=UW-OSEM
15:26:41.012764  use LUT=no
15:26:41.012951  time of flight bins=1
15:26:41.013058  initialize forward-projector
15:26:41.013103   angles of segment 0
15:26:41.013157    plane 0-206: 0 degrees
15:26:41.013384  start forward projection
15:26:41.038521   start forward projection of subset 0 from 128x128x207 to 256x288x207
15:26:41.038639    project segment 0
15:26:44.033620   finished forward projection of subset 0 in 2.40625 sec
15:26:44.051946   scale 207 planes of sinogram by 0.410256
15:26:44.017980  finished forward projection in 2.54688 sec
15:26:44.018102  convert emission into transmission data
15:26:44.055585  span=9
15:26:44.055707  maximum ring difference=67
15:26:44.055775  iFORE sinogram 1 from 256x288x207 to 256x288x2209
15:26:44.055983   replace values below 1 by 1
15:26:44.011350   copy 207 planes of segment 0
15:26:45.013427   create 360 degrees sinogram (512x576x207)
15:26:46.038505   calculate 3d fourier transform of sinogram
15:26:49.053077   calculate 394 planes of axis 1
15:26:49.034589    calculate fourier projection of axis 1
15:26:53.032515    calculate inverse fourier transform of axis 1
15:26:55.028188    split axis 1 into 2 segments
15:26:56.040353    calculate weighting of axis 1
15:26:57.052213   finished with axis 1
15:26:57.052373   calculate 358 planes of axis 2
15:26:57.017127    calculate fourier projection of axis 2
15:27:00.056354    calculate inverse fourier transform of axis 2
15:27:03.061908    split axis 2 into 2 segments
15:27:03.014119    calculate weighting of axis 2
15:27:04.049490   finished with axis 2
15:27:04.049617   calculate 322 planes of axis 3
15:27:04.005075    calculate fourier projection of axis 3
15:27:08.008414    calculate inverse fourier transform of axis 3
15:27:11.025057    split axis 3 into 2 segments
15:27:11.032283    calculate weighting of axis 3
15:27:12.029955   finished with axis 3
15:27:12.030084   calculate 286 planes of axis 4
15:27:13.020588    calculate fourier projection of axis 4
15:27:16.016263    calculate inverse fourier transform of axis 4
15:27:19.037799    split axis 4 into 2 segments
15:27:20.016787    calculate weighting of axis 4
15:27:20.061116   finished with axis 4
15:27:20.061235   calculate 250 planes of axis 5
15:27:21.035639    calculate fourier projection of axis 5
15:27:23.063060    calculate inverse fourier transform of axis 5
15:27:27.041049    split axis 5 into 2 segments
15:27:28.008356    calculate weighting of axis 5
15:27:28.010539   finished with axis 5
15:27:28.010665   calculate 214 planes of axis 6
15:27:29.043797    calculate fourier projection of axis 6
15:27:31.030378    calculate inverse fourier transform of axis 6
15:27:35.002406    split axis 6 into 2 segments
15:27:35.044349    calculate weighting of axis 6
15:27:35.021200   finished with axis 6
15:27:35.021322   calculate 178 planes of axis 7
15:27:36.048069    calculate fourier projection of axis 7
15:27:38.002797    calculate inverse fourier transform of axis 7
15:27:41.034060    split axis 7 into 2 segments
15:27:41.002836    calculate weighting of axis 7
15:27:42.059833   finished with axis 7
15:27:42.050188  axes=8
15:27:42.050309  axis table=2209 {207,394,358,322,286,250,214,178}
15:27:42.050376  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.a
15:27:42.050441   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.a (matrix 0)
15:27:43.051634   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.h33 (matrix 0)
15:27:43.035016  
15:27:43.035147 gantry model values that may have been used:
15:27:43.035193  model number=328
15:27:43.035239  defaultElements()=256
15:27:43.035298  binSize()=0.121875cm
15:27:43.035343  defaultAngles()=288
15:27:43.035387  planeSep()=0.121875cm
15:27:43.035435  crystalRadius()=23.45cm
15:27:43.035481  sinogramDepthOfInteraction()=0cm
15:27:43.035528  sinogramIntrinsicTilt()=0 degrees
15:27:43.035568  isRingArch()=false
15:27:43.035606  isPETOnlyArch()=true
15:27:43.035649  defPlaneDefSpan3D()=3
15:27:43.035693  defRingDiffMax()=67
15:27:43.035735  bucketsPerRing()=unknown
15:27:43.035779  bucketRings()=1
15:27:43.035823  axialBlocks()=13
15:27:43.035867  transBlocks()=9
15:27:43.035909  axialCrystals()=8
15:27:43.035973  transCrystals()=8
15:27:43.036015  axialBlockGaps()=0
15:27:43.036059  transBlockGaps()=0
15:27:43.036107  directPlanes()=104
15:27:43.036153  defaultLLD()=400 keV
15:27:43.036197  defaultULD()=650 keV
15:27:43.036240  nCrystalLayers()=2
15:27:43.036287   crystalLayerMaterial(0)=LSO
15:27:43.036358   crystalLayerBackgroundErgRatio(0)=12%
15:27:43.036409   crystalLayerFWHMErgRes(0)=17%
15:27:43.036458   crystalLayerDepth(0)=1cm
15:27:43.036505   crystalLayerMaterial(1)=LYSO
15:27:43.036559   crystalLayerBackgroundErgRatio(1)=12%
15:27:43.036609   crystalLayerFWHMErgRes(1)=17%
15:27:43.036657   crystalLayerDepth(1)=1cm
15:27:43.036704  maxScatterZfOV()=40cm
15:27:43.036742  
15:27:43.036800 processing time 00:01:01.70703 (hh:mm:ss)
15:27:43.036866 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:27:43.036922 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:27:43.036972 memory access pattern: 36 entries
15:27:43.037011  
15:27:44.046305 unknown (0x)    memory: 0 MByte
15:27:44.046408 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:27:44.046459 Revision: 275.1
15:27:44.046518 current date and time (GMT): Sat Dec  4 20:27:44 2010
15:27:44.046599 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
15:27:44.046681 free memory in memory controller: 9541.25 MByte
15:27:44.046857 memory access pattern found
15:27:44.046910 free memory in memory controller: 9541.25 MByte
15:27:44.046981 Default crystalLayerBackgroundErgRatio: 12,12
15:27:44.047043 Specified crystalLayerBackgroundErgRatio: 14,14
15:27:44.053148 calculate sinogram for 1 matrix
15:27:44.053267  loading the 3d emission scan (matrix 0)
15:27:44.053321   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28.tr.s'
15:27:44.053370    matrix number=0
15:27:48.053587    RhoSamples=256
15:27:48.053744    BinSizeRho=1.21875mm
15:27:48.053799    ThetaSamples=288
15:27:48.053846    mash factor=0
15:27:48.053896    plane separation=1.21875mm
15:27:48.053943    axes=8
15:27:48.054010    axis table=2209 {207,394,358,322,286,250,214,178}
15:27:48.054058    span=9
15:27:48.054105    maximum ring difference=67
15:27:48.054154    intrinsic tilt=0 degrees
15:27:48.054203    bed position=0mm
15:27:48.054252    scan start time=0 sec
15:27:48.054316    scan frame duration=0 sec (0 min)
15:27:48.054371    scan gate duration=0 sec (0 min)
15:27:48.054420    isotope halflife=0 sec
15:27:48.054467    lld=400 KeV
15:27:48.054513    uld=650 KeV
15:27:48.054556    corrections applied=
15:27:48.054620  calculating the 3d normalisation scan (matrix 0)
15:27:48.054679   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
15:27:48.050076    matrix number=0
15:27:48.050189    RhoSamples=256
15:27:48.050245    BinSizeRho=1.21875mm
15:27:48.050287    ThetaSamples=288
15:27:48.050327    mash factor=0
15:27:48.050368    plane separation=1.21875mm
15:27:48.050409    axes=8
15:27:48.050466    axis table=2209 {207,394,358,322,286,250,214,178}
15:27:48.050508    span=9
15:27:48.050547    maximum ring difference=67
15:27:48.050589    intrinsic tilt=0 degrees
15:27:48.050631    bed position=0mm
15:27:48.050672    scan start time=0 sec
15:27:48.050718    scan frame duration=0 sec (0 min)
15:27:48.050804    scan gate duration=0 sec (0 min)
15:27:48.050850    isotope halflife=0 sec
15:27:48.050890    lld=400 KeV
15:27:48.050929    uld=650 KeV
15:27:48.050966    corrections applied=
15:27:48.051019  normalize 3d emission
15:27:48.051061   multiply sinograms
15:27:50.030270  normalization based gap filling
15:27:50.031053    fill 207 planes 8 threads
15:27:50.020442    fill 394 planes 8 threads
15:27:50.058156    fill 358 planes 8 threads
15:27:51.049151    fill 322 planes 8 threads
15:27:51.049366    fill 286 planes 8 threads
15:27:51.051625    fill 250 planes 8 threads
15:27:51.000896    fill 214 planes 8 threads
15:27:52.035948    fill 178 planes 8 threads
15:27:52.054788   bed position in emission=0mm
15:27:52.054980   bed position in u-map=0mm
15:27:52.055089   bed position in acf=0mm
15:27:52.055161  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.i
15:27:52.055221   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.i'
15:27:52.055278    matrix number=0
15:27:52.008838    XYSamples=128
15:27:52.008964    DeltaXY=2.4375mm
15:27:52.009008    ZSamples=207
15:27:52.009053    DeltaZ=1.21875mm
15:27:52.009094    corrections applied=
15:27:52.009134    u-map data=yes
15:27:52.009178    bed position=0mm
15:27:52.009224    scan start time=0 sec
15:27:52.009274    scan frame duration=0 sec (0 min)
15:27:52.009323    scan gate duration=0 sec (0 min)
15:27:52.009369    isotope halflife=0 sec
15:27:52.009412    lld=0 KeV
15:27:52.009455    uld=0 KeV
15:27:52.009498  loading the acf (matrix 0)
15:27:52.009572   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.a'
15:27:52.009618    matrix number=0
15:27:53.007331    RhoSamples=256
15:27:53.010895    BinSizeRho=1.21875mm
15:27:53.010956    ThetaSamples=288
15:27:53.010997    mash factor=0
15:27:53.011039    plane separation=1.21875mm
15:27:53.011084    axes=8
15:27:53.011145    axis table=2209 {207,394,358,322,286,250,214,178}
15:27:53.011188    span=9
15:27:53.011231    maximum ring difference=67
15:27:53.011273    intrinsic tilt=0 degrees
15:27:53.011315    bed position=0mm
15:27:53.011358    scan start time=0 sec
15:27:53.011409    scan frame duration=0 sec (0 min)
15:27:53.011476    scan gate duration=0 sec (0 min)
15:27:53.011519    isotope halflife=0 sec
15:27:53.011563    lld=400 KeV
15:27:53.011602    uld=650 KeV
15:27:53.011637    corrections applied=
15:27:53.011695  replace values below 1 by 1
15:27:53.035980  estimate scatter sinogram
15:27:53.050050   counts in image: min=0  max=0.155136  total=52905.2
15:27:53.050210   start single-slice rebinning from 256x288x2209 to 256x288x207
15:27:53.050250   initialize SSR
15:27:53.050290    RhoSamples=256
15:27:53.050330    ThetaSamples=288
15:27:53.050369    axes=8
15:27:53.050427    axis table=2209 {207,394,358,322,286,250,214,178}
15:27:53.057165    skip 2 planes at each side of a segment
15:27:53.057297    calculate e*n*a of axis 0 (skip 2 border planes)
15:27:53.057345     calculate axis 0 of corrected sinogram
15:27:53.009596    calculate single-slice rebinning of axis 0
15:27:53.009738    ssr 203 planes
15:27:53.001607    calculate e*n*a of axis 1 (skip 2 border planes)
15:27:53.001714     calculate axis 1 of corrected sinogram
15:27:53.001124    calculate single-slice rebinning of axis 1
15:27:53.001249    ssr 193 planes
15:27:54.005033    calculate e*n*a of axis 2 (skip 2 border planes)
15:27:54.005137     calculate axis 2 of corrected sinogram
15:27:54.026086    calculate single-slice rebinning of axis 2
15:27:54.026210    ssr 175 planes
15:27:54.039581    calculate e*n*a of axis 3 (skip 2 border planes)
15:27:54.039685     calculate axis 3 of corrected sinogram
15:27:54.038345    calculate single-slice rebinning of axis 3
15:27:54.038466    ssr 157 planes
15:27:54.042948    calculate e*n*a of axis 4 (skip 2 border planes)
15:27:54.043055     calculate axis 4 of corrected sinogram
15:27:54.020936    calculate single-slice rebinning of axis 4
15:27:54.021057    ssr 139 planes
15:27:54.018695    calculate e*n*a of axis 5 (skip 2 border planes)
15:27:54.018800     calculate axis 5 of corrected sinogram
15:27:54.039863    calculate single-slice rebinning of axis 5
15:27:54.040007    ssr 121 planes
15:27:55.012869    calculate e*n*a of axis 6 (skip 2 border planes)
15:27:55.012976     calculate axis 6 of corrected sinogram
15:27:55.011104    calculate single-slice rebinning of axis 6
15:27:55.011227    ssr 103 planes
15:27:55.058660    calculate e*n*a of axis 7 (skip 2 border planes)
15:27:55.058765     calculate axis 7 of corrected sinogram
15:27:55.035974    calculate single-slice rebinning of axis 7
15:27:55.036094    ssr 85 planes
15:27:55.009161    normalize sinogram
15:27:55.062612   finished single-slice rebinning in 2.07812 sec
15:27:55.062732   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
15:27:55.062793    XYSamples=128
15:27:55.062836    DeltaXY=2.4375mm
15:27:55.062878    RhoSamples=256
15:27:55.062919    BinSizeRho=1.21875mm
15:27:55.062960    ThetaSamples=288
15:27:55.063001    plane separation=1.21875mm
15:27:55.063049    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:27:55.063089    subsets=8
15:27:55.063129    axes=1
15:27:55.063174    axis table=207 {207}
15:27:55.063213    algorithm=AW-OSEM
15:27:55.063264    use LUT=small
15:27:55.063433    initialize backprojector
15:27:55.063516     angle of segment 0: 0 degrees
15:27:55.063761     create mode 1 lookup-table for backprojector: 63 MByte
15:27:55.056335     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
15:27:55.041489     start calculation of normalization factors for AW-OSEM
15:27:55.041695      allocate 103.5 MByte for normalization factors
15:27:55.041748      start calculation of normalization factors for subset 0
15:27:55.056554       calculate segment 0, subset 0 of 1/a sinogram
15:27:55.014876       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
15:27:55.050621      finished calculation of normalization factors for subset 0 in 0.140625 sec
15:27:55.050722      start calculation of normalization factors for subset 1
15:27:55.001009       calculate segment 0, subset 1 of 1/a sinogram
15:27:55.018886       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
15:27:55.043017      finished calculation of normalization factors for subset 1 in 0.121094 sec
15:27:55.043116      start calculation of normalization factors for subset 2
15:27:55.058429       calculate segment 0, subset 2 of 1/a sinogram
15:27:55.010638       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
15:27:55.041273      finished calculation of normalization factors for subset 2 in 0.128906 sec
15:27:55.041364      start calculation of normalization factors for subset 3
15:27:55.056785       calculate segment 0, subset 3 of 1/a sinogram
15:27:55.009000       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
15:27:56.017093      finished calculation of normalization factors for subset 3 in 0.125 sec
15:27:56.017186      start calculation of normalization factors for subset 4
15:27:56.032536       calculate segment 0, subset 4 of 1/a sinogram
15:27:56.050235       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
15:27:56.018002      finished calculation of normalization factors for subset 4 in 0.132812 sec
15:27:56.018099      start calculation of normalization factors for subset 5
15:27:56.034923       calculate segment 0, subset 5 of 1/a sinogram
15:27:56.052569       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
15:27:56.039041      finished calculation of normalization factors for subset 5 in 0.152344 sec
15:27:56.039145      start calculation of normalization factors for subset 6
15:27:56.058020       calculate segment 0, subset 6 of 1/a sinogram
15:27:56.010202       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
15:27:56.009071      finished calculation of normalization factors for subset 6 in 0.101562 sec
15:27:56.009179      start calculation of normalization factors for subset 7
15:27:56.027286       calculate segment 0, subset 7 of 1/a sinogram
15:27:56.045601       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
15:27:56.009661      finished calculation of normalization factors for subset 7 in 0.128906 sec
15:27:56.009786     finished calculation of normalization factors in 1.03125 sec
15:27:56.009877    divide sinograms
15:27:56.036762    initialize forward-projector
15:27:56.036894     angles of segment 0
15:27:56.036944      plane 0-206: 0 degrees
15:27:56.037211     create mode 1 lookup-table for forward-projector: 126 MByte
15:27:57.051411     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
15:27:57.001789     start reconstruction from 256x288x207 to 128x128x207
15:27:57.001916      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
15:27:57.013180      start iteration 1, subset 0
15:27:57.035193      finished iteration 1, subset 0 in 0.21875 sec
15:27:57.035310      start iteration 1, subset 4
15:27:57.048273      finished iteration 1, subset 4 in 0.339844 sec
15:27:57.048375      start iteration 1, subset 2
15:27:58.039345      finished iteration 1, subset 2 in 0.269531 sec
15:27:58.039460      start iteration 1, subset 6
15:27:58.034667      finished iteration 1, subset 6 in 0.257812 sec
15:27:58.034811      start iteration 1, subset 1
15:27:58.024584      finished iteration 1, subset 1 in 0.234375 sec
15:27:58.024688      start iteration 1, subset 5
15:27:58.016067      finished iteration 1, subset 5 in 0.25 sec
15:27:58.016173      start iteration 1, subset 3
15:27:59.062981      finished iteration 1, subset 3 in 0.261719 sec
15:27:59.063085      start iteration 1, subset 7
15:27:59.018182      finished iteration 1, subset 7 in 0.285156 sec
15:27:59.018305      start iteration 2, subset 0
15:27:59.006526      finished iteration 2, subset 0 in 0.378906 sec
15:27:59.006629      start iteration 2, subset 4
15:28:00.021850      finished iteration 2, subset 4 in 0.296875 sec
15:28:00.021956      start iteration 2, subset 2
15:28:00.050786      finished iteration 2, subset 2 in 0.289062 sec
15:28:00.050892      start iteration 2, subset 6
15:28:00.028552      finished iteration 2, subset 6 in 0.242188 sec
15:28:00.028679      start iteration 2, subset 1
15:28:00.044714      finished iteration 2, subset 1 in 0.277344 sec
15:28:00.044820      start iteration 2, subset 5
15:28:01.044362      finished iteration 2, subset 5 in 0.210938 sec
15:28:01.044467      start iteration 2, subset 3
15:28:01.039414      finished iteration 2, subset 3 in 0.457031 sec
15:28:01.039518      start iteration 2, subset 7
15:28:01.054893      finished iteration 2, subset 7 in 0.277344 sec
15:28:01.055003      start iteration 3, subset 0
15:28:01.013681      finished iteration 3, subset 0 in 0.21875 sec
15:28:01.013785      start iteration 3, subset 4
15:28:02.018415      finished iteration 3, subset 4 in 0.285156 sec
15:28:02.018527      start iteration 3, subset 2
15:28:02.016528      finished iteration 3, subset 2 in 0.257812 sec
15:28:02.016631      start iteration 3, subset 6
15:28:02.030633      finished iteration 3, subset 6 in 0.277344 sec
15:28:02.030739      start iteration 3, subset 1
15:28:03.030256      finished iteration 3, subset 1 in 0.214844 sec
15:28:03.030359      start iteration 3, subset 5
15:28:03.054532      finished iteration 3, subset 5 in 0.21875 sec
15:28:03.054634      start iteration 3, subset 3
15:28:03.042795      finished iteration 3, subset 3 in 0.25 sec
15:28:03.042935      start iteration 3, subset 7
15:28:03.003023      finished iteration 3, subset 7 in 0.214844 sec
15:28:03.003172      mask 207 planes of image
15:28:03.017374      scale image with 1.21875
15:28:03.023723      scale image with 4
15:28:03.030623     finished reconstruction in 6.55078 sec
15:28:03.030717     forward projector: 3.23438 sec
15:28:03.030759     backprojector: 2.30469 sec
15:28:03.040890   finished reconstruction of emission in 8.30469 sec
15:28:03.040980   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
15:28:03.038847   scale image by 4.10256
15:28:03.058083   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:28:03.058200   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:28:03.058270   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:28:03.058329   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:28:03.058369   start scatter estimation
15:28:03.058421    calculate matrix for beta-spline interpolation
15:28:03.002245    start scatter simulation
15:28:03.002317     effective detector ring radius=234.5mm (234.5mm+0mm)
15:28:03.002361     DeltaXY=2.4375mm
15:28:03.002403     DeltaZ=1.21875mm
15:28:03.002455     LLD=400 keV
15:28:03.002499     ULD=650 keV
15:28:03.012024     search bounds of object in u-map
15:28:03.037282     x bounds (-x,+x)=-88.9663mm,91.4038mm
15:28:03.037396     y bounds (-y,+y)=-108.466mm,132.841mm
15:28:03.037444     z bounds (-z,+z)=-50.5769mm,126.139mm
15:28:03.037494     length of axial scatter fov=353.428mm (max. 353.428mm)
15:28:03.037543     scatter samples (x,y,z)=8,11,16
15:28:03.037596     image size (x,y,z)=180.37mm,241.308mm,353.428mm
15:28:03.037649     scatter_grid size (x,y,z)=22.5463mm,21.9371mm,22.0892mm
15:28:04.001525     start simulation of scatter sinogram (19x34x10)
15:28:04.001755      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
15:28:04.001821      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
15:28:04.001902      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
15:28:04.002073      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
15:28:04.002147      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
15:28:04.002209      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
15:28:04.002268      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
15:28:04.002340      thread 4: 513 samples in plane 3 inside of object (plane 71 of full sinogram)
15:28:04.002401      thread 5: 507 samples in plane 4 inside of object (plane 92 of full sinogram)
15:28:04.004320      thread 3: 468 samples in plane 2 inside of object (plane 50 of full sinogram)
15:28:04.004423      thread 1: 291 samples in plane 0 inside of object (plane 8 of full sinogram)
15:28:04.007501      thread 8: 517 samples in plane 8 inside of object (plane 176 of full sinogram)
15:28:04.008687      thread 6: 512 samples in plane 5 inside of object (plane 113 of full sinogram)
15:28:04.009548      thread 2: 378 samples in plane 1 inside of object (plane 29 of full sinogram)
15:28:04.010746      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
15:28:04.011091      thread 7: 493 samples in plane 6 inside of object (plane 134 of full sinogram)
15:28:04.013129      thread 8: 503 samples in plane 9 inside of object (plane 197 of full sinogram)
15:28:04.013444      thread 7: 503 samples in plane 7 inside of object (plane 155 of full sinogram)
15:28:04.011090     finished simulation of scatter sinogram
15:28:04.024121    finished scatter simulation in 0.238281 sec
15:28:04.024234    calculate beta-spline interpolation from 17x34x10 to 256x288x207
15:28:05.052514   finished scatter estimation in 1.46875 sec
15:28:05.052616   convert 2d scatter sinogram into 3d sinogram
15:28:05.052663   calculate axial scatter scale factors (smoothed with boxcar 17)
15:28:05.052734    acf threshold=1.03
15:28:05.031598    calculate scale factors for segment 0
15:28:05.031704    scatter size 256x288x207
15:28:05.011268     apply lower and upper thresholds 0.25 and 2
15:28:05.011383    calculate scale factors for segment +1
15:28:05.011441    scatter size 256x288x197
15:28:05.038469     apply lower and upper thresholds 0.25 and 2
15:28:05.038574    calculate scale factors for segment -1
15:28:05.038631    scatter size 256x288x197
15:28:06.047085     apply lower and upper thresholds 0.25 and 2
15:28:06.047189    calculate scale factors for segment +2
15:28:06.047245    scatter size 256x288x179
15:28:06.059331     apply lower and upper thresholds 0.25 and 2
15:28:06.059731    calculate scale factors for segment -2
15:28:06.059792    scatter size 256x288x179
15:28:06.003268     apply lower and upper thresholds 0.25 and 2
15:28:06.003371    calculate scale factors for segment +3
15:28:06.003428    scatter size 256x288x161
15:28:06.063858     apply lower and upper thresholds 0.25 and 2
15:28:06.063961    calculate scale factors for segment -3
15:28:06.064018    scatter size 256x288x161
15:28:06.055537     apply lower and upper thresholds 0.25 and 2
15:28:06.055641    calculate scale factors for segment +4
15:28:06.055698    scatter size 256x288x143
15:28:06.034677     apply lower and upper thresholds 0.25 and 2
15:28:06.034782    calculate scale factors for segment -4
15:28:06.034838    scatter size 256x288x143
15:28:06.011064     apply lower and upper thresholds 0.25 and 2
15:28:06.011169    calculate scale factors for segment +5
15:28:06.011226    scatter size 256x288x125
15:28:06.040387     apply lower and upper thresholds 0.25 and 2
15:28:06.040489    calculate scale factors for segment -5
15:28:06.040545    scatter size 256x288x125
15:28:07.051579     apply lower and upper thresholds 0.25 and 2
15:28:07.051683    calculate scale factors for segment +6
15:28:07.051740    scatter size 256x288x107
15:28:07.065165     apply lower and upper thresholds 0.25 and 2
15:28:07.065267    calculate scale factors for segment -6
15:28:07.065323    scatter size 256x288x107
15:28:07.010760     apply lower and upper thresholds 0.25 and 2
15:28:07.010876    calculate scale factors for segment +7
15:28:07.010930    scatter size 256x288x89
15:28:07.009140     apply lower and upper thresholds 0.25 and 2
15:28:07.009251    calculate scale factors for segment -7
15:28:07.009309    scatter size 256x288x89
15:28:07.005705     apply lower and upper thresholds 0.25 and 2
15:28:14.061156   scatter fraction at first pass=42.5166%
15:28:15.009377  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_sc_ATX.s
15:28:15.009510   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_sc_ATX.s (matrix 0)
15:28:15.031846   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_sc_ATX.h33 (matrix 0)
15:28:15.032192  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_sc_ATX.s
15:28:15.045121  
15:28:15.045224 gantry model values that may have been used:
15:28:15.045270  model number=328
15:28:15.045315  defaultElements()=256
15:28:15.045373  binSize()=0.121875cm
15:28:15.045418  defaultAngles()=288
15:28:15.045469  planeSep()=0.121875cm
15:28:15.045529  crystalRadius()=23.45cm
15:28:15.045576  sinogramDepthOfInteraction()=0cm
15:28:15.045622  sinogramIntrinsicTilt()=0 degrees
15:28:15.045661  isRingArch()=false
15:28:15.045699  isPETOnlyArch()=true
15:28:15.045743  defPlaneDefSpan3D()=3
15:28:15.045787  defRingDiffMax()=67
15:28:15.045829  bucketsPerRing()=unknown
15:28:15.045873  bucketRings()=1
15:28:15.045916  axialBlocks()=13
15:28:15.045960  transBlocks()=9
15:28:15.046003  axialCrystals()=8
15:28:15.046046  transCrystals()=8
15:28:15.046090  axialBlockGaps()=0
15:28:15.046133  transBlockGaps()=0
15:28:15.046175  directPlanes()=104
15:28:15.046219  defaultLLD()=400 keV
15:28:15.046262  defaultULD()=650 keV
15:28:15.046306  nCrystalLayers()=2
15:28:15.046354   crystalLayerMaterial(0)=LSO
15:28:15.046425   crystalLayerBackgroundErgRatio(0)=14%
15:28:15.046476   crystalLayerFWHMErgRes(0)=17%
15:28:15.046529   crystalLayerDepth(0)=1cm
15:28:15.046578   crystalLayerMaterial(1)=LYSO
15:28:15.046631   crystalLayerBackgroundErgRatio(1)=14%
15:28:15.046682   crystalLayerFWHMErgRes(1)=17%
15:28:15.046730   crystalLayerDepth(1)=1cm
15:28:15.046776  maxScatterZfOV()=40cm
15:28:15.046814  
15:28:15.021577 processing time 00:00:31.5 (hh:mm:ss)
15:28:15.021697 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:28:15.021754 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:28:15.021798 memory access pattern: 411 entries
15:28:15.021837  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1697927168
15:28:17	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
15:28:17	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_sc_ATX.s
15:28:17	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28.s
15:28:17	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28.ch
15:28:17	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
15:28:17	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.a
15:28:17	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_3D_ATX.i
15:28:17	  Method               : OPO3D
15:28:17	  Positivity constraint in sinogram space
15:28:17	  Max of sensitivity image      : 1.000000e+04
15:28:17	  Threshold for missing data    : 1.000000e-04
15:28:17	  Threshold for image update    : 1.000000e-10
15:28:17	  Maximum of image      	: 10000000000.000000
15:28:17	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:015:28:17	Model 999 
15:28:17	  Triming 3 planes at segment edges 
15:28:17	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
15:28:17	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 9 iterations (24 msec)
1	588 msec   
2	3772 msec   
3	4074 msec   
4	3675 msec   
5	649 msec   
Smooth Delays computed in 13477 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4576 msec.
Total time 18053 msec.
15:28:35	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.a: attenuation file size 651460608
15:28:35	expected file size 256x288x2209(2209)
15:28:35	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr28.a: attenuation file type 0
15:28:35	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
15:28:36	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
15:28:36	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_3D_ATX.i reconstruction started
15:28:36	  Prepare components of update equation from input data ...
15:28:41	  Read normalization and normalize delayed
15:28:41	  Apply normalization mask to prompt sinogram
15:28:45	  Preparation done in 9 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
15:29:10	  Iteration 1 in 84.310 sec
15:29:35	  Iteration 2 in 84.640 sec
15:30:00	  Iteration 3 in 83.750 sec
15:30:26	  Iteration 4 in 85.280 sec
15:30:52	  Iteration 5 in 84.700 sec
15:31:17	  Iteration 6 in 83.980 sec
15:31:42	  Iteration 7 in 84.120 sec
15:32:07	  Iteration 8 in 85.480 sec
15:32:33	  Iteration 9 in 84.740 sec
15:32:59	  Iteration 10 in 85.080 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_3D_ATX.i' complete
15:33:00	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame28_3D_ATX.i reconstruction done in 282 sec
15:33:01.018353 unknown (0x)    memory: 0 MByte
15:33:01.018456 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:33:01.018505 Revision: 275.1
15:33:01.018557 current date and time (GMT): Sat Dec  4 20:33:01 2010
15:33:01.018609 command line: e7_fwd_u --model 328 -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.i -w 128 --oa GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.a --span 9 --mrd 67 --prj ifore --force -l 53,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log 
15:33:01.018700 free memory in memory controller: 9541.25 MByte
15:33:01.018826 memory access pattern found
15:33:01.018874 free memory in memory controller: 9541.25 MByte
15:33:01.026823 calculate acf for 1 matrix
15:33:01.026922  span=9
15:33:01.026972  maximum ring difference=67
15:33:01.027059  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.i
15:33:01.027116   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.i'
15:33:01.027192    matrix number=0
15:33:01.025199    XYSamples=128
15:33:01.025331    DeltaXY=2.4375mm
15:33:01.025377    ZSamples=207
15:33:01.025421    DeltaZ=1.21875mm
15:33:01.025461    corrections applied=
15:33:01.025500    u-map data=yes
15:33:01.025544    bed position=0mm
15:33:01.025589    scan start time=0 sec
15:33:01.025638    scan frame duration=0 sec (0 min)
15:33:01.025687    scan gate duration=0 sec (0 min)
15:33:01.025732    isotope halflife=0 sec
15:33:01.025774    lld=0 KeV
15:33:01.025816    uld=0 KeV
15:33:01.032315  calculate sinogram by forward-projection from 128x128x207 to 256x288x207
15:33:01.032442  XYSamples=128
15:33:01.032499  DeltaXY=2.4375mm
15:33:01.032542  RhoSamples=256
15:33:01.032586  BinSizeRho=1.21875mm
15:33:01.032629  ThetaSamples=288
15:33:01.032672  plane separation=1.21875mm
15:33:01.032722  shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:33:01.032766  subsets=1
15:33:01.032808  axes=1
15:33:01.032859  axis table=207 {207}
15:33:01.032900  algorithm=UW-OSEM
15:33:01.032939  use LUT=no
15:33:01.033143  time of flight bins=1
15:33:01.033193  initialize forward-projector
15:33:01.033237   angles of segment 0
15:33:01.033281    plane 0-206: 0 degrees
15:33:01.033543  start forward projection
15:33:01.007130   start forward projection of subset 0 from 128x128x207 to 256x288x207
15:33:01.007250    project segment 0
15:33:04.013306   finished forward projection of subset 0 in 3.07031 sec
15:33:04.031233   scale 207 planes of sinogram by 0.410256
15:33:04.061199  finished forward projection in 3.22656 sec
15:33:04.061307  convert emission into transmission data
15:33:05.010533  span=9
15:33:05.010663  maximum ring difference=67
15:33:05.010731  iFORE sinogram 1 from 256x288x207 to 256x288x2209
15:33:05.010912   replace values below 1 by 1
15:33:05.031816   copy 207 planes of segment 0
15:33:05.041497   create 360 degrees sinogram (512x576x207)
15:33:06.000668   calculate 3d fourier transform of sinogram
15:33:09.018164   calculate 394 planes of axis 1
15:33:10.046684    calculate fourier projection of axis 1
15:33:13.061617    calculate inverse fourier transform of axis 1
15:33:17.019049    split axis 1 into 2 segments
15:33:17.048057    calculate weighting of axis 1
15:33:18.063894   finished with axis 1
15:33:18.064018   calculate 358 planes of axis 2
15:33:18.027331    calculate fourier projection of axis 2
15:33:22.043911    calculate inverse fourier transform of axis 2
15:33:25.054479    split axis 2 into 2 segments
15:33:25.008610    calculate weighting of axis 2
15:33:26.050606   finished with axis 2
15:33:26.050747   calculate 322 planes of axis 3
15:33:26.000433    calculate fourier projection of axis 3
15:33:29.012381    calculate inverse fourier transform of axis 3
15:33:33.035724    split axis 3 into 2 segments
15:33:33.043209    calculate weighting of axis 3
15:33:34.049633   finished with axis 3
15:33:34.049764   calculate 286 planes of axis 4
15:33:34.051602    calculate fourier projection of axis 4
15:33:37.032157    calculate inverse fourier transform of axis 4
15:33:40.011211    split axis 4 into 2 segments
15:33:41.055918    calculate weighting of axis 4
15:33:41.042029   finished with axis 4
15:33:41.042161   calculate 250 planes of axis 5
15:33:42.019457    calculate fourier projection of axis 5
15:33:45.048113    calculate inverse fourier transform of axis 5
15:33:48.041934    split axis 5 into 2 segments
15:33:48.028079    calculate weighting of axis 5
15:33:49.018861   finished with axis 5
15:33:49.018987   calculate 214 planes of axis 6
15:33:49.006953    calculate fourier projection of axis 6
15:33:52.022612    calculate inverse fourier transform of axis 6
15:33:55.002373    split axis 6 into 2 segments
15:33:55.048607    calculate weighting of axis 6
15:33:56.010014   finished with axis 6
15:33:56.010139   calculate 178 planes of axis 7
15:33:56.054859    calculate fourier projection of axis 7
15:33:58.039086    calculate inverse fourier transform of axis 7
15:34:00.026786    split axis 7 into 2 segments
15:34:00.062315    calculate weighting of axis 7
15:34:01.057728   finished with axis 7
15:34:01.047282  axes=8
15:34:01.047400  axis table=2209 {207,394,358,322,286,250,214,178}
15:34:01.047462  save 3d acf matrix 0 in file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.a
15:34:01.047523   write sinogram data file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.a (matrix 0)
15:34:02.049449   write sinogram header file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.h33 (matrix 0)
15:34:02.031786  
15:34:02.031918 gantry model values that may have been used:
15:34:02.031966  model number=328
15:34:02.032012  defaultElements()=256
15:34:02.032071  binSize()=0.121875cm
15:34:02.032117  defaultAngles()=288
15:34:02.032162  planeSep()=0.121875cm
15:34:02.032209  crystalRadius()=23.45cm
15:34:02.032255  sinogramDepthOfInteraction()=0cm
15:34:02.032302  sinogramIntrinsicTilt()=0 degrees
15:34:02.032342  isRingArch()=false
15:34:02.032381  isPETOnlyArch()=true
15:34:02.032425  defPlaneDefSpan3D()=3
15:34:02.032469  defRingDiffMax()=67
15:34:02.032511  bucketsPerRing()=unknown
15:34:02.032556  bucketRings()=1
15:34:02.032600  axialBlocks()=13
15:34:02.032644  transBlocks()=9
15:34:02.032688  axialCrystals()=8
15:34:02.032732  transCrystals()=8
15:34:02.032776  axialBlockGaps()=0
15:34:02.032819  transBlockGaps()=0
15:34:02.032862  directPlanes()=104
15:34:02.032913  defaultLLD()=400 keV
15:34:02.032958  defaultULD()=650 keV
15:34:02.033002  nCrystalLayers()=2
15:34:02.033049   crystalLayerMaterial(0)=LSO
15:34:02.033122   crystalLayerBackgroundErgRatio(0)=12%
15:34:02.033175   crystalLayerFWHMErgRes(0)=17%
15:34:02.033224   crystalLayerDepth(0)=1cm
15:34:02.033271   crystalLayerMaterial(1)=LYSO
15:34:02.033326   crystalLayerBackgroundErgRatio(1)=12%
15:34:02.033377   crystalLayerFWHMErgRes(1)=17%
15:34:02.033426   crystalLayerDepth(1)=1cm
15:34:02.033473  maxScatterZfOV()=40cm
15:34:02.033512  
15:34:02.033570 processing time 00:01:01.21094 (hh:mm:ss)
15:34:02.033637 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:34:02.033694 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:34:02.033739 memory access pattern: 36 entries
15:34:02.033779  
15:34:03.056396 unknown (0x)    memory: 0 MByte
15:34:03.056509 code compiled on: Dec  3 2010 16:34:54 (GMT-5:00)
15:34:03.056562 Revision: 275.1
15:34:03.056621 current date and time (GMT): Sat Dec  4 20:34:03 2010
15:34:03.056687 command line: e7_sino_u -e GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29.tr.s -u GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.i -w 128 -a GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.a -n /home/rahmim/norm/norm_090605_090917_9.n --force --os GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_sc_ATX.s --os2d --gf --model 328 --skip 2 --mrd 67 --span 9 --ssf 0.25,2 -l 73,/home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/log -q /home/rahmim/motion_studies/GAMBLE_AKAIA/windows_histogram/qc --lber 14 --athr 1.03,4 
15:34:03.056775 free memory in memory controller: 9541.25 MByte
15:34:03.056939 memory access pattern found
15:34:03.056996 free memory in memory controller: 9541.25 MByte
15:34:03.057073 Default crystalLayerBackgroundErgRatio: 12,12
15:34:03.057140 Specified crystalLayerBackgroundErgRatio: 14,14
15:34:04.042559 calculate sinogram for 1 matrix
15:34:04.042674  loading the 3d emission scan (matrix 0)
15:34:04.042730   load sinogram 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29.tr.s'
15:34:04.042779    matrix number=0
15:34:07.047079    RhoSamples=256
15:34:07.047208    BinSizeRho=1.21875mm
15:34:07.047267    ThetaSamples=288
15:34:07.047317    mash factor=0
15:34:07.047367    plane separation=1.21875mm
15:34:07.047415    axes=8
15:34:07.047482    axis table=2209 {207,394,358,322,286,250,214,178}
15:34:07.047531    span=9
15:34:07.047577    maximum ring difference=67
15:34:07.047626    intrinsic tilt=0 degrees
15:34:07.047676    bed position=0mm
15:34:07.047725    scan start time=0 sec
15:34:07.047779    scan frame duration=0 sec (0 min)
15:34:07.047853    scan gate duration=0 sec (0 min)
15:34:07.047900    isotope halflife=0 sec
15:34:07.047944    lld=400 KeV
15:34:07.047987    uld=650 KeV
15:34:07.048027    corrections applied=
15:34:07.048089  calculating the 3d normalisation scan (matrix 0)
15:34:07.048144   load norm '/home/rahmim/norm/norm_090605_090917_9.n'
15:34:07.009428    matrix number=0
15:34:07.009535    RhoSamples=256
15:34:07.009609    BinSizeRho=1.21875mm
15:34:07.009647    ThetaSamples=288
15:34:07.009685    mash factor=0
15:34:07.009723    plane separation=1.21875mm
15:34:07.009761    axes=8
15:34:07.009815    axis table=2209 {207,394,358,322,286,250,214,178}
15:34:07.009853    span=9
15:34:07.009890    maximum ring difference=67
15:34:07.009928    intrinsic tilt=0 degrees
15:34:07.009966    bed position=0mm
15:34:07.010004    scan start time=0 sec
15:34:07.010048    scan frame duration=0 sec (0 min)
15:34:07.010091    scan gate duration=0 sec (0 min)
15:34:07.010130    isotope halflife=0 sec
15:34:07.010167    lld=400 KeV
15:34:07.010203    uld=650 KeV
15:34:07.010237    corrections applied=
15:34:07.010278  normalize 3d emission
15:34:07.010325   multiply sinograms
15:34:09.039800  normalization based gap filling
15:34:09.045920    fill 207 planes 8 threads
15:34:09.062205    fill 394 planes 8 threads
15:34:09.012010    fill 358 planes 8 threads
15:34:10.045850    fill 322 planes 8 threads
15:34:10.026159    fill 286 planes 8 threads
15:34:10.055088    fill 250 planes 8 threads
15:34:10.006670    fill 214 planes 8 threads
15:34:11.030532    fill 178 planes 8 threads
15:34:11.045486   bed position in emission=0mm
15:34:11.045667   bed position in u-map=0mm
15:34:11.045771   bed position in acf=0mm
15:34:11.045841  loading the µ-map (matrix 0) from file GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.i
15:34:11.045897   load image 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.i'
15:34:11.045964    matrix number=0
15:34:11.064992    XYSamples=128
15:34:11.065123    DeltaXY=2.4375mm
15:34:11.065171    ZSamples=207
15:34:11.065219    DeltaZ=1.21875mm
15:34:11.065261    corrections applied=
15:34:11.065303    u-map data=yes
15:34:11.065351    bed position=0mm
15:34:11.065398    scan start time=0 sec
15:34:11.065452    scan frame duration=0 sec (0 min)
15:34:11.065506    scan gate duration=0 sec (0 min)
15:34:11.000018    isotope halflife=0 sec
15:34:11.000065    lld=0 KeV
15:34:11.000112    uld=0 KeV
15:34:11.000159  loading the acf (matrix 0)
15:34:11.000215   load sinogram 'GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.a'
15:34:11.000266    matrix number=0
15:34:12.062695    RhoSamples=256
15:34:12.062818    BinSizeRho=1.21875mm
15:34:12.062859    ThetaSamples=288
15:34:12.062900    mash factor=0
15:34:12.062941    plane separation=1.21875mm
15:34:12.062981    axes=8
15:34:12.063041    axis table=2209 {207,394,358,322,286,250,214,178}
15:34:12.063082    span=9
15:34:12.063121    maximum ring difference=67
15:34:12.063162    intrinsic tilt=0 degrees
15:34:12.063204    bed position=0mm
15:34:12.063245    scan start time=0 sec
15:34:12.063302    scan frame duration=0 sec (0 min)
15:34:12.063351    scan gate duration=0 sec (0 min)
15:34:12.063393    isotope halflife=0 sec
15:34:12.063433    lld=400 KeV
15:34:12.063473    uld=650 KeV
15:34:12.063508    corrections applied=
15:34:12.063567  replace values below 1 by 1
15:34:12.018733  estimate scatter sinogram
15:34:12.032572   counts in image: min=0  max=0.155537  total=52925
15:34:12.032732   start single-slice rebinning from 256x288x2209 to 256x288x207
15:34:12.032771   initialize SSR
15:34:12.032812    RhoSamples=256
15:34:12.032851    ThetaSamples=288
15:34:12.032891    axes=8
15:34:12.032949    axis table=2209 {207,394,358,322,286,250,214,178}
15:34:12.037848    skip 2 planes at each side of a segment
15:34:12.037971    calculate e*n*a of axis 0 (skip 2 border planes)
15:34:12.038018     calculate axis 0 of corrected sinogram
15:34:12.039710    calculate single-slice rebinning of axis 0
15:34:12.039834    ssr 203 planes
15:34:12.030612    calculate e*n*a of axis 1 (skip 2 border planes)
15:34:12.030736     calculate axis 1 of corrected sinogram
15:34:12.007471    calculate single-slice rebinning of axis 1
15:34:12.007598    ssr 193 planes
15:34:12.024833    calculate e*n*a of axis 2 (skip 2 border planes)
15:34:12.024936     calculate axis 2 of corrected sinogram
15:34:13.024167    calculate single-slice rebinning of axis 2
15:34:13.024291    ssr 175 planes
15:34:13.034132    calculate e*n*a of axis 3 (skip 2 border planes)
15:34:13.034268     calculate axis 3 of corrected sinogram
15:34:13.026952    calculate single-slice rebinning of axis 3
15:34:13.027080    ssr 157 planes
15:34:13.029538    calculate e*n*a of axis 4 (skip 2 border planes)
15:34:13.029643     calculate axis 4 of corrected sinogram
15:34:13.000984    calculate single-slice rebinning of axis 4
15:34:13.001106    ssr 139 planes
15:34:13.061517    calculate e*n*a of axis 5 (skip 2 border planes)
15:34:13.061623     calculate axis 5 of corrected sinogram
15:34:13.013421    calculate single-slice rebinning of axis 5
15:34:13.013547    ssr 121 planes
15:34:13.000247    calculate e*n*a of axis 6 (skip 2 border planes)
15:34:13.000362     calculate axis 6 of corrected sinogram
15:34:13.060203    calculate single-slice rebinning of axis 6
15:34:13.060326    ssr 103 planes
15:34:14.023931    calculate e*n*a of axis 7 (skip 2 border planes)
15:34:14.024038     calculate axis 7 of corrected sinogram
15:34:14.064179    calculate single-slice rebinning of axis 7
15:34:14.064298    ssr 85 planes
15:34:14.035736    normalize sinogram
15:34:14.023270   finished single-slice rebinning in 1.99219 sec
15:34:14.023392   start AW-OSEM reconstruction (3 iterations, 8 subsets) of emission from 256x288x207 to 128x128x207
15:34:14.023454    XYSamples=128
15:34:14.023497    DeltaXY=2.4375mm
15:34:14.023538    RhoSamples=256
15:34:14.023580    BinSizeRho=1.21875mm
15:34:14.023621    ThetaSamples=288
15:34:14.023662    plane separation=1.21875mm
15:34:14.023711    shift center of rotation by 0 bins (sinogram was rebinned by factor 1)
15:34:14.023754    subsets=8
15:34:14.023793    axes=1
15:34:14.023838    axis table=207 {207}
15:34:14.023876    algorithm=AW-OSEM
15:34:14.023914    use LUT=small
15:34:14.024084    initialize backprojector
15:34:14.024167     angle of segment 0: 0 degrees
15:34:14.024399     create mode 1 lookup-table for backprojector: 63 MByte
15:34:14.016563     shrink mode 1 lookup-table for backprojector: 44.6814 MByte
15:34:14.002226     start calculation of normalization factors for AW-OSEM
15:34:14.002418      allocate 103.5 MByte for normalization factors
15:34:14.002470      start calculation of normalization factors for subset 0
15:34:14.017268       calculate segment 0, subset 0 of 1/a sinogram
15:34:14.040645       backproject segment 0, subset 0 of sinogram from 256x288x207 to 128x128x207
15:34:14.061222      finished calculation of normalization factors for subset 0 in 0.125 sec
15:34:14.061327      start calculation of normalization factors for subset 1
15:34:14.012631       calculate segment 0, subset 1 of 1/a sinogram
15:34:14.031489       backproject segment 0, subset 1 of sinogram from 256x288x207 to 128x128x207
15:34:14.048551      finished calculation of normalization factors for subset 1 in 0.117188 sec
15:34:14.048659      start calculation of normalization factors for subset 2
15:34:14.063854       calculate segment 0, subset 2 of 1/a sinogram
15:34:14.016160       backproject segment 0, subset 2 of sinogram from 256x288x207 to 128x128x207
15:34:14.043773      finished calculation of normalization factors for subset 2 in 0.128906 sec
15:34:14.043887      start calculation of normalization factors for subset 3
15:34:14.003880       calculate segment 0, subset 3 of 1/a sinogram
15:34:14.021945       backproject segment 0, subset 3 of sinogram from 256x288x207 to 128x128x207
15:34:14.015355      finished calculation of normalization factors for subset 3 in 0.101562 sec
15:34:14.015449      start calculation of normalization factors for subset 4
15:34:14.031442       calculate segment 0, subset 4 of 1/a sinogram
15:34:14.049108       backproject segment 0, subset 4 of sinogram from 256x288x207 to 128x128x207
15:34:15.014895      finished calculation of normalization factors for subset 4 in 0.148438 sec
15:34:15.014989      start calculation of normalization factors for subset 5
15:34:15.032794       calculate segment 0, subset 5 of 1/a sinogram
15:34:15.050383       backproject segment 0, subset 5 of sinogram from 256x288x207 to 128x128x207
15:34:15.035528      finished calculation of normalization factors for subset 5 in 0.152344 sec
15:34:15.035622      start calculation of normalization factors for subset 6
15:34:15.050856       calculate segment 0, subset 6 of 1/a sinogram
15:34:15.003649       backproject segment 0, subset 6 of sinogram from 256x288x207 to 128x128x207
15:34:15.038157      finished calculation of normalization factors for subset 6 in 0.132812 sec
15:34:15.038261      start calculation of normalization factors for subset 7
15:34:15.058155       calculate segment 0, subset 7 of 1/a sinogram
15:34:15.011457       backproject segment 0, subset 7 of sinogram from 256x288x207 to 128x128x207
15:34:15.016606      finished calculation of normalization factors for subset 7 in 0.109375 sec
15:34:15.016731     finished calculation of normalization factors in 1.01562 sec
15:34:15.016772    divide sinograms
15:34:15.044747    initialize forward-projector
15:34:15.044877     angles of segment 0
15:34:15.044921      plane 0-206: 0 degrees
15:34:15.045164     create mode 1 lookup-table for forward-projector: 126 MByte
15:34:15.028109     shrink mode 1 lookup-table for forward-projector: 81.2993 MByte
15:34:16.016141     start reconstruction from 256x288x207 to 128x128x207
15:34:16.016265      subset order for OSEM reconstruction: 0 4 2 6 1 5 3 7 
15:34:16.027492      start iteration 1, subset 0
15:34:16.050886      finished iteration 1, subset 0 in 0.285156 sec
15:34:16.050994      start iteration 1, subset 4
15:34:16.041830      finished iteration 1, subset 4 in 0.320312 sec
15:34:16.041943      start iteration 1, subset 2
15:34:16.052478      finished iteration 1, subset 2 in 0.273438 sec
15:34:16.052591      start iteration 1, subset 6
15:34:17.027448      finished iteration 1, subset 6 in 0.316406 sec
15:34:17.027550      start iteration 1, subset 1
15:34:17.057974      finished iteration 1, subset 1 in 0.292969 sec
15:34:17.058077      start iteration 1, subset 5
15:34:17.017049      finished iteration 1, subset 5 in 0.289062 sec
15:34:17.017162      start iteration 1, subset 3
15:34:18.022072      finished iteration 1, subset 3 in 0.21875 sec
15:34:18.022175      start iteration 1, subset 7
15:34:18.059494      finished iteration 1, subset 7 in 0.296875 sec
15:34:18.059619      start iteration 2, subset 0
15:34:18.040872      finished iteration 2, subset 0 in 0.375 sec
15:34:18.040994      start iteration 2, subset 4
15:34:19.039782      finished iteration 2, subset 4 in 0.34375 sec
15:34:19.039896      start iteration 2, subset 2
15:34:19.029419      finished iteration 2, subset 2 in 0.253906 sec
15:34:19.029546      start iteration 2, subset 6
15:34:19.013212      finished iteration 2, subset 6 in 0.246094 sec
15:34:19.013329      start iteration 2, subset 1
15:34:19.035866      finished iteration 2, subset 1 in 0.28125 sec
15:34:19.035988      start iteration 2, subset 5
15:34:20.050145      finished iteration 2, subset 5 in 0.226562 sec
15:34:20.050249      start iteration 2, subset 3
15:34:20.063545      finished iteration 2, subset 3 in 0.210938 sec
15:34:20.063646      start iteration 2, subset 7
15:34:20.031542      finished iteration 2, subset 7 in 0.292969 sec
15:34:20.031655      start iteration 3, subset 0
15:34:20.004454      finished iteration 3, subset 0 in 0.433594 sec
15:34:20.004556      start iteration 3, subset 4
15:34:21.065213      finished iteration 3, subset 4 in 0.273438 sec
15:34:21.065317      start iteration 3, subset 2
15:34:21.032255      finished iteration 3, subset 2 in 0.292969 sec
15:34:21.032377      start iteration 3, subset 6
15:34:21.048878      finished iteration 3, subset 6 in 0.277344 sec
15:34:21.048992      start iteration 3, subset 1
15:34:22.032207      finished iteration 3, subset 1 in 0.195312 sec
15:34:22.032310      start iteration 3, subset 5
15:34:22.044066      finished iteration 3, subset 5 in 0.210938 sec
15:34:22.044171      start iteration 3, subset 3
15:34:22.059365      finished iteration 3, subset 3 in 0.277344 sec
15:34:22.059468      start iteration 3, subset 7
15:34:22.023552      finished iteration 3, subset 7 in 0.226562 sec
15:34:22.023708      mask 207 planes of image
15:34:22.037812      scale image with 1.21875
15:34:22.044399      scale image with 4
15:34:22.051194     finished reconstruction in 6.75781 sec
15:34:22.051287     forward projector: 3.46094 sec
15:34:22.051329     backprojector: 2.32812 sec
15:34:22.061472   finished reconstruction of emission in 8.49609 sec
15:34:22.061585   gauss filter in x-,y- and z-direction (2.4375mm,2.4375mm)
15:34:22.003539   scale image by 4.10256
15:34:22.021145   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:34:22.021262   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:34:22.021333   size of emission image: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:34:22.021393   size of u-map: 128x128x207 (2.4375mm x 2.4375mm x 1.21875mm)
15:34:22.021431   start scatter estimation
15:34:22.021483    calculate matrix for beta-spline interpolation
15:34:22.030817    start scatter simulation
15:34:22.030889     effective detector ring radius=234.5mm (234.5mm+0mm)
15:34:22.030932     DeltaXY=2.4375mm
15:34:22.030974     DeltaZ=1.21875mm
15:34:22.031026     LLD=400 keV
15:34:22.031068     ULD=650 keV
15:34:22.040689     search bounds of object in u-map
15:34:22.065273     x bounds (-x,+x)=-91.4038mm,91.4038mm
15:34:22.065386     y bounds (-y,+y)=-110.904mm,132.841mm
15:34:22.065434     z bounds (-z,+z)=-50.5769mm,126.139mm
15:34:22.065484     length of axial scatter fov=353.428mm (max. 353.428mm)
15:34:22.065533     scatter samples (x,y,z)=8,11,16
15:34:22.000048     image size (x,y,z)=182.808mm,243.745mm,353.428mm
15:34:22.000101     scatter_grid size (x,y,z)=22.851mm,22.1586mm,22.0892mm
15:34:23.030895     start simulation of scatter sinogram (19x34x10)
15:34:23.031118      thread 3: calculate scatter sinogram for planes 2-2 (1408 samples per plane)
15:34:23.031188      thread 1: calculate scatter sinogram for planes 0-0 (1408 samples per plane)
15:34:23.031297      thread 2: calculate scatter sinogram for planes 1-1 (1408 samples per plane)
15:34:23.031388      thread 1: 289 samples in plane 0 inside of object (plane 8 of full sinogram)
15:34:23.031466      thread 6: calculate scatter sinogram for planes 5-5 (1408 samples per plane)
15:34:23.031552      thread 8: calculate scatter sinogram for planes 8-9 (1408 samples per plane)
15:34:23.031635      thread 5: calculate scatter sinogram for planes 4-4 (1408 samples per plane)
15:34:23.031741      thread 2: 377 samples in plane 1 inside of object (plane 29 of full sinogram)
15:34:23.031820      thread 4: calculate scatter sinogram for planes 3-3 (1408 samples per plane)
15:34:23.031989      thread 4: 500 samples in plane 3 inside of object (plane 71 of full sinogram)
15:34:23.036480      thread 7: calculate scatter sinogram for planes 6-7 (1408 samples per plane)
15:34:23.036813      thread 7: 494 samples in plane 6 inside of object (plane 134 of full sinogram)
15:34:23.036943      thread 5: 494 samples in plane 4 inside of object (plane 92 of full sinogram)
15:34:23.043581      thread 8: 506 samples in plane 8 inside of object (plane 176 of full sinogram)
15:34:23.050362      thread 3: 456 samples in plane 2 inside of object (plane 50 of full sinogram)
15:34:23.033024      thread 6: 497 samples in plane 5 inside of object (plane 113 of full sinogram)
15:34:23.057906      thread 7: 496 samples in plane 7 inside of object (plane 155 of full sinogram)
15:34:23.059389      thread 8: 491 samples in plane 9 inside of object (plane 197 of full sinogram)
15:34:23.059910     finished simulation of scatter sinogram
15:34:23.006559    finished scatter simulation in 0.253906 sec
15:34:23.006691    calculate beta-spline interpolation from 17x34x10 to 256x288x207
15:34:24.029702   finished scatter estimation in 1.48438 sec
15:34:24.029785   convert 2d scatter sinogram into 3d sinogram
15:34:24.029829   calculate axial scatter scale factors (smoothed with boxcar 17)
15:34:24.029894    acf threshold=1.03
15:34:24.009457    calculate scale factors for segment 0
15:34:24.017440    scatter size 256x288x207
15:34:24.053628     apply lower and upper thresholds 0.25 and 2
15:34:24.053739    calculate scale factors for segment +1
15:34:24.053794    scatter size 256x288x197
15:34:24.011997     apply lower and upper thresholds 0.25 and 2
15:34:24.012099    calculate scale factors for segment -1
15:34:24.012155    scatter size 256x288x197
15:34:25.015690     apply lower and upper thresholds 0.25 and 2
15:34:25.015794    calculate scale factors for segment +2
15:34:25.015850    scatter size 256x288x179
15:34:25.023824     apply lower and upper thresholds 0.25 and 2
15:34:25.023936    calculate scale factors for segment -2
15:34:25.023994    scatter size 256x288x179
15:34:25.028917     apply lower and upper thresholds 0.25 and 2
15:34:25.029020    calculate scale factors for segment +3
15:34:25.029078    scatter size 256x288x161
15:34:25.021052     apply lower and upper thresholds 0.25 and 2
15:34:25.021155    calculate scale factors for segment -3
15:34:25.021212    scatter size 256x288x161
15:34:25.009289     apply lower and upper thresholds 0.25 and 2
15:34:25.009417    calculate scale factors for segment +4
15:34:25.009472    scatter size 256x288x143
15:34:25.050767     apply lower and upper thresholds 0.25 and 2
15:34:25.050875    calculate scale factors for segment -4
15:34:25.050931    scatter size 256x288x143
15:34:25.024170     apply lower and upper thresholds 0.25 and 2
15:34:25.024272    calculate scale factors for segment +5
15:34:25.024326    scatter size 256x288x125
15:34:25.053842     apply lower and upper thresholds 0.25 and 2
15:34:25.053943    calculate scale factors for segment -5
15:34:25.053999    scatter size 256x288x125
15:34:26.061327     apply lower and upper thresholds 0.25 and 2
15:34:26.061429    calculate scale factors for segment +6
15:34:26.061483    scatter size 256x288x107
15:34:26.012833     apply lower and upper thresholds 0.25 and 2
15:34:26.012938    calculate scale factors for segment -6
15:34:26.012994    scatter size 256x288x107
15:34:26.022512     apply lower and upper thresholds 0.25 and 2
15:34:26.022613    calculate scale factors for segment +7
15:34:26.022669    scatter size 256x288x89
15:34:26.018991     apply lower and upper thresholds 0.25 and 2
15:34:26.019089    calculate scale factors for segment -7
15:34:26.019146    scatter size 256x288x89
15:34:26.013889     apply lower and upper thresholds 0.25 and 2
15:34:34.000432   scatter fraction at first pass=41.5896%
15:34:34.028301  save unscaled 2d scatter matrix 0 in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_sc_ATX.s
15:34:34.028430   write sinogram data file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_sc_ATX.s (matrix 0)
15:34:34.052387   write sinogram header file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_sc_ATX.h33 (matrix 0)
15:34:34.052740  Append 2209 scale factors in file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_sc_ATX.s
15:34:34.000157  
15:34:34.000262 gantry model values that may have been used:
15:34:34.000309  model number=328
15:34:34.000356  defaultElements()=256
15:34:34.000414  binSize()=0.121875cm
15:34:34.000460  defaultAngles()=288
15:34:34.000514  planeSep()=0.121875cm
15:34:34.000562  crystalRadius()=23.45cm
15:34:34.000608  sinogramDepthOfInteraction()=0cm
15:34:34.000656  sinogramIntrinsicTilt()=0 degrees
15:34:34.000697  isRingArch()=false
15:34:34.000736  isPETOnlyArch()=true
15:34:34.000781  defPlaneDefSpan3D()=3
15:34:34.000826  defRingDiffMax()=67
15:34:34.000870  bucketsPerRing()=unknown
15:34:34.000915  bucketRings()=1
15:34:34.000960  axialBlocks()=13
15:34:34.001005  transBlocks()=9
15:34:34.001064  axialCrystals()=8
15:34:34.001109  transCrystals()=8
15:34:34.001173  axialBlockGaps()=0
15:34:34.001216  transBlockGaps()=0
15:34:34.001257  directPlanes()=104
15:34:34.001300  defaultLLD()=400 keV
15:34:34.001342  defaultULD()=650 keV
15:34:34.001384  nCrystalLayers()=2
15:34:34.001430   crystalLayerMaterial(0)=LSO
15:34:34.001500   crystalLayerBackgroundErgRatio(0)=14%
15:34:34.001550   crystalLayerFWHMErgRes(0)=17%
15:34:34.001598   crystalLayerDepth(0)=1cm
15:34:34.001652   crystalLayerMaterial(1)=LYSO
15:34:34.001704   crystalLayerBackgroundErgRatio(1)=14%
15:34:34.001752   crystalLayerFWHMErgRes(1)=17%
15:34:34.001798   crystalLayerDepth(1)=1cm
15:34:34.001842  maxScatterZfOV()=40cm
15:34:34.001877  
15:34:34.043747 processing time 00:00:30.9219 (hh:mm:ss)
15:34:34.043895 swapped out: 0 MBytes (00:00:00 (hh:mm:ss))
15:34:34.043957 swapped in: 0 MBytes (00:00:00 (hh:mm:ss))
15:34:34.044002 memory access pattern: 411 entries
15:34:34.044040  

hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47

 Hardware information: 
  Total RAM: 3915972608
  Free RAM: 1695358976
15:34:36	hrrt_osem3d sw_version HRRT_U 1.1 Build Dec  2 2010 11:44:47
OSEM3D weighted reconstruction for parallel projections in flat file format
  Starting from a uniform image 
15:34:36	  Input scatter scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_sc_ATX.s
15:34:36	  Input prompt scan    : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29.s
15:34:36	  Input delayed scan   : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29.ch
15:34:36	  Normalization        : /home/rahmim/norm/norm_090605_090917_9.n
15:34:36	  Attenuation          : GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.a
15:34:36	  Output image         : GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_3D_ATX.i
15:34:36	  Method               : OPO3D
15:34:36	  Positivity constraint in sinogram space
15:34:36	  Max of sensitivity image      : 1.000000e+04
15:34:36	  Threshold for missing data    : 1.000000e-04
15:34:36	  Threshold for image update    : 1.000000e-10
15:34:36	  Maximum of image      	: 10000000000.000000
15:34:36	  Reconstruction with 16 subsets and 10 iteration(s) with PSF

 normfac_img:normfac256.i
 calnormfacFlag:015:34:36	Model 999 
15:34:36	  Triming 3 planes at segment edges 
15:34:36	  z_min max : 6 200 npskip 3
  Pixels in rfov [46441]
threads 0	0	7
threads 1	52	7
threads 2	28	7
threads 3	26	7
total num 30464
15:34:36	computing  GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_ra_smo.s , scan duration 300
Geometry configured for HRRT (8 heads of radius 23.45 cm.)
  crystal x,y pitches (cm) = 0.2438, 0.2438
  x_head_center = 8.6531 cm
maxseg=22
Using Rebinner LUT file /home/rahmim/hrrt_open_2010-10-15_r234/libraries/hrrt_rebinner.lut

csings computed from drates in 8 iterations (23 msec)
1	555 msec   
2	3219 msec   
3	3429 msec   
4	3166 msec   
5	579 msec   
Smooth Delays computed in 11649 msec.
...reduced in 6 msec   
  Read delayed 
...stored to disk in 4589 msec.
Total time 16238 msec.
15:34:52	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.a: attenuation file size 651460608
15:34:52	expected file size 256x288x2209(2209)
15:34:52	GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX_fr29.a: attenuation file type 0
15:34:52	  Reconstruction with 16 subsets and 10 iteration(s) 
fwhm1 0.000000 0.000000 0.000000
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
 make1d_psf_filter> default PSF parameters for the HRRT: Gauss 1 fwhm = 2.11934 [mm], Gauss 2 fwhm = 5.88705 [mm], ratio = 0.05
 make1d_psf_filter> kernel size is 13 pixels (15.8438 mm)
0	0.000329
1	0.001216
2	0.003544
3	0.008265
4	0.026863
5	0.210716
6	0.498135
7	0.210716
8	0.026863
9	0.008265
10	0.003544
11	0.001216
12	0.000329
15:34:53	  *** WARNING *** Reuse normfac (sensitivity) previously created ; Care should be taken that it contains the correct information 
15:34:53	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_3D_ATX.i reconstruction started
15:34:53	  Prepare components of update equation from input data ...
15:34:57	  Read normalization and normalize delayed
15:34:57	  Apply normalization mask to prompt sinogram
15:35:01	  Preparation done in 8 sec
verbose 0
  Subset order :   0    8    1    9    2    10    3    11    4    12    5    13    6    14    7    15  
15:35:27	  Iteration 1 in 84.150 sec
15:35:52	  Iteration 2 in 85.020 sec
15:36:18	  Iteration 3 in 86.560 sec
15:36:44	  Iteration 4 in 83.520 sec
15:37:09	  Iteration 5 in 84.480 sec
15:37:35	  Iteration 6 in 83.330 sec
15:38:00	  Iteration 7 in 84.080 sec
15:38:25	  Iteration 8 in 84.340 sec
15:38:51	  Iteration 9 in 84.720 sec
15:39:16	  Iteration 10 in 84.590 sec
  ... writing flat image at index 0 (offset 0)
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_3D_ATX.i'
WriteImageHeader: Image file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_3D_ATX.i' found!
WriteImageHeader: prompt sinoHeaderName is GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29.s.hdr
WriteImageHeader: File 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_3D_ATX.i.hdr' open ok!
WriteImageHeader: image 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_3D_ATX.i' complete
15:39:17	  Osem3d GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame29_3D_ATX.i reconstruction done in 280 sec

if2e7 version 2.4.3 started at Sat Dec  4 15:39:18 2010
verbose mode on 
deadtimeExponent: 0.000009
processing image GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_3D.i
file name extension is .i
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_frame0_3D.i.hdr: Can't open file
Error opening GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX.v
matcopy: can't open file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX.v'
matcopy: can't open file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX.v'
matcopy: can't open file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX.v'
matcopy: can't open file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX.v'
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr4.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr5.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr6.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr7.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr8.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr9.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr10.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr11.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr12.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr13.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr14.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr15.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr16.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr17.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
matcopy: can't open file 'GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX.v'
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr19.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr20.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr21.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr22.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr23.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr24.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr25.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr26.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr27.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr28.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_6mm.v : error opening file
ecat_do_reslice.c: 92: Problem with file GAMBLE-AKAIA-12159-2009.7.30.8.28.46_EM_3D_ATX_fr29.air
The specified file does not exist. (AIR_NO_FILE_READ_ERROR)
scanner model HRRT 
Use GAMBLE-AKAIA-9491-2009.7.30.8.15.9_TX.i mask to find for image extrema
